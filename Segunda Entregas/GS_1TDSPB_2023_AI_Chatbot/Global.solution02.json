<!DOCTYPE html>
<!-- saved from url=(0044)http://127.0.0.1:1880/#flow/862f4a647838aac0 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style id="autocompletion.css">.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}
/*# sourceURL=ace/css/autocompletion.css */</style><style>.ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style id="ace_editor.css">.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}
/*# sourceURL=ace/css/ace_editor.css */</style>

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<!--
  Copyright OpenJS Foundation and other contributors, https://openjsf.org/

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<title>Node-RED</title>
<link rel="icon" type="image/png" href="http://127.0.0.1:1880/favicon.ico">
<link rel="mask-icon" href="http://127.0.0.1:1880/red/images/node-red-icon-black.svg" color="#8f0000">
<link rel="stylesheet" href="./Global.solution02_files/jquery-ui.min.css">
<link rel="stylesheet" href="./Global.solution02_files/font-awesome.min.css">
<link rel="stylesheet" href="./Global.solution02_files/style.min.css">
<link rel="stylesheet" href="./Global.solution02_files/style.css">
<style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .accessibilityHelpWidget {
	padding: 10px;
	vertical-align: middle;
	overflow: scroll;
	color: var(--vscode-editorWidget-foreground);
	background-color: var(--vscode-editorWidget-background);
	box-shadow: 0 2px 8px var(--vscode-widget-shadow);
	border: 2px solid var(--vscode-contrastBorder);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-aria-container {
	position: absolute; /* try to hide from window but not from screen readers */
	left:-999em;
}</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .selection-anchor {
	background-color: #007ACC;
	width: 2px !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .bracket-match {
	box-sizing: border-box;
	background-color: var(--vscode-editorBracketMatch-background);
	border: 1px solid var(--vscode-editorBracketMatch-border);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

@font-face {
	font-family: "codicon";
	font-display: block;
	src: url(http://127.0.0.1:1880/vendor/monaco/dist/fa2cc0ab9f0bec2b3365.ttf) format("truetype");
}

.codicon[class*='codicon-'] {
	font: normal normal normal 16px/1 codicon;
	display: inline-block;
	text-decoration: none;
	text-rendering: auto;
	text-align: center;
	text-transform: none;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	user-select: none;
	-webkit-user-select: none;
}

/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.codicon-wrench-subaction {
	opacity: 0.5;
}

@keyframes codicon-spin {
	100% {
		transform:rotate(360deg);
	}
}

.codicon-sync.codicon-modifier-spin,
.codicon-loading.codicon-modifier-spin,
.codicon-gear.codicon-modifier-spin,
.codicon-notebook-state-executing.codicon-modifier-spin {
	/* Use steps to throttle FPS to reduce CPU usage */
	animation: codicon-spin 1.5s steps(30) infinite;
}

.codicon-modifier-disabled {
	opacity: 0.4;
}

/* custom speed & easing for loading icon */
.codicon-loading,
.codicon-tree-item-loading::before {
	animation-duration: 1s !important;
	animation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .codicon.codicon-symbol-array,
.monaco-workbench .codicon.codicon-symbol-array { color: var(--vscode-symbolIcon-arrayForeground); }
.monaco-editor .codicon.codicon-symbol-boolean,
.monaco-workbench .codicon.codicon-symbol-boolean { color: var(--vscode-symbolIcon-booleanForeground); }
.monaco-editor .codicon.codicon-symbol-class,
.monaco-workbench .codicon.codicon-symbol-class { color: var(--vscode-symbolIcon-classForeground); }
.monaco-editor .codicon.codicon-symbol-method,
.monaco-workbench .codicon.codicon-symbol-method { color: var(--vscode-symbolIcon-methodForeground); }
.monaco-editor .codicon.codicon-symbol-color,
.monaco-workbench .codicon.codicon-symbol-color { color: var(--vscode-symbolIcon-colorForeground); }
.monaco-editor .codicon.codicon-symbol-constant,
.monaco-workbench .codicon.codicon-symbol-constant { color: var(--vscode-symbolIcon-constantForeground); }
.monaco-editor .codicon.codicon-symbol-constructor,
.monaco-workbench .codicon.codicon-symbol-constructor { color: var(--vscode-symbolIcon-constructorForeground); }
.monaco-editor .codicon.codicon-symbol-value,
.monaco-workbench .codicon.codicon-symbol-value,
.monaco-editor .codicon.codicon-symbol-enum,
.monaco-workbench .codicon.codicon-symbol-enum { color: var(--vscode-symbolIcon-enumeratorForeground); }
.monaco-editor .codicon.codicon-symbol-enum-member,
.monaco-workbench .codicon.codicon-symbol-enum-member { color: var(--vscode-symbolIcon-enumeratorMemberForeground); }
.monaco-editor .codicon.codicon-symbol-event,
.monaco-workbench .codicon.codicon-symbol-event { color: var(--vscode-symbolIcon-eventForeground); }
.monaco-editor .codicon.codicon-symbol-field,
.monaco-workbench .codicon.codicon-symbol-field { color: var(--vscode-symbolIcon-fieldForeground); }
.monaco-editor .codicon.codicon-symbol-file,
.monaco-workbench .codicon.codicon-symbol-file { color: var(--vscode-symbolIcon-fileForeground); }
.monaco-editor .codicon.codicon-symbol-folder,
.monaco-workbench .codicon.codicon-symbol-folder { color: var(--vscode-symbolIcon-folderForeground); }
.monaco-editor .codicon.codicon-symbol-function,
.monaco-workbench .codicon.codicon-symbol-function { color: var(--vscode-symbolIcon-functionForeground); }
.monaco-editor .codicon.codicon-symbol-interface,
.monaco-workbench .codicon.codicon-symbol-interface { color: var(--vscode-symbolIcon-interfaceForeground); }
.monaco-editor .codicon.codicon-symbol-key,
.monaco-workbench .codicon.codicon-symbol-key { color: var(--vscode-symbolIcon-keyForeground); }
.monaco-editor .codicon.codicon-symbol-keyword,
.monaco-workbench .codicon.codicon-symbol-keyword { color: var(--vscode-symbolIcon-keywordForeground); }
.monaco-editor .codicon.codicon-symbol-module,
.monaco-workbench .codicon.codicon-symbol-module { color: var(--vscode-symbolIcon-moduleForeground); }
.monaco-editor .codicon.codicon-symbol-namespace,
.monaco-workbench .codicon.codicon-symbol-namespace { color: var(--vscode-symbolIcon-namespaceForeground); }
.monaco-editor .codicon.codicon-symbol-null,
.monaco-workbench .codicon.codicon-symbol-null { color: var(--vscode-symbolIcon-nullForeground); }
.monaco-editor .codicon.codicon-symbol-number,
.monaco-workbench .codicon.codicon-symbol-number { color: var(--vscode-symbolIcon-numberForeground); }
.monaco-editor .codicon.codicon-symbol-object,
.monaco-workbench .codicon.codicon-symbol-object { color: var(--vscode-symbolIcon-objectForeground); }
.monaco-editor .codicon.codicon-symbol-operator,
.monaco-workbench .codicon.codicon-symbol-operator { color: var(--vscode-symbolIcon-operatorForeground); }
.monaco-editor .codicon.codicon-symbol-package,
.monaco-workbench .codicon.codicon-symbol-package { color: var(--vscode-symbolIcon-packageForeground); }
.monaco-editor .codicon.codicon-symbol-property,
.monaco-workbench .codicon.codicon-symbol-property { color: var(--vscode-symbolIcon-propertyForeground); }
.monaco-editor .codicon.codicon-symbol-reference,
.monaco-workbench .codicon.codicon-symbol-reference { color: var(--vscode-symbolIcon-referenceForeground); }
.monaco-editor .codicon.codicon-symbol-snippet,
.monaco-workbench .codicon.codicon-symbol-snippet { color: var(--vscode-symbolIcon-snippetForeground); }
.monaco-editor .codicon.codicon-symbol-string,
.monaco-workbench .codicon.codicon-symbol-string { color: var(--vscode-symbolIcon-stringForeground); }
.monaco-editor .codicon.codicon-symbol-struct,
.monaco-workbench .codicon.codicon-symbol-struct { color: var(--vscode-symbolIcon-structForeground); }
.monaco-editor .codicon.codicon-symbol-text,
.monaco-workbench .codicon.codicon-symbol-text { color: var(--vscode-symbolIcon-textForeground); }
.monaco-editor .codicon.codicon-symbol-type-parameter,
.monaco-workbench .codicon.codicon-symbol-type-parameter { color: var(--vscode-symbolIcon-typeParameterForeground); }
.monaco-editor .codicon.codicon-symbol-unit,
.monaco-workbench .codicon.codicon-symbol-unit { color: var(--vscode-symbolIcon-unitForeground); }
.monaco-editor .codicon.codicon-symbol-variable,
.monaco-workbench .codicon.codicon-symbol-variable { color: var(--vscode-symbolIcon-variableForeground); }
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .monaco-editor-overlaymessage {
	padding-bottom: 8px;
	z-index: 10000;
}

.monaco-editor .monaco-editor-overlaymessage.below {
	padding-bottom: 0;
	padding-top: 8px;
	z-index: 10000;
}

@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}
.monaco-editor .monaco-editor-overlaymessage.fadeIn {
	animation: fadeIn 150ms ease-out;
}

@keyframes fadeOut {
	from { opacity: 1; }
	to { opacity: 0; }
}
.monaco-editor .monaco-editor-overlaymessage.fadeOut {
	animation: fadeOut 100ms ease-out;
}

.monaco-editor .monaco-editor-overlaymessage .message {
	padding: 1px 4px;
	color: var(--vscode-inputValidation-infoForeground);
	background-color: var(--vscode-inputValidation-infoBackground);
	border: 1px solid var(--vscode-inputValidation-infoBorder);
}

.monaco-editor.hc-black .monaco-editor-overlaymessage .message,
.monaco-editor.hc-light .monaco-editor-overlaymessage .message {
	border-width: 2px;
}

.monaco-editor .monaco-editor-overlaymessage .anchor {
	width: 0 !important;
	height: 0 !important;
	border-color: transparent;
	border-style: solid;
	z-index: 1000;
	border-width: 8px;
	position: absolute;
}

.monaco-editor .monaco-editor-overlaymessage .anchor.top {
	border-bottom-color: var(--vscode-inputValidation-infoBorder);
}

.monaco-editor .monaco-editor-overlaymessage .anchor.below {
	border-top-color: var(--vscode-inputValidation-infoBorder);
}

.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,
.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {
	display: none;
}

.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {
	display: inherit;
	top: -8px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-list {
	position: relative;
	height: 100%;
	width: 100%;
	white-space: nowrap;
}

.monaco-list.mouse-support {
	user-select: none;
	-webkit-user-select: none;
}

.monaco-list > .monaco-scrollable-element {
	height: 100%;
}

.monaco-list-rows {
	position: relative;
	width: 100%;
	height: 100%;
}

.monaco-list.horizontal-scrolling .monaco-list-rows {
	width: auto;
	min-width: 100%;
}

.monaco-list-row {
	position: absolute;
	box-sizing: border-box;
	overflow: hidden;
	width: 100%;
}

.monaco-list.mouse-support .monaco-list-row {
	cursor: pointer;
	touch-action: none;
}

/* for OS X ballistic scrolling */
.monaco-list-row.scrolling {
	display: none !important;
}

/* Focus */
.monaco-list.element-focused,
.monaco-list.selection-single,
.monaco-list.selection-multiple {
	outline: 0 !important;
}

/* Dnd */
.monaco-drag-image {
	display: inline-block;
	padding: 1px 7px;
	border-radius: 10px;
	font-size: 12px;
	position: absolute;
	z-index: 1000;
}

/* Filter */

.monaco-list-type-filter-message {
	position: absolute;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	top: 0;
	left: 0;
	padding: 40px 1em 1em 1em;
	text-align: center;
	white-space: normal;
	opacity: 0.7;
	pointer-events: none;
}

.monaco-list-type-filter-message:empty {
	display: none;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
	/* In front of peek view */
	z-index: 11;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;
}

.monaco-scrollable-element > .scrollbar > .slider {
	background: var(--vscode-scrollbarSlider-background);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: var(--vscode-scrollbarSlider-hoverBackground);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: var(--vscode-scrollbarSlider-activeBackground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* Use custom CSS vars to expose padding into parent select for padding calculation */
.monaco-select-box-dropdown-padding {
	--dropdown-padding-top: 1px;
	--dropdown-padding-bottom: 1px;
}

.hc-black .monaco-select-box-dropdown-padding,
.hc-light .monaco-select-box-dropdown-padding {
	--dropdown-padding-top: 3px;
	--dropdown-padding-bottom: 4px;
}

.monaco-select-box-dropdown-container {
	display: none;
	box-sizing:	border-box;
}

.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown * {
	margin: 0;
}

.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown code {
	line-height: 15px; /** For some reason, this is needed, otherwise <code> will take up 20px height */
	font-family: var(--monaco-monospace-font);
}


.monaco-select-box-dropdown-container.visible {
	display: flex;
	flex-direction: column;
	text-align: left;
	width: 1px;
	overflow: hidden;
	border-bottom-left-radius: 3px;
	border-bottom-right-radius: 3px;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-list-container {
	flex: 0 0 auto;
	align-self: flex-start;
	padding-top: var(--dropdown-padding-top);
	padding-bottom: var(--dropdown-padding-bottom);
	padding-left: 1px;
	padding-right: 1px;
	width: 100%;
	overflow: hidden;
	box-sizing:	border-box;
}

.monaco-select-box-dropdown-container > .select-box-details-pane {
	padding: 5px;
}

.hc-black .monaco-select-box-dropdown-container > .select-box-dropdown-list-container {
	padding-top: var(--dropdown-padding-top);
	padding-bottom: var(--dropdown-padding-bottom);
}

.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row {
	cursor: pointer;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-text {
	text-overflow: ellipsis;
	overflow: hidden;
	padding-left: 3.5px;
	white-space: nowrap;
	float: left;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-detail {
	text-overflow: ellipsis;
	overflow: hidden;
	padding-left: 3.5px;
	white-space: nowrap;
	float: left;
	opacity: 0.7;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-decorator-right {
	text-overflow: ellipsis;
	overflow: hidden;
	padding-right: 10px;
	white-space: nowrap;
	float: right;
}


/* Accepted CSS hiding technique for accessibility reader text  */
/* https://webaim.org/techniques/css/invisiblecontent/ */

.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .visually-hidden {
		position: absolute;
		left: -10000px;
		top: auto;
		width: 1px;
		height: 1px;
		overflow: hidden;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control {
	flex: 1 1 auto;
	align-self: flex-start;
	opacity: 0;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control > .width-control-div {
	overflow: hidden;
	max-height: 0px;
}

.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control > .width-control-div > .option-text-width-control {
	padding-left: 4px;
	padding-right: 8px;
	white-space: nowrap;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-select-box {
	width: 100%;
	cursor: pointer;
	border-radius: 2px;
}

.monaco-select-box-dropdown-container {
	font-size: 13px;
	font-weight: normal;
	text-transform: none;
}

/** Actions */

.monaco-action-bar .action-item.select-container {
	cursor: default;
}

.monaco-action-bar .action-item .monaco-select-box {
	cursor: pointer;
	min-width: 100px;
	min-height: 18px;
	padding: 2px 23px 2px 8px;
}

.mac .monaco-action-bar .action-item .monaco-select-box {
	font-size: 11px;
	border-radius: 5px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-action-bar {
	white-space: nowrap;
	height: 100%;
}

.monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	height: 100%;
	width: 100%;
	align-items: center;
}

.monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-action-bar .action-item {
	display: block;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-action-bar .action-item .icon,
.monaco-action-bar .action-item .codicon {
	display: block;
}

.monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
	width: 16px;
	height: 16px;
}

.monaco-action-bar .action-label {
	display: flex;
	font-size: 11px;
	padding: 3px;
	border-radius: 5px;
}

.monaco-action-bar .action-item.disabled .action-label,
.monaco-action-bar .action-item.disabled .action-label::before,
.monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.6;
}

/* Vertical actions */

.monaco-action-bar.vertical {
	text-align: left;
}

.monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-action-bar .action-item .action-label.separator {
	width: 1px;
	height: 16px;
	margin: 5px 4px !important;
	cursor: default;
	min-width: 1px;
	padding: 0;
	background-color: #bbb;
}

.secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-action-bar .action-item.action-dropdown-item {
	display: flex;
}

.monaco-action-bar .action-item.action-dropdown-item > .action-dropdown-item-separator {
	display: flex;
	align-items: center;
	cursor: default;
}

.monaco-action-bar .action-item.action-dropdown-item > .action-dropdown-item-separator > div {
	width: 1px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.action-widget {
	font-size: 13px;
	border-radius: 0;
	min-width: 160px;
	max-width: 500px;
	z-index: 40;
	display: block;
	width: 100%;
	border: 1px solid var(--vscode-editorWidget-border) !important;
	background-color: var(--vscode-editorWidget-background);
	color: var(--vscode-editorWidget-foreground);
}

.context-view-block {
	position: fixed;
	cursor: initial;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	z-index: -1;
}

.context-view-pointerBlock {
	position: fixed;
	cursor: initial;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	z-index: 2;
}

.action-widget .monaco-list {
	user-select: none;
	-webkit-user-select: none;
	border: none !important;
	border-width: 0 !important;
}

.action-widget .monaco-list:focus:before {
	outline: 0 !important;
}

.action-widget .monaco-list .monaco-scrollable-element {
	overflow: visible;
}

/** Styles for each row in the list element **/
.action-widget .monaco-list .monaco-list-row {
	padding: 0 10px;
	white-space: nowrap;
	cursor: pointer;
	touch-action: none;
	width: 100%;
}

.action-widget .monaco-list .monaco-list-row.action.focused:not(.option-disabled) {
	background-color: var(--vscode-quickInputList-focusBackground) !important;
	color: var(--vscode-quickInputList-focusForeground);
	outline: 1px solid var(--vscode-menu-selectionBorder, transparent);
	outline-offset: -1px;
}

.action-widget .monaco-list-row.group-header {
	color: var(--vscode-pickerGroup-foreground) !important;
	font-weight: 600;
}

.action-widget .monaco-list .group-header,
.action-widget .monaco-list .option-disabled,
.action-widget .monaco-list .option-disabled:before,
.action-widget .monaco-list .option-disabled .focused,
.action-widget .monaco-list .option-disabled .focused:before {
	cursor: default !important;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	user-select: none;
	background-color: transparent !important;
	outline: 0 solid !important;
}

.action-widget .monaco-list-row.action {
	display: flex;
	gap: 6px;
	align-items: center;
}

.action-widget .monaco-list-row.action.option-disabled {
	color: var(--vscode-disabledForeground);
}

.action-widget .monaco-list-row.action.option-disabled .codicon {
	opacity: 0.4;
}

.action-widget .monaco-list-row.action:not(.option-disabled) .codicon {
	color: inherit;
}

.action-widget .monaco-list-row.action .title {
	flex: 1;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* Action bar */

.action-widget .action-widget-action-bar {
	background-color: var(--vscode-editorHoverWidget-statusBarBackground);
	border-top: 1px solid var(--vscode-editorHoverWidget-border);
}

.action-widget .action-widget-action-bar::before {
	display: block;
	content: "";
	width: 100%;
}

.action-widget .action-widget-action-bar .actions-container {
	padding: 0 8px;
}

.action-widget-action-bar .action-label {
	color: var(--vscode-textLink-activeForeground);
	font-size: 12px;
	line-height: 22px;
	padding: 0;
	pointer-events: all;
}

.action-widget-action-bar .action-item {
	margin-right: 16px;
	pointer-events: none;
}

.action-widget-action-bar .action-label:hover {
	background-color: transparent !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-keybinding {
	display: flex;
	align-items: center;
	line-height: 10px;
}

.monaco-keybinding > .monaco-keybinding-key {
	display: inline-block;
	border-style: solid;
	border-width: 1px;
	border-radius: 3px;
	vertical-align: middle;
	font-size: 11px;
	padding: 3px 5px;
	margin: 0 2px;
}

.monaco-keybinding > .monaco-keybinding-key:first-child {
	margin-left: 0;
}

.monaco-keybinding > .monaco-keybinding-key:last-child {
	margin-right: 0;
}

.monaco-keybinding > .monaco-keybinding-key-separator {
	display: inline-block;
}

.monaco-keybinding > .monaco-keybinding-key-chord-separator {
	width: 6px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .lightBulbWidget {
	display: flex;
	align-items: center;
	justify-content: center;
}

.monaco-editor .lightBulbWidget:hover{
	cursor: pointer;
}

.monaco-editor .lightBulbWidget.codicon-light-bulb {
	color: var(--vscode-editorLightBulb-foreground);
}

.monaco-editor .lightBulbWidget.codicon-lightbulb-autofix {
	color: var(--vscode-editorLightBulbAutoFix-foreground, var(--vscode-editorLightBulb-foreground));
}

.monaco-editor .lightBulbWidget:before {
	position: relative;
	z-index: 2;
}

.monaco-editor .lightBulbWidget:after {
	position: absolute;
	top: 0;
	left: 0;
	content: '';
	display: block;
	width: 100%;
	height: 100%;
	opacity: 0.3;
	background-color: var(--vscode-editor-background);
	z-index: 1;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .codelens-decoration {
	overflow: hidden;
	display: inline-block;
	text-overflow: ellipsis;
	white-space: nowrap;
	color: var(--vscode-editorCodeLens-foreground);
	line-height: var(--vscode-editorCodeLens-lineHeight);
	font-size: var(--vscode-editorCodeLens-fontSize);
	padding-right: calc(var(--vscode-editorCodeLens-fontSize)*0.5);
	font-feature-settings: var(--vscode-editorCodeLens-fontFeatureSettings);
	font-family: var(--vscode-editorCodeLens-fontFamily), var(--vscode-editorCodeLens-fontFamilyDefault);
}

.monaco-editor .codelens-decoration>span,
.monaco-editor .codelens-decoration>a {
	user-select: none;
	-webkit-user-select: none;
	white-space: nowrap;
	vertical-align: sub;
}

.monaco-editor .codelens-decoration>a {
	text-decoration: none;
}

.monaco-editor .codelens-decoration>a:hover {
	cursor: pointer;
	color: var(--vscode-editorLink-activeForeground) !important;
}

.monaco-editor .codelens-decoration>a:hover .codicon {
	color: var(--vscode-editorLink-activeForeground) !important;
}

.monaco-editor .codelens-decoration .codicon {
	vertical-align: middle;
	color: currentColor !important;
	color: var(--vscode-editorCodeLens-foreground);
	line-height: var(--vscode-editorCodeLens-lineHeight);
	font-size: var(--vscode-editorCodeLens-fontSize);
}

.monaco-editor .codelens-decoration>a:hover .codicon::before {
	cursor: pointer;
}

@keyframes fadein {
	0% {
		opacity: 0;
		visibility: visible;
	}

	100% {
		opacity: 1;
	}
}

.monaco-editor .codelens-decoration.fadein {
	animation: fadein 0.1s linear;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.colorpicker-widget {
	height: 190px;
	user-select: none;
	-webkit-user-select: none;
}

/* Decoration */

.colorpicker-color-decoration,
.hc-light .colorpicker-color-decoration {
	border: solid 0.1em #000;
	box-sizing: border-box;
	margin: 0.1em 0.2em 0 0.2em;
	width: 0.8em;
	height: 0.8em;
	line-height: 0.8em;
	display: inline-block;
	cursor: pointer;
}

.hc-black .colorpicker-color-decoration,
.vs-dark .colorpicker-color-decoration {
	border: solid 0.1em #eee;
}

/* Header */

.colorpicker-header {
	display: flex;
	height: 24px;
	position: relative;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);
	background-size: 9px 9px;
	image-rendering: pixelated;
}

.colorpicker-header .picked-color {
	width: 240px;
	display: flex;
	align-items: center;
	justify-content: center;
	line-height: 24px;
	cursor: pointer;
	color: white;
	flex: 1;
}

.colorpicker-header .picked-color .codicon {
	color: inherit;
	font-size: 14px;
	position: absolute;
	left: 8px;
}

.colorpicker-header .picked-color.light {
	color: black;
}

.colorpicker-header .original-color {
	width: 74px;
	z-index: inherit;
	cursor: pointer;
}

.standalone-colorpicker {
	color: var(--vscode-editorHoverWidget-foreground);
	background-color: var(--vscode-editorHoverWidget-background);
	border: 1px solid var(--vscode-editorHoverWidget-border);
}

.colorpicker-header.standalone-colorpicker {
	border-bottom: none;
}

.colorpicker-header .close-button {
	cursor: pointer;
	background-color: var(--vscode-editorHoverWidget-background);
	border-left: 1px solid var(--vscode-editorHoverWidget-border);
}

.colorpicker-header .close-button-inner-div {
	width: 100%;
	height: 100%;
	text-align: center;
}

.colorpicker-header .close-button-inner-div:hover {
	background-color: var(--vscode-toolbar-hoverBackground);
}

.colorpicker-header .close-icon {
	padding: 3px;
}

/* Body */

.colorpicker-body {
	display: flex;
	padding: 8px;
	position: relative;
}

.colorpicker-body .saturation-wrap {
	overflow: hidden;
	height: 150px;
	position: relative;
	min-width: 220px;
	flex: 1;
}

.colorpicker-body .saturation-box {
	height: 150px;
	position: absolute;
}

.colorpicker-body .saturation-selection {
	width: 9px;
	height: 9px;
	margin: -5px 0 0 -5px;
	border: 1px solid rgb(255, 255, 255);
	border-radius: 100%;
	box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);
	position: absolute;
}

.colorpicker-body .strip {
	width: 25px;
	height: 150px;
}

.colorpicker-body .standalone-strip {
	width: 25px;
	height: 122px;
}

.colorpicker-body .hue-strip {
	position: relative;
	margin-left: 8px;
	cursor: grab;
	background: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);
}

.colorpicker-body .opacity-strip {
	position: relative;
	margin-left: 8px;
	cursor: grab;
	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);
	background-size: 9px 9px;
	image-rendering: pixelated;
}

.colorpicker-body .strip.grabbing {
	cursor: grabbing;
}

.colorpicker-body .slider {
	position: absolute;
	top: 0;
	left: -2px;
	width: calc(100% + 4px);
	height: 4px;
	box-sizing: border-box;
	border: 1px solid rgba(255, 255, 255, 0.71);
	box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);
}

.colorpicker-body .strip .overlay {
	height: 150px;
	pointer-events: none;
}

.colorpicker-body .standalone-strip .standalone-overlay {
	height: 122px;
	pointer-events: none;
}

.standalone-colorpicker-body {
	display: block;
	border: 1px solid transparent;
	border-bottom: 1px solid var(--vscode-editorHoverWidget-border);
	overflow: hidden;
}

.colorpicker-body .insert-button {
	height: 20px;
	width: 58px;
	position: absolute;
	right: 8px;
	bottom: 8px;
	background: var(--vscode-button-background);
	color: var(--vscode-button-foreground);
	border-radius: 2px;
	border: none;
	cursor: pointer;
}

.colorpicker-body .insert-button:hover{
	background: var(--vscode-button-hoverBackground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .goto-definition-link {
	text-decoration: underline;
	cursor: pointer;
	color: var(--vscode-editorLink-activeForeground) !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .peekview-widget .head {
	box-sizing: border-box;
	display: flex;
	justify-content: space-between;
	flex-wrap: nowrap;
}

.monaco-editor .peekview-widget .head .peekview-title {
	display: flex;
	align-items: baseline;
	font-size: 13px;
	margin-left: 20px;
	min-width: 0;
	text-overflow: ellipsis;
	overflow: hidden;
}

.monaco-editor .peekview-widget .head .peekview-title.clickable {
	cursor: pointer;
}

.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {
	font-size: 0.9em;
	margin-left: 0.5em;
}

.monaco-editor .peekview-widget .head .peekview-title .meta {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.monaco-editor .peekview-widget .head .peekview-title .dirname {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.monaco-editor .peekview-widget .head .peekview-title .filename {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {
	content: '-';
	padding: 0 0.3em;
}

.monaco-editor .peekview-widget .head .peekview-actions {
	flex: 1;
	text-align: right;
	padding-right: 2px;
}

.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {
	display: inline-block;
}

.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,
.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {
	height: 100%;
}

.monaco-editor .peekview-widget > .body {
	border-top: 1px solid;
	position: relative;
}

.monaco-editor .peekview-widget .head .peekview-title .codicon {
	margin-right: 4px;
	align-self: center;
}

.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {
	color: inherit !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* -------------------- IE10 remove auto clear button -------------------- */

::-ms-clear {
	display: none;
}

/* All widgets */
/* I am not a big fan of this rule */
.monaco-editor .editor-widget input {
	color: inherit;
}

/* -------------------- Editor -------------------- */

.monaco-editor {
	position: relative;
	overflow: visible;
	-webkit-text-size-adjust: 100%;
	color: var(--vscode-editor-foreground);
	background-color: var(--vscode-editor-background);
}
.monaco-editor-background {
	background-color: var(--vscode-editor-background);
}
.monaco-editor .rangeHighlight {
	background-color: var(--vscode-editor-rangeHighlightBackground);
	box-sizing: border-box;
	border: 1px solid var(--vscode-editor-rangeHighlightBorder);
}
.monaco-editor.hc-black .rangeHighlight, .monaco-editor.hc-light .rangeHighlight {
	border-style: dotted;
}
.monaco-editor .symbolHighlight {
	background-color: var(--vscode-editor-symbolHighlightBackground);
	box-sizing: border-box;
	border: 1px solid var(--vscode-editor-symbolHighlightBorder);
}
.monaco-editor.hc-black .symbolHighlight, .monaco-editor.hc-light .symbolHighlight {
	border-style: dotted;
}

/* -------------------- Misc -------------------- */

.monaco-editor .overflow-guard {
	position: relative;
	overflow: hidden;
}

.monaco-editor .view-overlays {
	position: absolute;
	top: 0;
}

/*
.monaco-editor .auto-closed-character {
	opacity: 0.3;
}
*/


.monaco-editor .squiggly-error {
	border-bottom: 4px double var(--vscode-editorError-border);
}
.monaco-editor .squiggly-error::before {
	display: block;
	content: '';
	width: 100%;
	height: 100%;
	background: var(--vscode-editorError-background);
}
.monaco-editor .squiggly-warning {
	border-bottom: 4px double var(--vscode-editorWarning-border);
}
.monaco-editor .squiggly-warning::before {
	display: block;
	content: '';
	width: 100%;
	height: 100%;
	background: var(--vscode-editorWarning-background);
}
.monaco-editor .squiggly-info {
	border-bottom: 4px double var(--vscode-editorInfo-border);
}
.monaco-editor .squiggly-info::before {
	display: block;
	content: '';
	width: 100%;
	height: 100%;
	background: var(--vscode-editorInfo-background);
}
.monaco-editor .squiggly-hint {
	border-bottom: 2px dotted var(--vscode-editorHint-border);
}
.monaco-editor.showUnused .squiggly-unnecessary {
	border-bottom: 2px dashed var(--vscode-editorUnnecessaryCode-border);
}
.monaco-editor.showDeprecated .squiggly-inline-deprecated {
	text-decoration: line-through;
	text-decoration-color: var(--vscode-editor-foreground, inherit);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .inputarea {
	min-width: 0;
	min-height: 0;
	margin: 0;
	padding: 0;
	position: absolute;
	outline: none !important;
	resize: none;
	border: none;
	overflow: hidden;
	color: transparent;
	background-color: transparent;
	z-index: -10;
}
/*.monaco-editor .inputarea {
	position: fixed !important;
	width: 800px !important;
	height: 500px !important;
	top: initial !important;
	left: initial !important;
	bottom: 0 !important;
	right: 0 !important;
	color: black !important;
	background: white !important;
	line-height: 15px !important;
	font-size: 14px !important;
	z-index: 10 !important;
}*/
.monaco-editor .inputarea.ime-input {
	z-index: 10;
	caret-color: var(--vscode-editorCursor-foreground);
	color: var(--vscode-editor-foreground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .margin-view-overlays .line-numbers {
	font-variant-numeric: tabular-nums;
	position: absolute;
	text-align: right;
	display: inline-block;
	vertical-align: middle;
	box-sizing: border-box;
	cursor: default;
	height: 100%;
}

.monaco-editor .relative-current-line-number {
	text-align: left;
	display: inline-block;
	width: 100%;
}

.monaco-editor .margin-view-overlays .line-numbers.lh-odd {
	margin-top: 1px;
}

.monaco-editor .line-numbers {
	color: var(--vscode-editorLineNumber-foreground);
}

.monaco-editor .line-numbers.active-line-number {
	color: var(--vscode-editorLineNumber-activeForeground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .margin {
	background-color: var(--vscode-editorGutter-background);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-mouse-cursor-text {
	cursor: text;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .view-overlays .current-line {
	display: block;
	position: absolute;
	left: 0;
	top: 0;
	box-sizing: border-box;
}

.monaco-editor .margin-view-overlays .current-line {
	display: block;
	position: absolute;
	left: 0;
	top: 0;
	box-sizing: border-box;
}

.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {
	border-right: 0;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/*
	Keeping name short for faster parsing.
	cdr = core decorations rendering (div)
*/
.monaco-editor .lines-content .cdr {
	position: absolute;
}</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .glyph-margin {
	position: absolute;
	top: 0;
}

/*
	Keeping name short for faster parsing.
	cgmr = core glyph margin rendering (div)
*/
.monaco-editor .margin-view-overlays .cgmr {
	position: absolute;
	display: flex;
	align-items: center;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .lines-content .core-guide {
	position: absolute;
	box-sizing: border-box;
}

.monaco-editor .lines-content .core-guide-indent {
	box-shadow: 1px 0 0 0 var(--vscode-editorIndentGuide-background) inset;
}

.monaco-editor .lines-content .core-guide-indent-active {
	box-shadow: 1px 0 0 0 var(--vscode-editorIndentGuide-activeBackground, --vscode-editorIndentGuide-background) inset;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* Uncomment to see lines flashing when they're painted */
/*.monaco-editor .view-lines > .view-line {
	background-color: none;
	animation-name: flash-background;
	animation-duration: 800ms;
}
@keyframes flash-background {
	0%   { background-color: lightgreen; }
	100% { background-color: none }
}*/

.mtkcontrol {
	color: rgb(255, 255, 255) !important;
	background: rgb(150, 0, 0) !important;
}

.mtkoverflow {
	background-color: var(--vscode-button-background, --vscode-editor-background);
	color: var(--vscode-button-foreground, --vscode-editor-foreground);
	border-width: 1px;
	border-style: solid;
	border-color: var(--vscode-contrastBorder);
	border-radius: 2px;
	padding: 4px;
	cursor: pointer;
}
.mtkoverflow:hover {
	background-color: var(--vscode-button-hoverBackground);
}

.monaco-editor.no-user-select .lines-content,
.monaco-editor.no-user-select .view-line,
.monaco-editor.no-user-select .view-lines {
	user-select: none;
	-webkit-user-select: none;
}
/* Use user-select: text for lookup feature on macOS */
/* https://github.com/microsoft/vscode/issues/85632 */
.monaco-editor.mac .lines-content:hover,
.monaco-editor.mac .view-line:hover,
.monaco-editor.mac .view-lines:hover {
	user-select: text;
	-webkit-user-select: text;
	-ms-user-select: text;
}

.monaco-editor.enable-user-select {
	user-select: initial;
	-webkit-user-select: initial;
}

.monaco-editor .view-lines {
	white-space: nowrap;
}

.monaco-editor .view-line {
	position: absolute;
	width: 100%;
}

.monaco-editor .mtkw {
	color: var(--vscode-editorWhitespace-foreground) !important;
}

.monaco-editor .mtkz {
	display: inline-block;
	color: var(--vscode-editorWhitespace-foreground) !important;
}

/* TODO@tokenization bootstrap fix */
/*.monaco-editor .view-line > span > span {
	float: none;
	min-height: inherit;
	margin-left: inherit;
}*/
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
.monaco-editor .lines-decorations {
	position: absolute;
	top: 0;
	background: white;
}

/*
	Keeping name short for faster parsing.
	cldr = core lines decorations rendering (div)
*/
.monaco-editor .margin-view-overlays .cldr {
	position: absolute;
	height: 100%;
}</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/*
	Keeping name short for faster parsing.
	cmdr = core margin decorations rendering (div)
*/
.monaco-editor .margin-view-overlays .cmdr {
	position: absolute;
	left: 0;
	width: 100%;
	height: 100%;
}</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* START cover the case that slider is visible on mouseover */
.monaco-editor .minimap.slider-mouseover .minimap-slider {
	opacity: 0;
	transition: opacity 100ms linear;
}
.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {
	opacity: 1;
}
.monaco-editor .minimap.slider-mouseover .minimap-slider.active {
	opacity: 1;
}
/* END cover the case that slider is visible on mouseover */
.monaco-editor .minimap-slider .minimap-slider-horizontal {
	background: var(--vscode-minimapSlider-background);
}
.monaco-editor .minimap-slider:hover .minimap-slider-horizontal {
	background: var(--vscode-minimapSlider-hoverBackground);
}
.monaco-editor .minimap-slider.active .minimap-slider-horizontal {
	background: var(--vscode-minimapSlider-activeBackground);
}
.monaco-editor .minimap-shadow-visible {
	box-shadow: var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset;
}
.monaco-editor .minimap-shadow-hidden {
	position: absolute;
	width: 0;
}
.monaco-editor .minimap-shadow-visible {
	position: absolute;
	left: -6px;
	width: 6px;
}
.monaco-editor.no-minimap-shadow .minimap-shadow-visible {
	position: absolute;
	left: -1px;
	width: 1px;
}

/* 0.5s fade in/out for the minimap */
.minimap.autohide {
	opacity: 0;
	transition: opacity 0.5s;
}
.minimap.autohide:hover {
	opacity: 1;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
.monaco-editor .overlayWidgets {
	position: absolute;
	top: 0;
	left:0;
}</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .view-ruler {
	position: absolute;
	top: 0;
	box-shadow: 1px 0 0 0 var(--vscode-editorRuler-foreground) inset;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .scroll-decoration {
	position: absolute;
	top: 0;
	left: 0;
	height: 6px;
	box-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/*
	Keeping name short for faster parsing.
	cslr = core selections layer rendering (div)
*/
.monaco-editor .lines-content .cslr {
	position: absolute;
}

.monaco-editor .focused .selected-text {
	background-color: var(--vscode-editor-selectionBackground);
}

.monaco-editor .selected-text {
	background-color: var(--vscode-editor-inactiveSelectionBackground);
}

.monaco-editor			.top-left-radius		{ border-top-left-radius: 3px; }
.monaco-editor			.bottom-left-radius		{ border-bottom-left-radius: 3px; }
.monaco-editor			.top-right-radius		{ border-top-right-radius: 3px; }
.monaco-editor			.bottom-right-radius	{ border-bottom-right-radius: 3px; }

.monaco-editor.hc-black .top-left-radius		{ border-top-left-radius: 0; }
.monaco-editor.hc-black .bottom-left-radius		{ border-bottom-left-radius: 0; }
.monaco-editor.hc-black .top-right-radius		{ border-top-right-radius: 0; }
.monaco-editor.hc-black .bottom-right-radius	{ border-bottom-right-radius: 0; }

.monaco-editor.hc-light .top-left-radius		{ border-top-left-radius: 0; }
.monaco-editor.hc-light .bottom-left-radius		{ border-bottom-left-radius: 0; }
.monaco-editor.hc-light .top-right-radius		{ border-top-right-radius: 0; }
.monaco-editor.hc-light .bottom-right-radius	{ border-bottom-right-radius: 0; }
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
.monaco-editor .cursors-layer {
	position: absolute;
	top: 0;
}

.monaco-editor .cursors-layer > .cursor {
	position: absolute;
	overflow: hidden;
	box-sizing: border-box;
}

/* -- smooth-caret-animation -- */
.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {
	transition: all 80ms;
}

/* -- block-outline-style -- */
.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {
	background: transparent !important;
	border-style: solid;
	border-width: 1px;
}

/* -- underline-style -- */
.monaco-editor .cursors-layer.cursor-underline-style > .cursor {
	border-bottom-width: 2px;
	border-bottom-style: solid;
	background: transparent !important;
}

/* -- underline-thin-style -- */
.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {
	border-bottom-width: 1px;
	border-bottom-style: solid;
	background: transparent !important;
}

@keyframes monaco-cursor-smooth {
	0%,
	20% {
		opacity: 1;
	}
	60%,
	100% {
		opacity: 0;
	}
}

@keyframes monaco-cursor-phase {
	0%,
	20% {
		opacity: 1;
	}
	90%,
	100% {
		opacity: 0;
	}
}

@keyframes monaco-cursor-expand {
	0%,
	20% {
		transform: scaleY(1);
	}
	80%,
	100% {
		transform: scaleY(0);
	}
}

.cursor-smooth {
	animation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;
}

.cursor-phase {
	animation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;
}

.cursor-expand > .cursor {
	animation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .blockDecorations-container {
	position: absolute;
	top: 0;
	pointer-events: none;
}

.monaco-editor .blockDecorations-block {
	position: absolute;
	box-sizing: border-box;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .mwh {
	position: absolute;
	color: var(--vscode-editorWhitespace-foreground) !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

:root {
	--vscode-sash-size: 4px;
}

.monaco-sash {
	position: absolute;
	z-index: 35;
	touch-action: none;
}

.monaco-sash.disabled {
	pointer-events: none;
}

.monaco-sash.mac.vertical {
	cursor: col-resize;
}

.monaco-sash.vertical.minimum {
	cursor: e-resize;
}

.monaco-sash.vertical.maximum {
	cursor: w-resize;
}

.monaco-sash.mac.horizontal {
	cursor: row-resize;
}

.monaco-sash.horizontal.minimum {
	cursor: s-resize;
}

.monaco-sash.horizontal.maximum {
	cursor: n-resize;
}

.monaco-sash.disabled {
	cursor: default !important;
	pointer-events: none !important;
}

.monaco-sash.vertical {
	cursor: ew-resize;
	top: 0;
	width: var(--vscode-sash-size);
	height: 100%;
}

.monaco-sash.horizontal {
	cursor: ns-resize;
	left: 0;
	width: 100%;
	height: var(--vscode-sash-size);
}

.monaco-sash:not(.disabled) > .orthogonal-drag-handle {
	content: " ";
	height: calc(var(--vscode-sash-size) * 2);
	width: calc(var(--vscode-sash-size) * 2);
	z-index: 100;
	display: block;
	cursor: all-scroll;
	position: absolute;
}

.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)
	> .orthogonal-drag-handle.start,
.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)
	> .orthogonal-drag-handle.end {
	cursor: nwse-resize;
}

.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)
	> .orthogonal-drag-handle.end,
.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)
	> .orthogonal-drag-handle.start {
	cursor: nesw-resize;
}

.monaco-sash.vertical > .orthogonal-drag-handle.start {
	left: calc(var(--vscode-sash-size) * -0.5);
	top: calc(var(--vscode-sash-size) * -1);
}
.monaco-sash.vertical > .orthogonal-drag-handle.end {
	left: calc(var(--vscode-sash-size) * -0.5);
	bottom: calc(var(--vscode-sash-size) * -1);
}
.monaco-sash.horizontal > .orthogonal-drag-handle.start {
	top: calc(var(--vscode-sash-size) * -0.5);
	left: calc(var(--vscode-sash-size) * -1);
}
.monaco-sash.horizontal > .orthogonal-drag-handle.end {
	top: calc(var(--vscode-sash-size) * -0.5);
	right: calc(var(--vscode-sash-size) * -1);
}

.monaco-sash:before {
	content: '';
	pointer-events: none;
	position: absolute;
	width: 100%;
	height: 100%;
	background: transparent;
}

.monaco-workbench:not(.reduce-motion) .monaco-sash:before {
	transition: background-color 0.1s ease-out;
}

.monaco-sash.hover:before,
.monaco-sash.active:before {
	background: var(--vscode-sash-hoverBorder);
}

.monaco-sash.vertical:before {
	width: var(--vscode-sash-hover-size);
	left: calc(50% - (var(--vscode-sash-hover-size) / 2));
}

.monaco-sash.horizontal:before {
	height: var(--vscode-sash-hover-size);
	top: calc(50% - (var(--vscode-sash-hover-size) / 2));
}

.pointer-events-disabled {
	pointer-events: none !important;
}

/** Debug **/

.monaco-sash.debug {
	background: cyan;
}

.monaco-sash.debug.disabled {
	background: rgba(0, 255, 255, 0.2);
}

.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {
	background: red;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
.monaco-editor .zone-widget {
	position: absolute;
	z-index: 10;
}


.monaco-editor .zone-widget .zone-widget-container {
	border-top-style: solid;
	border-bottom-style: solid;
	border-top-width: 0;
	border-bottom-width: 0;
	position: relative;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-dropdown {
	height: 100%;
	padding: 0;
}

.monaco-dropdown > .dropdown-label {
	cursor: pointer;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
}

.monaco-dropdown > .dropdown-label > .action-label.disabled {
	cursor: default;
}

.monaco-dropdown-with-primary {
	display: flex !important;
	flex-direction: row;
	border-radius: 5px;
}

.monaco-dropdown-with-primary > .action-container > .action-label {
	margin-right: 0;
}

.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {
	font-size: 12px;
	padding-left: 0px;
	padding-right: 0px;
	line-height: 16px;
	margin-left: -3px;
}

.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {
	display: block;
	background-size: 16px;
	background-position: center center;
	background-repeat: no-repeat;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-action-bar .action-item.menu-entry .action-label.icon {
	width: 16px;
	height: 16px;
	background-repeat: no-repeat;
	background-position: 50%;
	background-size: 16px;
}

.monaco-dropdown-with-default {
	display: flex !important;
	flex-direction: row;
	border-radius: 5px;
}

.monaco-dropdown-with-default > .action-container > .action-label {
	margin-right: 0;
}

.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {
	width: 16px;
	height: 16px;
	background-repeat: no-repeat;
	background-position: 50%;
	background-size: 16px;
}

.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {
	font-size: 12px;
	padding-left: 0px;
	padding-right: 0px;
	line-height: 16px;
	margin-left: -3px;
}

.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {
	display: block;
	background-size: 16px;
	background-position: center center;
	background-repeat: no-repeat;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-split-view2 {
	position: relative;
	width: 100%;
	height: 100%;
}

.monaco-split-view2 > .sash-container {
	position: absolute;
	width: 100%;
	height: 100%;
	pointer-events: none;
}

.monaco-split-view2 > .sash-container > .monaco-sash {
	pointer-events: initial;
}

.monaco-split-view2 > .monaco-scrollable-element {
	width: 100%;
	height: 100%;
}

.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {
	width: 100%;
	height: 100%;
	white-space: nowrap;
	position: relative;
}

.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {
	white-space: initial;
	position: absolute;
}

.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {
	display: none;
}

.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {
	width: 100%;
}

.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {
	height: 100%;
}

.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {
	content: ' ';
	position: absolute;
	top: 0;
	left: 0;
	z-index: 5;
	pointer-events: none;
	background-color: var(--separator-border);
}

.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {
	height: 100%;
	width: 1px;
}

.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {
	height: 1px;
	width: 100%;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-table {
	display: flex;
	flex-direction: column;
	position: relative;
	height: 100%;
	width: 100%;
	white-space: nowrap;
	overflow: hidden;
}

.monaco-table > .monaco-split-view2 {
	border-bottom: 1px solid transparent;
}

.monaco-table > .monaco-list {
	flex: 1;
}

.monaco-table-tr {
	display: flex;
	height: 100%;
}

.monaco-table-th {
	width: 100%;
	height: 100%;
	font-weight: bold;
	overflow: hidden;
	text-overflow: ellipsis;
}

.monaco-table-th,
.monaco-table-td {
	box-sizing: border-box;
	flex-shrink: 0;
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
}

.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
	content: "";
	position: absolute;
	left: calc(var(--vscode-sash-size) / 2);
	width: 0;
	border-left: 1px solid transparent;
}

.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
	transition: border-color 0.2s ease-out;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-custom-toggle {
	margin-left: 2px;
	float: left;
	cursor: pointer;
	overflow: hidden;
	width: 20px;
	height: 20px;
	border-radius: 3px;
	border: 1px solid transparent;
	padding: 1px;
	box-sizing:	border-box;
	user-select: none;
	-webkit-user-select: none;
}

.monaco-custom-toggle:hover {
	background-color: var(--vscode-inputOption-hoverBackground);
}

.hc-black .monaco-custom-toggle:hover,
.hc-light .monaco-custom-toggle:hover {
	border: 1px dashed var(--vscode-focusBorder);
}

.hc-black .monaco-custom-toggle,
.hc-light .monaco-custom-toggle {
	background: none;
}

.hc-black .monaco-custom-toggle:hover,
.hc-light .monaco-custom-toggle:hover {
	background: none;
}

.monaco-custom-toggle.monaco-checkbox {
	height: 18px;
	width: 18px;
	border: 1px solid transparent;
	border-radius: 3px;
	margin-right: 9px;
	margin-left: 0px;
	padding: 0px;
	opacity: 1;
	background-size: 16px !important;
}

/* hide check when unchecked */
.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {
	visibility: hidden;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-inputbox {
	position: relative;
	display: block;
	padding: 0;
	box-sizing:	border-box;
	border-radius: 2px;

	/* Customizable */
	font-size: inherit;
}

.monaco-inputbox > .ibwrapper > .input,
.monaco-inputbox > .ibwrapper > .mirror {

	/* Customizable */
	padding: 4px 6px;
}

.monaco-inputbox > .ibwrapper {
	position: relative;
	width: 100%;
	height: 100%;
}

.monaco-inputbox > .ibwrapper > .input {
	display: inline-block;
	box-sizing:	border-box;
	width: 100%;
	height: 100%;
	line-height: inherit;
	border: none;
	font-family: inherit;
	font-size: inherit;
	resize: none;
	color: inherit;
}

.monaco-inputbox > .ibwrapper > input {
	text-overflow: ellipsis;
}

.monaco-inputbox > .ibwrapper > textarea.input {
	display: block;
	scrollbar-width: none; /* Firefox: hide scrollbars */
	outline: none;
}

.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {
	display: none; /* Chrome + Safari: hide scrollbar */
}

.monaco-inputbox > .ibwrapper > textarea.input.empty {
	white-space: nowrap;
}

.monaco-inputbox > .ibwrapper > .mirror {
	position: absolute;
	display: inline-block;
	width: 100%;
	top: 0;
	left: 0;
	box-sizing: border-box;
	white-space: pre-wrap;
	visibility: hidden;
	word-wrap: break-word;
}

/* Context view */

.monaco-inputbox-container {
	text-align: right;
}

.monaco-inputbox-container .monaco-inputbox-message {
	display: inline-block;
	overflow: hidden;
	text-align: left;
	width: 100%;
	box-sizing:	border-box;
	padding: 0.4em;
	font-size: 12px;
	line-height: 17px;
	margin-top: -1px;
	word-wrap: break-word;
}

/* Action bar support */
.monaco-inputbox .monaco-action-bar {
	position: absolute;
	right: 2px;
	top: 4px;
}

.monaco-inputbox .monaco-action-bar .action-item {
	margin-left: 2px;
}

.monaco-inputbox .monaco-action-bar .action-item .codicon {
	background-repeat: no-repeat;
	width: 16px;
	height: 16px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
/* ---------- Find input ---------- */

.monaco-findInput {
	position: relative;
}

.monaco-findInput .monaco-inputbox {
	font-size: 13px;
	width: 100%;
}

.monaco-findInput > .controls {
	position: absolute;
	top: 3px;
	right: 2px;
}

.vs .monaco-findInput.disabled {
	background-color: #E1E1E1;
}

/* Theming */
.vs-dark .monaco-findInput.disabled {
	background-color: #333;
}

/* Highlighting */
.monaco-findInput.highlight-0 .controls,
.hc-light .monaco-findInput.highlight-0 .controls {
	animation: monaco-findInput-highlight-0 100ms linear 0s;
}

.monaco-findInput.highlight-1 .controls,
.hc-light .monaco-findInput.highlight-1 .controls {
	animation: monaco-findInput-highlight-1 100ms linear 0s;
}

.hc-black .monaco-findInput.highlight-0 .controls,
.vs-dark  .monaco-findInput.highlight-0 .controls {
	animation: monaco-findInput-highlight-dark-0 100ms linear 0s;
}

.hc-black .monaco-findInput.highlight-1 .controls,
.vs-dark  .monaco-findInput.highlight-1 .controls {
	animation: monaco-findInput-highlight-dark-1 100ms linear 0s;
}

@keyframes monaco-findInput-highlight-0 {
	0% { background: rgba(253, 255, 0, 0.8); }
	100% { background: transparent; }
}
@keyframes monaco-findInput-highlight-1 {
	0% { background: rgba(253, 255, 0, 0.8); }
	/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/
	99% { background: transparent; }
}

@keyframes monaco-findInput-highlight-dark-0 {
	0% { background: rgba(255, 255, 255, 0.44); }
	100% { background: transparent; }
}
@keyframes monaco-findInput-highlight-dark-1 {
	0% { background: rgba(255, 255, 255, 0.44); }
	/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/
	99% { background: transparent; }
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-tl-row {
	display: flex;
	height: 100%;
	align-items: center;
	position: relative;
}

.monaco-tl-row.disabled {
	cursor: default;
}
.monaco-tl-indent {
	height: 100%;
	position: absolute;
	top: 0;
	left: 16px;
	pointer-events: none;
}

.hide-arrows .monaco-tl-indent {
	left: 12px;
}

.monaco-tl-indent > .indent-guide {
	display: inline-block;
	box-sizing: border-box;
	height: 100%;
	border-left: 1px solid transparent;
}

.monaco-workbench:not(.reduce-motion) .monaco-tl-indent > .indent-guide {
	transition: border-color 0.1s linear;
}

.monaco-tl-twistie,
.monaco-tl-contents {
	height: 100%;
}

.monaco-tl-twistie {
	font-size: 10px;
	text-align: right;
	padding-right: 6px;
	flex-shrink: 0;
	width: 16px;
	display: flex !important;
	align-items: center;
	justify-content: center;
	transform: translateX(3px);
}

.monaco-tl-contents {
	flex: 1;
	overflow: hidden;
}

.monaco-tl-twistie::before {
	border-radius: 20px;
}

.monaco-tl-twistie.collapsed::before {
	transform: rotate(-90deg);
}

.monaco-tl-twistie.codicon-tree-item-loading::before {
	/* Use steps to throttle FPS to reduce CPU usage */
	animation: codicon-spin 1.25s steps(30) infinite;
}

.monaco-tree-type-filter {
	position: absolute;
	top: 0;
	display: flex;
	padding: 3px;
	max-width: 200px;
	z-index: 100;
	margin: 0 6px;
	border: 1px solid var(--vscode-widget-border);
	border-bottom-left-radius: 4px;
	border-bottom-right-radius: 4px;
}

.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter {
	transition: top 0.3s;
}

.monaco-tree-type-filter.disabled {
	top: -40px !important;
}

.monaco-tree-type-filter-grab {
	display: flex !important;
	align-items: center;
	justify-content: center;
	cursor: grab;
	margin-right: 2px;
}

.monaco-tree-type-filter-grab.grabbing {
	cursor: grabbing;
}

.monaco-tree-type-filter-input {
	flex: 1;
}

.monaco-tree-type-filter-input .monaco-inputbox {
	height: 23px;
}

.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,
.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {
	padding: 2px 4px;
}

.monaco-tree-type-filter-input .monaco-findInput > .controls {
	top: 2px;
}

.monaco-tree-type-filter-actionbar {
	margin-left: 4px;
}

.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {
	padding: 2px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* -- zone widget */
.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {
	border-top-width: 1px;
	border-bottom-width: 1px;
}

.monaco-editor .reference-zone-widget .inline {
	display: inline-block;
	vertical-align: top;
}

.monaco-editor .reference-zone-widget .messages {
	height: 100%;
	width: 100%;
	text-align: center;
	padding: 3em 0;
}

.monaco-editor .reference-zone-widget .ref-tree {
	line-height: 23px;
	background-color: var(--vscode-peekViewResult-background);
	color: var(--vscode-peekViewResult-lineForeground);
}

.monaco-editor .reference-zone-widget .ref-tree .reference {
	text-overflow: ellipsis;
	overflow: hidden;
}

.monaco-editor .reference-zone-widget .ref-tree .reference-file {
	display: inline-flex;
	width: 100%;
	height: 100%;
	color: var(--vscode-peekViewResult-fileForeground);
}

.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {
	color: inherit !important;
}

.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {
	background-color: var(--vscode-peekViewResult-selectionBackground);
	color: var(--vscode-peekViewResult-selectionForeground) !important;
}

.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {
	margin-right: 12px;
	margin-left: auto;
}

.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {
	background-color: var(--vscode-peekViewResult-matchHighlightBackground);
}

.monaco-editor .reference-zone-widget .preview .reference-decoration {
	background-color: var(--vscode-peekViewEditor-matchHighlightBackground);
	border: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);
	box-sizing: border-box;
}

.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,
.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {
	background-color: var(--vscode-peekViewEditor-background);
}

.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {
	background-color: var(--vscode-peekViewEditorGutter-background);
}

/* High Contrast Theming */

.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,
.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {
	font-weight: bold;
}

.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,
.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {
	border: 1px dotted var(--vscode-contrastActiveBorder, transparent);
	box-sizing: border-box;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-count-badge {
	padding: 3px 6px;
	border-radius: 11px;
	font-size: 11px;
	min-width: 18px;
	min-height: 18px;
	line-height: 11px;
	font-weight: normal;
	text-align: center;
	display: inline-block;
	box-sizing: border-box;
}

.monaco-count-badge.long {
	padding: 2px 3px;
	border-radius: 2px;
	min-height: auto;
	line-height: normal;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* ---------- Icon label ---------- */

.monaco-icon-label {
	display: flex; /* required for icons support :before rule */
	overflow: hidden;
	text-overflow: ellipsis;
}

.monaco-icon-label::before {

	/* svg icons rendered as background image */
	background-size: 16px;
	background-position: left center;
	background-repeat: no-repeat;
	padding-right: 6px;
	width: 16px;
	height: 22px;
	line-height: inherit !important;
	display: inline-block;

	/* fonts icons */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	vertical-align: top;

	flex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */
}

.monaco-icon-label-container.disabled {
	color: var(--vscode-disabledForeground);
}
.monaco-icon-label > .monaco-icon-label-container {
	min-width: 0;
	overflow: hidden;
	text-overflow: ellipsis;
	flex: 1;
}

.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {
	color: inherit;
	white-space: pre; /* enable to show labels that include multiple whitespaces */
}

.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {
	margin: 0 2px;
	opacity: 0.5;
}

.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {
	opacity: .7;
	margin-left: 0.5em;
	font-size: 0.9em;
	white-space: pre; /* enable to show labels that include multiple whitespaces */
}

.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{
	white-space: nowrap
}

.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {
	opacity: .95;
}

.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,
.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {
	font-style: italic;
}

.monaco-icon-label.deprecated {
	text-decoration: line-through;
	opacity: 0.66;
}

/* make sure apply italic font style to decorations as well */
.monaco-icon-label.italic::after {
	font-style: italic;
}

.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,
.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {
	text-decoration: line-through;
}

.monaco-icon-label::after {
	opacity: 0.75;
	font-size: 90%;
	font-weight: 600;
	margin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */
	text-align: center;
}

/* make sure selection color wins when a label is being selected */
.monaco-list:focus .selected .monaco-icon-label, /* list */
.monaco-list:focus .selected .monaco-icon-label::after
{
	color: inherit !important;
}

.monaco-list-row.focused.selected .label-description,
.monaco-list-row.selected .label-description {
	opacity: .8;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-hover {
	cursor: default;
	position: absolute;
	overflow: hidden;
	z-index: 50;
	user-select: text;
	-webkit-user-select: text;
	box-sizing: initial;
	animation: fadein 100ms linear;
	line-height: 1.5em;
}

.monaco-hover.hidden {
	display: none;
}

.monaco-hover a:hover:not(.disabled) {
	cursor: pointer;
}

.monaco-hover .hover-contents:not(.html-hover-contents) {
	padding: 4px 8px;
}

.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {
	max-width: 500px;
	word-wrap: break-word;
}

.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {
	min-width: 100%;
}

.monaco-hover p,
.monaco-hover .code,
.monaco-hover ul,
.monaco-hover h1,
.monaco-hover h2,
.monaco-hover h3,
.monaco-hover h4,
.monaco-hover h5,
.monaco-hover h6 {
	margin: 8px 0;
}

.monaco-hover h1,
.monaco-hover h2,
.monaco-hover h3,
.monaco-hover h4,
.monaco-hover h5,
.monaco-hover h6 {
	line-height: 1.1;
}

.monaco-hover code {
	font-family: var(--monaco-monospace-font);
}

.monaco-hover hr {
	box-sizing: border-box;
	border-left: 0px;
	border-right: 0px;
	margin-top: 4px;
	margin-bottom: -4px;
	margin-left: -8px;
	margin-right: -8px;
	height: 1px;
}

.monaco-hover p:first-child,
.monaco-hover .code:first-child,
.monaco-hover ul:first-child {
	margin-top: 0;
}

.monaco-hover p:last-child,
.monaco-hover .code:last-child,
.monaco-hover ul:last-child {
	margin-bottom: 0;
}

/* MarkupContent Layout */
.monaco-hover ul {
	padding-left: 20px;
}
.monaco-hover ol {
	padding-left: 20px;
}

.monaco-hover li > p {
	margin-bottom: 0;
}

.monaco-hover li > ul {
	margin-top: 0;
}

.monaco-hover code {
	border-radius: 3px;
	padding: 0 0.4em;
}

.monaco-hover .monaco-tokenized-source {
	white-space: pre-wrap;
}

.monaco-hover .hover-row.status-bar {
	font-size: 12px;
	line-height: 22px;
}

.monaco-hover .hover-row.status-bar .info {
	font-style: italic;
	padding: 0px 8px;
}

.monaco-hover .hover-row.status-bar .actions {
	display: flex;
	padding: 0px 8px;
}

.monaco-hover .hover-row.status-bar .actions .action-container {
	margin-right: 16px;
	cursor: pointer;
}

.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {
	padding-right: 4px;
}

.monaco-hover .markdown-hover .hover-contents .codicon {
	color: inherit;
	font-size: inherit;
	vertical-align: middle;
}

.monaco-hover .hover-contents a.code-link:hover,
.monaco-hover .hover-contents a.code-link {
	color: inherit;
}

.monaco-hover .hover-contents a.code-link:before {
	content: '(';
}

.monaco-hover .hover-contents a.code-link:after {
	content: ')';
}

.monaco-hover .hover-contents a.code-link > span {
	text-decoration: underline;
	/** Hack to force underline to show **/
	border-bottom: 1px solid transparent;
	text-underline-position: under;
	color: var(--vscode-textLink-foreground);
}

.monaco-hover .hover-contents a.code-link > span:hover {
	color: var(--vscode-textLink-activeForeground);
}

/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/
.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {
	margin-bottom: 4px;
	display: inline-block;
}

.monaco-hover-content .action-container a {
	-webkit-user-select: none;
	user-select: none;
}

.monaco-hover-content .action-container.disabled {
	pointer-events: none;
	opacity: 0.4;
	cursor: default;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .rendered-markdown kbd {
	background-color: var(--vscode-keybindingLabel-background);
	color: var(--vscode-keybindingLabel-foreground);
	border-style: solid;
	border-width: 1px;
	border-radius: 3px;
	border-color: var(--vscode-keybindingLabel-border);
	border-bottom-color: var(--vscode-keybindingLabel-bottomBorder);
	box-shadow: inset 0 -1px 0 var(--vscode-widget-shadow);
	vertical-align: middle;
	padding: 1px 3px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* marker zone */

.monaco-editor .peekview-widget .head .peekview-title .severity-icon {
	display: inline-block;
	vertical-align: text-top;
	margin-right: 4px;
}

.monaco-editor .marker-widget {
	text-overflow: ellipsis;
	white-space: nowrap;
}

.monaco-editor .marker-widget > .stale {
	opacity: 0.6;
	font-style: italic;
}

.monaco-editor .marker-widget .title {
	display: inline-block;
	padding-right: 5px;
}

.monaco-editor .marker-widget .descriptioncontainer {
	position: absolute;
	white-space: pre;
	user-select: text;
	-webkit-user-select: text;
	padding: 8px 12px 0 20px;
}

.monaco-editor .marker-widget .descriptioncontainer .message {
	display: flex;
	flex-direction: column;
}

.monaco-editor .marker-widget .descriptioncontainer .message .details {
	padding-left: 6px;
}

.monaco-editor .marker-widget .descriptioncontainer .message .source,
.monaco-editor .marker-widget .descriptioncontainer .message span.code {
	opacity: 0.6;
}

.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {
	opacity: 0.6;
	color: inherit;
}

.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {
	content: '(';
}

.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {
	content: ')';
}

.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {
	text-decoration: underline;
	/** Hack to force underline to show **/
	border-bottom: 1px solid transparent;
	text-underline-position: under;
	color: var(--vscode-textLink-foreground);
}

.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {
	color: var(--vscode-textLink-activeForeground);
}

.monaco-editor .marker-widget .descriptioncontainer .filename {
	cursor: pointer;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .zone-widget .codicon.codicon-error,
.markers-panel .marker-icon.error, .markers-panel .marker-icon .codicon.codicon-error,
.text-search-provider-messages .providerMessage .codicon.codicon-error,
.extensions-viewlet > .extensions .codicon.codicon-error,
.extension-editor .codicon.codicon-error,
.preferences-editor .codicon.codicon-error {
	color: var(--vscode-problemsErrorIcon-foreground);
}

.monaco-editor .zone-widget .codicon.codicon-warning,
.markers-panel .marker-icon.warning, .markers-panel .marker-icon .codicon.codicon-warning,
.text-search-provider-messages .providerMessage .codicon.codicon-warning,
.extensions-viewlet > .extensions .codicon.codicon-warning,
.extension-editor .codicon.codicon-warning,
.preferences-editor .codicon.codicon-warning {
	color: var(--vscode-problemsWarningIcon-foreground);
}

.monaco-editor .zone-widget .codicon.codicon-info,
.markers-panel .marker-icon.info, .markers-panel .marker-icon .codicon.codicon-info,
.text-search-provider-messages .providerMessage .codicon.codicon-info,
.extensions-viewlet > .extensions .codicon.codicon-info,
.extension-editor .codicon.codicon-info,
.preferences-editor .codicon.codicon-info {
	color: var(--vscode-problemsInfoIcon-foreground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .hoverHighlight {
	background-color: var(--vscode-editor-hoverHighlightBackground);
}

.monaco-editor .monaco-hover {
	color: var(--vscode-editorHoverWidget-foreground);
	background-color: var(--vscode-editorHoverWidget-background);
	border: 1px solid var(--vscode-editorHoverWidget-border);
}

.monaco-editor .monaco-hover a {
	color: var(--vscode-textLink-foreground);
}

.monaco-editor .monaco-hover a:hover {
	color: var(--vscode-textLink-activeForeground);
}

.monaco-editor .monaco-hover .hover-row .actions {
	background-color: var(--vscode-editorHoverWidget-statusBarBackground);
}

.monaco-editor .monaco-hover code {
	background-color: var(--vscode-textCodeBlock-background);
}


</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .inlineSuggestionsHints.withBorder {
	z-index: 39;
	color: var(--vscode-editorHoverWidget-foreground);
	background-color: var(--vscode-editorHoverWidget-background);
	border: 1px solid var(--vscode-editorHoverWidget-border);
}

.monaco-editor .inlineSuggestionsHints a {
	color: var(--vscode-foreground);
}

.monaco-editor .inlineSuggestionsHints a:hover {
	color: var(--vscode-foreground);
}

.monaco-editor .inlineSuggestionsHints .keybinding {
	display: flex;
	margin-left: 4px;
	opacity: 0.6;
}

.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {
	font-size: 8px;
	padding: 2px 3px;
}

.monaco-editor .inlineSuggestionsHints .custom-actions .action-item:nth-child(2) a {
	display: flex;
	min-width: 19px;
	justify-content: center;
}

.monaco-editor .inlineSuggestionStatusBarItemLabel {
	margin-right: 2px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-toolbar {
	height: 100%;
}

.monaco-toolbar .toolbar-toggle-more {
	display: inline-block;
	padding: 0;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.inline-editor-progress-decoration {
	display: inline-block;
	width: 1em;
	height: 1em;
}

.inline-progress-widget  {
	display: flex !important;
	justify-content: center;
	align-items: center;
}

.inline-progress-widget .icon {
	font-size: 80% !important;
}

.inline-progress-widget:hover .icon {
	font-size: 90% !important;
	animation: none;
}

.inline-progress-widget:hover .icon::before {
	content: "\ea76"; /* codicon-x */
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor.vs .dnd-target,
.monaco-editor.hc-light .dnd-target {
	border-right: 2px dotted black;
	color: white; /* opposite of black */
}
.monaco-editor.vs-dark .dnd-target {
	border-right: 2px dotted #AEAFAD;
	color: #51504f; /* opposite of #AEAFAD */
}
.monaco-editor.hc-black .dnd-target {
	border-right: 2px dotted #fff;
	color: #000; /* opposite of #fff */
}

.monaco-editor.mouse-default .view-lines,
.monaco-editor.vs-dark.mac.mouse-default .view-lines,
.monaco-editor.hc-black.mac.mouse-default .view-lines,
.monaco-editor.hc-light.mac.mouse-default .view-lines {
	cursor: default;
}
.monaco-editor.mouse-copy .view-lines,
.monaco-editor.vs-dark.mac.mouse-copy .view-lines,
.monaco-editor.hc-black.mac.mouse-copy .view-lines,
.monaco-editor.hc-light.mac.mouse-copy .view-lines {
	cursor: copy;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-text-button {
	box-sizing: border-box;
	display: flex;
	width: 100%;
	padding: 4px;
	border-radius: 2px;
	text-align: center;
	cursor: pointer;
	justify-content: center;
	align-items: center;
	border: 1px solid var(--vscode-button-border, transparent);
	line-height: 18px;
}

.monaco-text-button:focus {
	outline-offset: 2px !important;
}

.monaco-text-button:hover {
	text-decoration: none !important;
}

.monaco-button.disabled:focus,
.monaco-button.disabled {
	opacity: 0.4 !important;
	cursor: default;
}

.monaco-text-button .codicon {
	margin: 0 0.2em;
	color: inherit !important;
}

.monaco-text-button.monaco-text-button-with-short-label {
	flex-direction: row;
	flex-wrap: wrap;
	padding: 0 4px;
	overflow: hidden;
	height: 28px;
}

.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label {
	flex-basis: 100%;
}

.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label-short {
	flex-grow: 1;
	width: 0;
	overflow: hidden;
}

.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label,
.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label-short {
	display: flex;
	justify-content: center;
	align-items: center;
	font-weight: normal;
	font-style: inherit;
	padding: 4px 0;
}

.monaco-button-dropdown {
	display: flex;
	cursor: pointer;
}

.monaco-button-dropdown.disabled {
	cursor: default;
}

.monaco-button-dropdown > .monaco-button:focus {
	outline-offset: -1px !important;
}

.monaco-button-dropdown.disabled > .monaco-button.disabled,
.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,
.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {
	opacity: 0.4 !important;
}

.monaco-button-dropdown > .monaco-button.monaco-text-button {
	border-right-width: 0 !important;
}

.monaco-button-dropdown .monaco-button-dropdown-separator {
	padding: 4px 0;
	cursor: default;
}

.monaco-button-dropdown .monaco-button-dropdown-separator > div {
	height: 100%;
	width: 1px;
}

.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {
	border: 1px solid var(--vscode-button-border, transparent);
	border-left-width: 0 !important;
	border-radius: 0 2px 2px 0;
}

.monaco-button-dropdown > .monaco-button.monaco-text-button {
	border-radius: 2px 0 0 2px;
}

.monaco-description-button {
	display: flex;
	flex-direction: column;
	align-items: center;
	margin: 4px 5px; /* allows button focus outline to be visible */
}

.monaco-description-button .monaco-button-description {
	font-style: italic;
	font-size: 11px;
	padding: 4px 20px;
}

.monaco-description-button .monaco-button-label,
.monaco-description-button .monaco-button-description {
	display: flex;
	justify-content: center;
	align-items: center;
}

.monaco-description-button .monaco-button-label > .codicon,
.monaco-description-button .monaco-button-description > .codicon {
	margin: 0 0.2em;
	color: inherit !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.post-drop-widget {
	box-shadow: 0 0 8px 2px var(--vscode-widget-shadow);
	border: 1px solid var(--vscode-widget-border, transparent);
	border-radius: 4px;
	background-color: var(--vscode-editorWidget-background);
	overflow: hidden;
}

.post-drop-widget .monaco-button {
	padding: 2px;
	border: none;
	border-radius: 0;
}

.post-drop-widget .monaco-button:hover {
	background-color: var(--vscode-button-secondaryHoverBackground) !important;
}

.post-drop-widget .monaco-button .codicon {
	margin: 0;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .findOptionsWidget {
	background-color: var(--vscode-editorWidget-background);
	color: var(--vscode-editorWidget-foreground);
	box-shadow: 0 0 8px 2px var(--vscode-widget-shadow);
	border: 2px solid var(--vscode-contrastBorder);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* Find widget */
.monaco-editor .find-widget {
	position: absolute;
	z-index: 35;
	height: 33px;
	overflow: hidden;
	line-height: 19px;
	transition: transform 200ms linear;
	padding: 0 4px;
	box-sizing: border-box;
	transform: translateY(calc(-100% - 10px)); /* shadow (10px) */
	border-bottom-left-radius: 4px;
	border-bottom-right-radius: 4px;
}

.monaco-workbench.reduce-motion .monaco-editor .find-widget {
	transition: transform 0ms linear;
}

.monaco-editor .find-widget textarea {
	margin: 0px;
}

.monaco-editor .find-widget.hiddenEditor {
	display: none;
}

/* Find widget when replace is toggled on */
.monaco-editor .find-widget.replaceToggled > .replace-part {
	display: flex;
}

.monaco-editor .find-widget.visible  {
	transform: translateY(0);
}

.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

.monaco-editor .find-widget .monaco-inputbox .input {
	background-color: transparent;
	min-height: 0;
}

.monaco-editor .find-widget .monaco-findInput .input {
	font-size: 13px;
}

.monaco-editor .find-widget > .find-part,
.monaco-editor .find-widget > .replace-part {
	margin: 3px 0 0 17px;
	font-size: 12px;
	display: flex;
}

.monaco-editor .find-widget > .find-part .monaco-inputbox,
.monaco-editor .find-widget > .replace-part .monaco-inputbox {
	min-height: 25px;
}


.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {
	padding-right: 22px;
}

.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,
.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,
.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,
.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {
	padding-top: 2px;
	padding-bottom: 2px;
}

.monaco-editor .find-widget > .find-part .find-actions {
	height: 25px;
	display: flex;
	align-items: center;
}

.monaco-editor .find-widget > .replace-part .replace-actions {
	height: 25px;
	display: flex;
	align-items: center;
}

.monaco-editor .find-widget .monaco-findInput {
	vertical-align: middle;
	display: flex;
	flex:1;
}

.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {
	/* Make sure textarea inherits the width correctly */
	width: 100%;
}

.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {
	/* Hide vertical scrollbar */
	opacity: 0;
}

.monaco-editor .find-widget .matchesCount {
	display: flex;
	flex: initial;
	margin: 0 0 0 3px;
	padding: 2px 0 0 2px;
	height: 25px;
	vertical-align: middle;
	box-sizing: border-box;
	text-align: center;
	line-height: 23px;
}

.monaco-editor .find-widget .button {
	width: 16px;
	height: 16px;
	padding: 3px;
	border-radius: 5px;
	display: flex;
	flex: initial;
	margin-left: 3px;
	background-position: center center;
	background-repeat: no-repeat;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* find in selection button */
.monaco-editor .find-widget .codicon-find-selection {
	width: 22px;
	height: 22px;
	padding: 3px;
	border-radius: 5px;
}

.monaco-editor .find-widget .button.left {
	margin-left: 0;
	margin-right: 3px;
}

.monaco-editor .find-widget .button.wide {
	width: auto;
	padding: 1px 6px;
	top: -1px;
}

.monaco-editor .find-widget .button.toggle {
	position: absolute;
	top: 0;
	left: 3px;
	width: 18px;
	height: 100%;
	border-radius: 0;
	box-sizing: border-box;
}

.monaco-editor .find-widget .button.toggle.disabled {
	display: none;
}

.monaco-editor .find-widget .disabled {
	color: var(--vscode-disabledForeground);
	cursor: default;
}

.monaco-editor .find-widget > .replace-part {
	display: none;
}

.monaco-editor .find-widget > .replace-part > .monaco-findInput {
	position: relative;
	display: flex;
	vertical-align: middle;
	flex: auto;
	flex-grow: 0;
	flex-shrink: 0;
}

.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {
	position: absolute;
	top: 3px;
	right: 2px;
}

/* REDUCED */
.monaco-editor .find-widget.reduced-find-widget .matchesCount {
	display:none;
}

/* NARROW (SMALLER THAN REDUCED) */
.monaco-editor .find-widget.narrow-find-widget {
	max-width: 257px !important;
}

/* COLLAPSED (SMALLER THAN NARROW) */
.monaco-editor .find-widget.collapsed-find-widget {
	max-width: 170px !important;
}

.monaco-editor .find-widget.collapsed-find-widget .button.previous,
.monaco-editor .find-widget.collapsed-find-widget .button.next,
.monaco-editor .find-widget.collapsed-find-widget .button.replace,
.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,
.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {
	display:none;
}

.monaco-editor .findMatch {
	animation-duration: 0;
	animation-name: inherit !important;
}

.monaco-editor .find-widget .monaco-sash {
	left: 0 !important;
}

.monaco-editor.hc-black .find-widget .button:before {
	position: relative;
	top: 1px;
	left: 2px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,
.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,
.monaco-editor .margin-view-overlays .codicon-folding-expanded,
.monaco-editor .margin-view-overlays .codicon-folding-collapsed {
	cursor: pointer;
	opacity: 0;
	transition: opacity 0.5s;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 140%;
	margin-left: 2px;
}

.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,
.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,
.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,
.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed {
	transition: initial;
}

.monaco-editor .margin-view-overlays:hover .codicon,
.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,
.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,
.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {
	opacity: 1;
}

.monaco-editor .inline-folded:after {
	color: grey;
	margin: 0.1em 0.2em 0 0.2em;
	content: "\22EF"; /* ellipses unicode character */
	display: inline;
	line-height: 1em;
	cursor: pointer;
}

.monaco-editor .folded-background {
	background-color: var(--vscode-editor-foldBackground);
}

.monaco-editor .cldr.codicon.codicon-folding-expanded,
.monaco-editor .cldr.codicon.codicon-folding-collapsed,
.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,
.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed {
	color: var(--vscode-editorGutter-foldingControlForeground) !important;
}

</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .iPadShowKeyboard {
	width: 58px;
	min-width: 0;
	height: 36px;
	min-height: 0;
	margin: 0;
	padding: 0;
	position: absolute;
	resize: none;
	overflow: hidden;
	background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==) center center no-repeat;
	border: 4px solid #F6F6F6;
	border-radius: 4px;
}

.monaco-editor.vs-dark .iPadShowKeyboard {
	background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==) center center no-repeat;
	border: 4px solid #252526;
}</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/


.monaco-editor.vs .valueSetReplacement {
	outline: solid 2px var(--vscode-editorBracketMatch-border);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .suggest-preview-additional-widget {
	white-space: nowrap;
}

.monaco-editor .suggest-preview-additional-widget .content-spacer {
	color: transparent;
	white-space: pre;
}

.monaco-editor .suggest-preview-additional-widget .button {
	display: inline-block;
	cursor: pointer;
	text-decoration: underline;
	text-underline-position: under;
}

.monaco-editor .ghost-text-hidden {
	opacity: 0;
	font-size: 0;
}

.monaco-editor .ghost-text-decoration, .monaco-editor .suggest-preview-text .ghost-text {
	font-style: italic;
}

.monaco-editor .inline-completion-text-to-replace {
	text-decoration: underline;
	text-underline-position: under;
}

.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .suggest-preview-text .ghost-text {
	color: var(--vscode-editorGhostText-foreground) !important;
	background-color: var(--vscode-editorGhostText-background);
	border: 1px solid var(--vscode-editorGhostText-border);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .snippet-placeholder {
	min-width: 2px;
	outline-style: solid;
	outline-width: 1px;
	background-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);
	outline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);
}

.monaco-editor .finish-snippet-placeholder {
	outline-style: solid;
	outline-width: 1px;
	background-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);
	outline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

/* Suggest widget*/

.monaco-editor .suggest-widget {
	width: 430px;
	z-index: 40;
	display: flex;
	flex-direction: column;
}

.monaco-editor .suggest-widget.message {
	flex-direction: row;
	align-items: center;
}

.monaco-editor .suggest-widget,
.monaco-editor .suggest-details {
	flex: 0 1 auto;
	width: 100%;
	border-style: solid;
	border-width: 1px;
	border-color: var(--vscode-editorSuggestWidget-border);
	background-color: var(--vscode-editorSuggestWidget-background);
}

.monaco-editor.hc-black .suggest-widget,
.monaco-editor.hc-black .suggest-details,
.monaco-editor.hc-light .suggest-widget,
.monaco-editor.hc-light .suggest-details {
	border-width: 2px;
}

/* Styles for status bar part */


.monaco-editor .suggest-widget .suggest-status-bar {
	box-sizing: border-box;
	display: none;
	flex-flow: row nowrap;
	justify-content: space-between;
	width: 100%;
	font-size: 80%;
	padding: 0 4px 0 4px;
	border-top: 1px solid var(--vscode-editorSuggestWidget-border);
	overflow: hidden;
}

.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {
	display: flex;
}

.monaco-editor .suggest-widget .suggest-status-bar .left {
	padding-right: 8px;
}

.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {
	color: var(--vscode-editorSuggestWidgetStatus-foreground);
}

.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {
	margin-right: 0;
}

.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {
	content: ', ';
	margin-right: 0.3em;
}

.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,
.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {
	display: none;
}

.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {
	width: 100%;
}

/* Styles for Message element for when widget is loading or is empty */

.monaco-editor .suggest-widget>.message {
	padding-left: 22px;
}

/** Styles for the list element **/

.monaco-editor .suggest-widget>.tree {
	height: 100%;
	width: 100%;
}

.monaco-editor .suggest-widget .monaco-list {
	user-select: none;
	-webkit-user-select: none;
}

/** Styles for each row in the list element **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row {
	display: flex;
	-mox-box-sizing: border-box;
	box-sizing: border-box;
	padding-right: 10px;
	background-repeat: no-repeat;
	background-position: 2px 2px;
	white-space: nowrap;
	cursor: pointer;
	touch-action: none;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {
	color: var(--vscode-editorSuggestWidget-selectedForeground);
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {
	color: var(--vscode-editorSuggestWidget-selectedIconForeground);
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {
	flex: 1;
	height: 100%;
	overflow: hidden;
	padding-left: 2px;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {
	display: flex;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: pre;
	justify-content: space-between;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,
.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {
	display: flex;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {
	color: var(--vscode-editorSuggestWidget-foreground);
}

.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {
	font-weight: bold;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {
	color: var(--vscode-editorSuggestWidget-highlightForeground);
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {
	color: var(--vscode-editorSuggestWidget-focusHighlightForeground);
}

/** ReadMore Icon styles **/

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,
.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {
	color: inherit;
	opacity: 1;
	font-size: 14px;
	cursor: pointer;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {
	position: absolute;
	top: 6px;
	right: 2px;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,
.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {
	opacity: 1;
}

/** signature, qualifier, type/details opacity **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {
	opacity: 0.7;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {
	overflow: hidden;
	text-overflow: ellipsis;
	opacity: 0.6;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {
	margin-left: 12px;
	opacity: 0.4;
	font-size: 85%;
	line-height: initial;
	text-overflow: ellipsis;
	overflow: hidden;
	align-self: center;
}

/** Type Info and icon next to the label in the focused completion item **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {
	font-size: 85%;
	margin-left: 1.1em;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {
	display: inline;
}

/** Details: if using CompletionItem#details, show on focus **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {
	display: none;
}

.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {
	display: inline;
}

/** Details: if using CompletionItemLabel#details, always show **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,
.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {
	display: inline;
}

/** Ellipsis on hover **/

.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {
	width: calc(100% - 26px);
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {
	flex-shrink: 1;
	flex-grow: 1;
	overflow: hidden;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {
	flex-shrink: 0;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {
	max-width: 100%;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {
	flex-shrink: 1;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {
	overflow: hidden;
	flex-shrink: 4;
	max-width: 70%;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {
	display: inline-block;
	position: absolute;
	right: 10px;
	width: 18px;
	height: 18px;
	visibility: hidden;
}

/** Do NOT display ReadMore when docs is side/below **/

.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {
	display: none !important;
}

/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {
	display: none;
}

/** Focused item can show ReadMore, but can't when docs is side/below **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {
	display: inline-block;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {
	visibility: visible;
}

/** Styles for each row in the list **/

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {
	opacity: 0.66;
	text-decoration: unset;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {
	text-decoration: line-through;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {
	height: 100%;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {
	display: block;
	height: 16px;
	width: 16px;
	margin-left: 2px;
	background-repeat: no-repeat;
	background-size: 80%;
	background-position: center;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {
	display: none;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {
	display: flex;
	align-items: center;
	margin-right: 4px;
}

.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,
.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {
	display: none;
}

.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {
	margin: 0 0 0 0.3em;
	border: 0.1em solid #000;
	width: 0.7em;
	height: 0.7em;
	display: inline-block;
}

/** Styles for the docs of the completion item in focus **/

.monaco-editor .suggest-details-container {
	z-index: 41;
}

.monaco-editor .suggest-details {
	display: flex;
	flex-direction: column;
	cursor: default;
	color: var(--vscode-editorSuggestWidget-foreground);
}

.monaco-editor .suggest-details.focused {
	border-color: var(--vscode-focusBorder);
}

.monaco-editor .suggest-details a {
	color: var(--vscode-textLink-foreground);
}

.monaco-editor .suggest-details a:hover {
	color: var(--vscode-textLink-activeForeground);
}

.monaco-editor .suggest-details code {
	background-color: var(--vscode-textCodeBlock-background);
}

.monaco-editor .suggest-details.no-docs {
	display: none;
}

.monaco-editor .suggest-details>.monaco-scrollable-element {
	flex: 1;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body {
	box-sizing: border-box;
	height: 100%;
	width: 100%;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {
	flex: 2;
	overflow: hidden;
	text-overflow: ellipsis;
	opacity: 0.7;
	white-space: pre;
	margin: 0 24px 0 0;
	padding: 4px 0 12px 5px;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {
	white-space: normal;
	word-break: break-all;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {
	margin: 0;
	padding: 4px 5px;
	white-space: pre-wrap;
}

.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {
	margin-right: 24px;
	overflow: hidden;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {
	padding: 0;
	white-space: initial;
	min-height: calc(1rem + 8px);
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,
.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {
	padding: 4px 5px;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {
	margin-top: 0;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {
	margin-bottom: 0;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {
	white-space: pre;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {
	white-space: pre-wrap;
	word-wrap: break-word;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {
	vertical-align: sub;
}

.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {
	display: none;
}

.monaco-editor .suggest-details code {
	border-radius: 3px;
	padding: 0 0.4em;
}

.monaco-editor .suggest-details ul {
	padding-left: 20px;
}

.monaco-editor .suggest-details ol {
	padding-left: 20px;
}

.monaco-editor .suggest-details p code {
	font-family: var(--monaco-monospace-font);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .tokens-inspect-widget {
	z-index: 50;
	user-select: text;
	-webkit-user-select: text;
	padding: 10px;
	color: var(--vscode-editorHoverWidget-foreground);
	background-color: var(--vscode-editorHoverWidget-background);
	border: 1px solid var(--vscode-editorHoverWidget-border);
}
.monaco-editor.hc-black .tokens-inspect-widget, .monaco-editor.hc-light .tokens-inspect-widget {
	border-width: 2px;
}

.monaco-editor .tokens-inspect-widget .tokens-inspect-separator {
	height: 1px;
	border: 0;
	background-color: var(--vscode-editorHoverWidget-border);
}

.monaco-editor .tokens-inspect-widget .tm-token {
	font-family: var(--monaco-monospace-font);
}

.monaco-editor .tokens-inspect-widget .tm-token-length {
	font-weight: normal;
	font-size: 60%;
	float: right;
}

.monaco-editor .tokens-inspect-widget .tm-metadata-table {
	width: 100%;
}

.monaco-editor .tokens-inspect-widget .tm-metadata-value {
	font-family: var(--monaco-monospace-font);
	text-align: right;
}

.monaco-editor .tokens-inspect-widget .tm-token-type {
	font-family: var(--monaco-monospace-font);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .linked-editing-decoration {
	background-color: var(--vscode-editor-linkedEditingBackground);

	/* Ensure decoration is visible even if range is empty */
	min-width: 1px;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
.monaco-editor .detected-link,
.monaco-editor .detected-link-active {
	text-decoration: underline;
	text-underline-position: under;
}

.monaco-editor .detected-link-active {
	cursor: pointer;
	color: var(--vscode-editorLink-activeForeground) !important;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .focused .selectionHighlight {
	background-color: var(--vscode-editor-selectionHighlightBackground);
	box-sizing: border-box;
	border: 1px solid var(--vscode-editor-selectionHighlightBorder);
}
.monaco-editor.hc-black .focused .selectionHighlight, .monaco-editor.hc-light .focused .selectionHighlight {
	border-style: dotted;
}

.monaco-editor .wordHighlight {
	background-color: var(--vscode-editor-wordHighlightBackground);
	box-sizing: border-box;
	border: 1px solid var(--vscode-editor-wordHighlightBorder);
}
.monaco-editor.hc-black .wordHighlight, .monaco-editor.hc-light .wordHighlight {
	border-style: dotted;
}

.monaco-editor .wordHighlightStrong {
	background-color: var(--vscode-editor-wordHighlightStrongBackground);
	box-sizing: border-box;
	border: 1px solid var(--vscode-editor-wordHighlightStrongBorder);
}
.monaco-editor.hc-black .wordHighlightStrong, .monaco-editor.hc-light .wordHighlightStrong {
	border-style: dotted;
}

.monaco-editor .wordHighlightText {
	background-color: var(--vscode-editor-wordHighlightTextBackground);
	box-sizing: border-box;
	border: 1px solid var(--vscode-editor-wordHighlightTextBorder);
}
.monaco-editor.hc-black .wordHighlightText, .monaco-editor.hc-light .wordHighlightText {
	border-style: dotted;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .parameter-hints-widget {
	/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */
	z-index: 39;
	display: flex;
	flex-direction: column;
	line-height: 1.5em;
	cursor: default;
	color: var(--vscode-editorHoverWidget-foreground);
	background-color: var(--vscode-editorHoverWidget-background);
	border: 1px solid var(--vscode-editorHoverWidget-border);
}

.hc-black .monaco-editor .parameter-hints-widget,
.hc-light .monaco-editor .parameter-hints-widget {
	border-width: 2px;
}

.monaco-editor .parameter-hints-widget > .phwrapper {
	max-width: 440px;
	display: flex;
	flex-direction: row;
}

.monaco-editor .parameter-hints-widget.multiple {
	min-height: 3.3em;
	padding: 0;
}

.monaco-editor .parameter-hints-widget.multiple .body::before {
	content: "";
	display: block;
	height: 100%;
	position: absolute;
	opacity: 0.5;
	border-left: 1px solid var(--vscode-editorHoverWidget-border);
}

.monaco-editor .parameter-hints-widget p,
.monaco-editor .parameter-hints-widget ul {
	margin: 8px 0;
}

.monaco-editor .parameter-hints-widget .monaco-scrollable-element,
.monaco-editor .parameter-hints-widget .body {
	display: flex;
	flex: 1;
	flex-direction: column;
	min-height: 100%;
}

.monaco-editor .parameter-hints-widget .signature {
	padding: 4px 5px;
	position: relative;
}

.monaco-editor .parameter-hints-widget .signature.has-docs::after {
	content: "";
	display: block;
	position: absolute;
	left: 0;
	width: 100%;
	padding-top: 4px;
	opacity: 0.5;
	border-bottom: 1px solid var(--vscode-editorHoverWidget-border);
}

.monaco-editor .parameter-hints-widget .docs {
	padding: 0 10px 0 5px;
	white-space: pre-wrap;
}

.monaco-editor .parameter-hints-widget .docs.empty {
	display: none;
}

.monaco-editor .parameter-hints-widget .docs a {
	color: var(--vscode-textLink-foreground);
}

.monaco-editor .parameter-hints-widget .docs a:hover {
	color: var(--vscode-textLink-activeForeground);
	cursor: pointer;
}

.monaco-editor .parameter-hints-widget .docs .markdown-docs {
	white-space: initial;
}

.monaco-editor .parameter-hints-widget .docs code {
	font-family: var(--monaco-monospace-font);
	border-radius: 3px;
	padding: 0 0.4em;
	background-color: var(--vscode-textCodeBlock-background);
}

.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source,
.monaco-editor .parameter-hints-widget .docs .code {
	white-space: pre-wrap;
}

.monaco-editor .parameter-hints-widget .controls {
	display: none;
	flex-direction: column;
	align-items: center;
	min-width: 22px;
	justify-content: flex-end;
}

.monaco-editor .parameter-hints-widget.multiple .controls {
	display: flex;
	padding: 0 2px;
}

.monaco-editor .parameter-hints-widget.multiple .button {
	width: 16px;
	height: 16px;
	background-repeat: no-repeat;
	cursor: pointer;
}

.monaco-editor .parameter-hints-widget .button.previous {
	bottom: 24px;
}

.monaco-editor .parameter-hints-widget .overloads {
	text-align: center;
	height: 12px;
	line-height: 12px;
	font-family: var(--monaco-monospace-font);
}

.monaco-editor .parameter-hints-widget .signature .parameter.active {
	color: var(--vscode-editorHoverWidget-highlightForeground);
	font-weight: bold;
}

.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {
	font-weight: bold;
	margin-right: 0.5em;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .rename-box {
	z-index: 100;
	color: inherit;
	border-radius: 4px;
}

.monaco-editor .rename-box.preview {
	padding: 4px 4px 0 4px;
}

.monaco-editor .rename-box .rename-input {
	padding: 3px;
	border-radius: 2px;
}

.monaco-editor .rename-box .rename-label {
	display: none;
	opacity: .8;
}

.monaco-editor .rename-box.preview .rename-label {
	display: inherit;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .sticky-line {
	color: var(--vscode-editorLineNumber-foreground);
	overflow: hidden;
	white-space: nowrap;
	display: inline-block;
}

.monaco-editor .sticky-line-number {
	text-align: right;
	float: left;
}

.monaco-editor .sticky-line-root {
	background-color: inherit;
	overflow: hidden;
	white-space: nowrap;
	width: 100%;
}

.monaco-editor.hc-black .sticky-widget,
.monaco-editor.hc-light .sticky-widget {
	border-bottom: 1px solid var(--vscode-contrastBorder);
}

.monaco-editor .sticky-line-root:hover {
	background-color: var(--vscode-editorStickyScrollHover-background);
	cursor: pointer;
}

.monaco-editor .sticky-widget {
	width: 100%;
	box-shadow: var(--vscode-scrollbar-shadow) 0 3px 2px -2px;
	z-index: 4;
	background-color: var(--vscode-editorStickyScroll-background);
}

.monaco-editor .sticky-widget.peek {
	background-color: var(--vscode-peekViewEditorStickyScroll-background);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-editor .unicode-highlight {
	border: 1px solid var(--vscode-editorUnicodeHighlight-border);
	background-color: var(--vscode-editorUnicodeHighlight-background);
	box-sizing: border-box;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.editor-banner {
	box-sizing: border-box;
	cursor: default;
	width: 100%;
	font-size: 12px;
	display: flex;
	overflow: visible;

	height: 26px;

	background: var(--vscode-banner-background);
}


.editor-banner .icon-container {
	display: flex;
	flex-shrink: 0;
	align-items: center;
	padding: 0 6px 0 10px;
}

.editor-banner .icon-container.custom-icon {
	background-repeat: no-repeat;
	background-position: center center;
	background-size: 16px;
	width: 16px;
	padding: 0;
	margin: 0 6px 0 10px;
}

.editor-banner .message-container {
	display: flex;
	align-items: center;
	line-height: 26px;
	text-overflow: ellipsis;
	white-space: nowrap;
	overflow: hidden;
}

.editor-banner .message-container p {
	margin-block-start: 0;
	margin-block-end: 0;
}

.editor-banner .message-actions-container {
	flex-grow: 1;
	flex-shrink: 0;
	line-height: 26px;
	margin: 0 4px;
}

.editor-banner .message-actions-container a.monaco-button {
	width: inherit;
	margin: 2px 8px;
	padding: 0px 12px;
}

.editor-banner .message-actions-container a {
	padding: 3px;
	margin-left: 12px;
	text-decoration: underline;
}

.editor-banner .action-container {
	padding: 0 10px 0 6px;
}

.editor-banner {
	background-color: var(--vscode-banner-background);
}

.editor-banner,
.editor-banner .action-container .codicon,
.editor-banner .message-actions-container .monaco-link {
	color: var(--vscode-banner-foreground);
}

.editor-banner .icon-container .codicon {
	color: var(--vscode-banner-iconForeground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-link {
	color: var(--vscode-textLink-foreground);
}

.monaco-link:hover {
	color: var(--vscode-textLink-activeForeground);
}

</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/


/* Default standalone editor fonts */
.monaco-editor {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;
}

.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {
	stroke-width: 1.2px;
}

.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,
.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,
.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {
	stroke-width: 1.2px;
}

.monaco-hover p {
	margin: 0;
}

/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */
.monaco-aria-container {
	position: absolute !important;
	top: 0; /* avoid being placed underneath a sibling element */
	height: 1px;
	width: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	clip: rect(1px, 1px, 1px, 1px);
	clip-path: inset(50%);
}

/*.monaco-editor.vs [tabindex="0"]:focus {
	outline: 1px solid rgba(0, 122, 204, 0.4);
	outline-offset: -1px;
	opacity: 1 !important;
}

.monaco-editor.vs-dark [tabindex="0"]:focus {
	outline: 1px solid rgba(14, 99, 156, 0.6);
	outline-offset: -1px;
	opacity: 1 !important;
}*/
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
/* ---------- DiffEditor ---------- */

.monaco-diff-editor .diffOverview {
	z-index: 9;
}

.monaco-diff-editor .diffOverview .diffViewport {
	z-index: 10;
}

/* colors not externalized: using transparancy on background */
.monaco-diff-editor.vs			.diffOverview { background: rgba(0, 0, 0, 0.03); }
.monaco-diff-editor.vs-dark		.diffOverview { background: rgba(255, 255, 255, 0.01); }

.monaco-scrollable-element.modified-in-monaco-diff-editor.vs		.scrollbar { background: rgba(0,0,0,0); }
.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark	.scrollbar { background: rgba(0,0,0,0); }
.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black	.scrollbar { background: none; }
.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light	.scrollbar { background: none; }

.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {
	z-index: 10;
}
.modified-in-monaco-diff-editor				.slider.active { background: rgba(171, 171, 171, .4); }
.modified-in-monaco-diff-editor.hc-black	.slider.active { background: none; }
.modified-in-monaco-diff-editor.hc-light	.slider.active { background: none; }

/* ---------- Diff ---------- */

.monaco-editor .insert-sign,
.monaco-diff-editor .insert-sign,
.monaco-editor .delete-sign,
.monaco-diff-editor .delete-sign {
	font-size: 11px !important;
	opacity: 0.7 !important;
	display: flex !important;
	align-items: center;
}
.monaco-editor.hc-black .insert-sign,
.monaco-diff-editor.hc-black .insert-sign,
.monaco-editor.hc-black .delete-sign,
.monaco-diff-editor.hc-black .delete-sign,
.monaco-editor.hc-light .insert-sign,
.monaco-diff-editor.hc-light .insert-sign,
.monaco-editor.hc-light .delete-sign,
.monaco-diff-editor.hc-light .delete-sign {
	opacity: 1;
}

.monaco-editor .inline-deleted-margin-view-zone {
	text-align: right;
}
.monaco-editor .inline-added-margin-view-zone {
	text-align: right;
}

.monaco-editor .arrow-revert-change {
	z-index: 10;
	position: absolute;
}

.monaco-editor .arrow-revert-change:hover {
	cursor: pointer;
}

/* ---------- Inline Diff ---------- */

.monaco-editor .view-zones .view-lines .view-line span {
	display: inline-block;
}

.monaco-editor .margin-view-zones .lightbulb-glyph:hover {
	cursor: pointer;
}

.monaco-editor .char-insert, .monaco-diff-editor .char-insert {
	background-color: var(--vscode-diffEditor-insertedTextBackground);
}

.monaco-editor .line-insert, .monaco-diff-editor .line-insert {
	background-color: var(--vscode-diffEditor-insertedLineBackground, --vscode-diffEditor-insertedTextBackground);
}

.monaco-editor .line-insert,
.monaco-editor .char-insert {
	box-sizing: border-box;
	border: 1px solid var(--vscode-diffEditor-insertedTextBorder);
}
.monaco-editor.hc-black .line-insert, .monaco-editor.hc-light .line-insert,
.monaco-editor.hc-black .char-insert, .monaco-editor.hc-light .char-insert {
	border-style: dashed;
}

.monaco-editor .line-delete,
.monaco-editor .char-delete {
	box-sizing: border-box;
	border: 1px solid var(--vscode-diffEditor-removedTextBorder);
}
.monaco-editor.hc-black .line-delete, .monaco-editor.hc-light .line-delete,
.monaco-editor.hc-black .char-delete, .monaco-editor.hc-light .char-delete {
	border-style: dashed;
}

.monaco-editor .inline-added-margin-view-zone,
.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert {
	background-color: var(--vscode-diffEditorGutter-insertedLineBackground, --vscode-diffEditor-insertedLineBackground, --vscode-diffEditor-insertedTextBackground);
}

.monaco-editor .char-delete, .monaco-diff-editor .char-delete {
	background-color: var(--vscode-diffEditor-removedTextBackground);
}

.monaco-editor .line-delete, .monaco-diff-editor .line-delete {
	background-color: var(--vscode-diffEditor-removedLineBackground, --vscode-diffEditor-removedTextBackground);
}

.monaco-editor .inline-deleted-margin-view-zone,
.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete {
	background-color: var(--vscode-diffEditorGutter-removedLineBackground, --vscode-diffEditor-removedLineBackground, --vscode-diffEditor-removedTextBackground);
}

.monaco-diff-editor.side-by-side .editor.modified {
	box-shadow: -6px 0 5px -5px var(--vscode-scrollbar-shadow);
	border-left: 1px solid var(--vscode-diffEditor-border);
}

.monaco-diff-editor .diffViewport {
	background: var(--vscode-scrollbarSlider-background);
}

.monaco-diff-editor .diffViewport:hover {
	background: var(--vscode-scrollbarSlider-hoverBackground);
}

.monaco-diff-editor .diffViewport:active {
	background: var(--vscode-scrollbarSlider-activeBackground);
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-diff-editor .diff-review-line-number {
	text-align: right;
	display: inline-block;
	color: var(--vscode-editorLineNumber-foreground);
}

.monaco-diff-editor .diff-review {
	position: absolute;
	user-select: none;
	-webkit-user-select: none;
}

.monaco-diff-editor .diff-review-summary {
	padding-left: 10px;
}

.monaco-diff-editor .diff-review-shadow {
	position: absolute;
	box-shadow: var(--vscode-scrollbar-shadow) 0 -6px 6px -6px inset;
}

.monaco-diff-editor .diff-review-row {
	white-space: pre;
}

.monaco-diff-editor .diff-review-table {
	display: table;
	min-width: 100%;
}

.monaco-diff-editor .diff-review-row {
	display: table-row;
	width: 100%;
}

.monaco-diff-editor .diff-review-spacer {
	display: inline-block;
	width: 10px;
	vertical-align: middle;
}

.monaco-diff-editor .diff-review-spacer > .codicon {
	font-size: 9px !important;
}

.monaco-diff-editor .diff-review-actions {
	display: inline-block;
	position: absolute;
	right: 10px;
	top: 2px;
}

.monaco-diff-editor .diff-review-actions .action-label {
	width: 16px;
	height: 16px;
	margin: 2px 0;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.context-view {
	position: absolute;
}

.context-view.fixed {
	all: initial;
	font-family: inherit;
	font-size: 13px;
	position: fixed;
	color: inherit;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.quick-input-widget {
	font-size: 13px;
}

.quick-input-widget .monaco-highlighted-label .highlight,
.quick-input-widget .monaco-highlighted-label .highlight {
	color: #0066BF;
}

.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,
.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {
	color: #9DDDFF;
}

.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,
.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {
	color: #0097fb;
}

.hc-black .quick-input-widget .monaco-highlighted-label .highlight,
.hc-black .quick-input-widget .monaco-highlighted-label .highlight {
	color: #F38518;
}

.hc-light .quick-input-widget .monaco-highlighted-label .highlight,
.hc-light .quick-input-widget .monaco-highlighted-label .highlight {
	color: #0F4A85;
}

.monaco-keybinding > .monaco-keybinding-key {
	background-color: rgba(221, 221, 221, 0.4);
	border: solid 1px rgba(204, 204, 204, 0.4);
	border-bottom-color: rgba(187, 187, 187, 0.4);
	box-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);
	color: #555;
}

.hc-black .monaco-keybinding > .monaco-keybinding-key {
	background-color: transparent;
	border: solid 1px rgb(111, 195, 223);
	box-shadow: none;
	color: #fff;
}

.hc-light .monaco-keybinding > .monaco-keybinding-key {
	background-color: transparent;
	border: solid 1px #0F4A85;
	box-shadow: none;
	color: #292929;
}

.vs-dark .monaco-keybinding > .monaco-keybinding-key {
	background-color: rgba(128, 128, 128, 0.17);
	border: solid 1px rgba(51, 51, 51, 0.6);
	border-bottom-color: rgba(68, 68, 68, 0.6);
	box-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);
	color: #ccc;
}
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.monaco-progress-container {
	width: 100%;
	height: 5px;
	overflow: hidden; /* keep progress bit in bounds */
}

.monaco-progress-container .progress-bit {
	width: 2%;
	height: 5px;
	position: absolute;
	left: 0;
	display: none;
}

.monaco-progress-container.active .progress-bit {
	display: inherit;
}

.monaco-progress-container.discrete .progress-bit {
	left: 0;
	transition: width 100ms linear;
}

.monaco-progress-container.discrete.done .progress-bit {
	width: 100%;
}

.monaco-progress-container.infinite .progress-bit {
	animation-name: progress;
	animation-duration: 4s;
	animation-iteration-count: infinite;
	transform: translate3d(0px, 0px, 0px);
	animation-timing-function: linear;
}

.monaco-progress-container.infinite.infinite-long-running .progress-bit {
	/*
		The more smooth `linear` timing function can cause
		higher GPU consumption as indicated in
		https://github.com/microsoft/vscode/issues/97900 &
		https://github.com/microsoft/vscode/issues/138396
	*/
	animation-timing-function: steps(100);
}

/**
 * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of
 * that container. Since translateX is relative to the progress bit size, we have to multiple it with
 * its relative size to the parent container:
 * parent width: 5000%
 *    bit width: 100%
 * translateX should be as follow:
 *  50%: 5000% * 50% - 50% (set to center) = 2450%
 * 100%: 5000% * 100% - 100% (do not overflow) = 4900%
 */
@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }
</style><style>/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.quick-input-widget {
	position: absolute;
	width: 600px;
	z-index: 2550;
	left: 50%;
	margin-left: -300px;
	-webkit-app-region: no-drag;
	border-radius: 6px;
}

.quick-input-titlebar {
	display: flex;
	align-items: center;
	border-top-left-radius: 5px; /* match border radius of quick input widget */
	border-top-right-radius: 5px;
}

.quick-input-left-action-bar {
	display: flex;
	margin-left: 4px;
	flex: 1;
}

.quick-input-title {
	padding: 3px 0px;
	text-align: center;
	text-overflow: ellipsis;
	overflow: hidden;
}

.quick-input-right-action-bar {
	display: flex;
	margin-right: 4px;
	flex: 1;
}

.quick-input-right-action-bar > .actions-container {
	justify-content: flex-end;
}

.quick-input-titlebar .monaco-action-bar .action-label.codicon {
	background-position: center;
	background-repeat: no-repeat;
	padding: 2px;
}

.quick-input-description {
	margin: 6px;
}

.quick-input-header .quick-input-description {
	margin: 4px 2px;
}

.quick-input-header {
	display: flex;
	padding: 8px 6px 6px 6px;
}

.quick-input-widget.hidden-input .quick-input-header {
	/* reduce margins and paddings when input box hidden */
	padding: 0;
	margin-bottom: 0;
}

.quick-input-and-message {
	display: flex;
	flex-direction: column;
	flex-grow: 1;
	min-width: 0;
	position: relative;
}

.quick-input-check-all {
	align-self: center;
	margin: 0;
}

.quick-input-filter {
	flex-grow: 1;
	display: flex;
	position: relative;
}

.quick-input-box {
	flex-grow: 1;
}

.quick-input-widget.show-checkboxes .quick-input-box,
.quick-input-widget.show-checkboxes .quick-input-message {
	margin-left: 5px;
}

.quick-input-visible-count {
	position: absolute;
	left: -10000px;
}

.quick-input-count {
	align-self: center;
	position: absolute;
	right: 4px;
	display: flex;
	align-items: center;
}

.quick-input-count .monaco-count-badge {
	vertical-align: middle;
	padding: 2px 4px;
	border-radius: 2px;
	min-height: auto;
	line-height: normal;
}

.quick-input-action {
	margin-left: 6px;
}

.quick-input-action .monaco-text-button {
	font-size: 11px;
	padding: 0 6px;
	display: flex;
	height: 25px;
	align-items: center;
}

.quick-input-message {
	margin-top: -1px;
	padding: 5px;
	overflow-wrap: break-word;
}

.quick-input-message > .codicon {
	margin: 0 0.2em;
	vertical-align: text-bottom;
}

/* Links in descriptions & validations */
.quick-input-message a {
	color: inherit;
}

.quick-input-progress.monaco-progress-container {
	position: relative;
}

.quick-input-progress.monaco-progress-container,
.quick-input-progress.monaco-progress-container .progress-bit {
	height: 2px;
}

.quick-input-list {
	line-height: 22px;
}

.quick-input-widget.hidden-input .quick-input-list {
	margin-top: 4px; /* reduce margins when input box hidden */
	padding-bottom: 4px;
}

.quick-input-list .monaco-list {
	overflow: hidden;
	max-height: calc(20 * 22px);
	padding-bottom: 5px;
}

.quick-input-list .monaco-scrollable-element {
	padding: 0px 5px;
}

.quick-input-list .quick-input-list-entry {
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	height: 100%;
	padding: 0 6px;
}

.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {
	border-top-width: 1px;
	border-top-style: solid;
}

.quick-input-list .monaco-list-row {
	border-radius: 3px;
}

.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border {
	border-top-style: none;
}

.quick-input-list .quick-input-list-label {
	overflow: hidden;
	display: flex;
	height: 100%;
	flex: 1;
}

.quick-input-list .quick-input-list-checkbox {
	align-self: center;
	margin: 0;
}

.quick-input-list .quick-input-list-rows {
	overflow: hidden;
	text-overflow: ellipsis;
	display: flex;
	flex-direction: column;
	height: 100%;
	flex: 1;
	margin-left: 5px;
}

.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {
	margin-left: 10px;
}

.quick-input-widget .quick-input-list .quick-input-list-checkbox {
	display: none;
}
.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {
	display: inline;
}

.quick-input-list .quick-input-list-rows > .quick-input-list-row {
	display: flex;
	align-items: center;
}

.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,
.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {
	flex: 1; /* make sure the icon label grows within the row */
}

.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {
	vertical-align: text-bottom;
}

.quick-input-list .quick-input-list-rows .monaco-highlighted-label > span {
	opacity: 1;
}

.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {
	margin-right: 8px; /* separate from the separator label or scrollbar if any */
}

.quick-input-list .quick-input-list-label-meta {
	opacity: 0.7;
	line-height: normal;
	text-overflow: ellipsis;
	overflow: hidden;
}

.quick-input-list .monaco-highlighted-label .highlight {
	font-weight: bold;
}

.quick-input-list .quick-input-list-entry .quick-input-list-separator {
	margin-right: 4px; /* separate from keybindings or actions */
}

.quick-input-list .quick-input-list-entry-action-bar {
	display: flex;
	flex: 0;
	overflow: visible;
}

.quick-input-list .quick-input-list-entry-action-bar .action-label {
	/*
	 * By default, actions in the quick input action bar are hidden
	 * until hovered over them or selected.
	 */
	display: none;
}

.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {
	margin-right: 4px;
	padding: 0px 2px 2px 2px;
}

.quick-input-list .quick-input-list-entry-action-bar {
	margin-top: 1px;
}

.quick-input-list .quick-input-list-entry-action-bar {
	margin-right: 4px; /* separate from scrollbar */
}

.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,
.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,
.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {
	display: flex;
}

/* focused items in quick pick */
.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,
.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {
	color: inherit
}
.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {
	background: none;
}
</style><style type="text/css" media="screen" class="monaco-colors">.codicon-add:before { content: '\ea60'; }
.codicon-plus:before { content: '\ea60'; }
.codicon-gist-new:before { content: '\ea60'; }
.codicon-repo-create:before { content: '\ea60'; }
.codicon-lightbulb:before { content: '\ea61'; }
.codicon-light-bulb:before { content: '\ea61'; }
.codicon-repo:before { content: '\ea62'; }
.codicon-repo-delete:before { content: '\ea62'; }
.codicon-gist-fork:before { content: '\ea63'; }
.codicon-repo-forked:before { content: '\ea63'; }
.codicon-git-pull-request:before { content: '\ea64'; }
.codicon-git-pull-request-abandoned:before { content: '\ea64'; }
.codicon-record-keys:before { content: '\ea65'; }
.codicon-keyboard:before { content: '\ea65'; }
.codicon-tag:before { content: '\ea66'; }
.codicon-tag-add:before { content: '\ea66'; }
.codicon-tag-remove:before { content: '\ea66'; }
.codicon-person:before { content: '\ea67'; }
.codicon-person-follow:before { content: '\ea67'; }
.codicon-person-outline:before { content: '\ea67'; }
.codicon-person-filled:before { content: '\ea67'; }
.codicon-git-branch:before { content: '\ea68'; }
.codicon-git-branch-create:before { content: '\ea68'; }
.codicon-git-branch-delete:before { content: '\ea68'; }
.codicon-source-control:before { content: '\ea68'; }
.codicon-mirror:before { content: '\ea69'; }
.codicon-mirror-public:before { content: '\ea69'; }
.codicon-star:before { content: '\ea6a'; }
.codicon-star-add:before { content: '\ea6a'; }
.codicon-star-delete:before { content: '\ea6a'; }
.codicon-star-empty:before { content: '\ea6a'; }
.codicon-comment:before { content: '\ea6b'; }
.codicon-comment-add:before { content: '\ea6b'; }
.codicon-alert:before { content: '\ea6c'; }
.codicon-warning:before { content: '\ea6c'; }
.codicon-search:before { content: '\ea6d'; }
.codicon-search-save:before { content: '\ea6d'; }
.codicon-log-out:before { content: '\ea6e'; }
.codicon-sign-out:before { content: '\ea6e'; }
.codicon-log-in:before { content: '\ea6f'; }
.codicon-sign-in:before { content: '\ea6f'; }
.codicon-eye:before { content: '\ea70'; }
.codicon-eye-unwatch:before { content: '\ea70'; }
.codicon-eye-watch:before { content: '\ea70'; }
.codicon-circle-filled:before { content: '\ea71'; }
.codicon-primitive-dot:before { content: '\ea71'; }
.codicon-close-dirty:before { content: '\ea71'; }
.codicon-debug-breakpoint:before { content: '\ea71'; }
.codicon-debug-breakpoint-disabled:before { content: '\ea71'; }
.codicon-debug-hint:before { content: '\ea71'; }
.codicon-primitive-square:before { content: '\ea72'; }
.codicon-edit:before { content: '\ea73'; }
.codicon-pencil:before { content: '\ea73'; }
.codicon-info:before { content: '\ea74'; }
.codicon-issue-opened:before { content: '\ea74'; }
.codicon-gist-private:before { content: '\ea75'; }
.codicon-git-fork-private:before { content: '\ea75'; }
.codicon-lock:before { content: '\ea75'; }
.codicon-mirror-private:before { content: '\ea75'; }
.codicon-close:before { content: '\ea76'; }
.codicon-remove-close:before { content: '\ea76'; }
.codicon-x:before { content: '\ea76'; }
.codicon-repo-sync:before { content: '\ea77'; }
.codicon-sync:before { content: '\ea77'; }
.codicon-clone:before { content: '\ea78'; }
.codicon-desktop-download:before { content: '\ea78'; }
.codicon-beaker:before { content: '\ea79'; }
.codicon-microscope:before { content: '\ea79'; }
.codicon-vm:before { content: '\ea7a'; }
.codicon-device-desktop:before { content: '\ea7a'; }
.codicon-file:before { content: '\ea7b'; }
.codicon-file-text:before { content: '\ea7b'; }
.codicon-more:before { content: '\ea7c'; }
.codicon-ellipsis:before { content: '\ea7c'; }
.codicon-kebab-horizontal:before { content: '\ea7c'; }
.codicon-mail-reply:before { content: '\ea7d'; }
.codicon-reply:before { content: '\ea7d'; }
.codicon-organization:before { content: '\ea7e'; }
.codicon-organization-filled:before { content: '\ea7e'; }
.codicon-organization-outline:before { content: '\ea7e'; }
.codicon-new-file:before { content: '\ea7f'; }
.codicon-file-add:before { content: '\ea7f'; }
.codicon-new-folder:before { content: '\ea80'; }
.codicon-file-directory-create:before { content: '\ea80'; }
.codicon-trash:before { content: '\ea81'; }
.codicon-trashcan:before { content: '\ea81'; }
.codicon-history:before { content: '\ea82'; }
.codicon-clock:before { content: '\ea82'; }
.codicon-folder:before { content: '\ea83'; }
.codicon-file-directory:before { content: '\ea83'; }
.codicon-symbol-folder:before { content: '\ea83'; }
.codicon-logo-github:before { content: '\ea84'; }
.codicon-mark-github:before { content: '\ea84'; }
.codicon-github:before { content: '\ea84'; }
.codicon-terminal:before { content: '\ea85'; }
.codicon-console:before { content: '\ea85'; }
.codicon-repl:before { content: '\ea85'; }
.codicon-zap:before { content: '\ea86'; }
.codicon-symbol-event:before { content: '\ea86'; }
.codicon-error:before { content: '\ea87'; }
.codicon-stop:before { content: '\ea87'; }
.codicon-variable:before { content: '\ea88'; }
.codicon-symbol-variable:before { content: '\ea88'; }
.codicon-array:before { content: '\ea8a'; }
.codicon-symbol-array:before { content: '\ea8a'; }
.codicon-symbol-module:before { content: '\ea8b'; }
.codicon-symbol-package:before { content: '\ea8b'; }
.codicon-symbol-namespace:before { content: '\ea8b'; }
.codicon-symbol-object:before { content: '\ea8b'; }
.codicon-symbol-method:before { content: '\ea8c'; }
.codicon-symbol-function:before { content: '\ea8c'; }
.codicon-symbol-constructor:before { content: '\ea8c'; }
.codicon-symbol-boolean:before { content: '\ea8f'; }
.codicon-symbol-null:before { content: '\ea8f'; }
.codicon-symbol-numeric:before { content: '\ea90'; }
.codicon-symbol-number:before { content: '\ea90'; }
.codicon-symbol-structure:before { content: '\ea91'; }
.codicon-symbol-struct:before { content: '\ea91'; }
.codicon-symbol-parameter:before { content: '\ea92'; }
.codicon-symbol-type-parameter:before { content: '\ea92'; }
.codicon-symbol-key:before { content: '\ea93'; }
.codicon-symbol-text:before { content: '\ea93'; }
.codicon-symbol-reference:before { content: '\ea94'; }
.codicon-go-to-file:before { content: '\ea94'; }
.codicon-symbol-enum:before { content: '\ea95'; }
.codicon-symbol-value:before { content: '\ea95'; }
.codicon-symbol-ruler:before { content: '\ea96'; }
.codicon-symbol-unit:before { content: '\ea96'; }
.codicon-activate-breakpoints:before { content: '\ea97'; }
.codicon-archive:before { content: '\ea98'; }
.codicon-arrow-both:before { content: '\ea99'; }
.codicon-arrow-down:before { content: '\ea9a'; }
.codicon-arrow-left:before { content: '\ea9b'; }
.codicon-arrow-right:before { content: '\ea9c'; }
.codicon-arrow-small-down:before { content: '\ea9d'; }
.codicon-arrow-small-left:before { content: '\ea9e'; }
.codicon-arrow-small-right:before { content: '\ea9f'; }
.codicon-arrow-small-up:before { content: '\eaa0'; }
.codicon-arrow-up:before { content: '\eaa1'; }
.codicon-bell:before { content: '\eaa2'; }
.codicon-bold:before { content: '\eaa3'; }
.codicon-book:before { content: '\eaa4'; }
.codicon-bookmark:before { content: '\eaa5'; }
.codicon-debug-breakpoint-conditional-unverified:before { content: '\eaa6'; }
.codicon-debug-breakpoint-conditional:before { content: '\eaa7'; }
.codicon-debug-breakpoint-conditional-disabled:before { content: '\eaa7'; }
.codicon-debug-breakpoint-data-unverified:before { content: '\eaa8'; }
.codicon-debug-breakpoint-data:before { content: '\eaa9'; }
.codicon-debug-breakpoint-data-disabled:before { content: '\eaa9'; }
.codicon-debug-breakpoint-log-unverified:before { content: '\eaaa'; }
.codicon-debug-breakpoint-log:before { content: '\eaab'; }
.codicon-debug-breakpoint-log-disabled:before { content: '\eaab'; }
.codicon-briefcase:before { content: '\eaac'; }
.codicon-broadcast:before { content: '\eaad'; }
.codicon-browser:before { content: '\eaae'; }
.codicon-bug:before { content: '\eaaf'; }
.codicon-calendar:before { content: '\eab0'; }
.codicon-case-sensitive:before { content: '\eab1'; }
.codicon-check:before { content: '\eab2'; }
.codicon-checklist:before { content: '\eab3'; }
.codicon-chevron-down:before { content: '\eab4'; }
.codicon-drop-down-button:before { content: '\eab4'; }
.codicon-chevron-left:before { content: '\eab5'; }
.codicon-chevron-right:before { content: '\eab6'; }
.codicon-chevron-up:before { content: '\eab7'; }
.codicon-chrome-close:before { content: '\eab8'; }
.codicon-chrome-maximize:before { content: '\eab9'; }
.codicon-chrome-minimize:before { content: '\eaba'; }
.codicon-chrome-restore:before { content: '\eabb'; }
.codicon-circle:before { content: '\eabc'; }
.codicon-circle-outline:before { content: '\eabc'; }
.codicon-debug-breakpoint-unverified:before { content: '\eabc'; }
.codicon-circle-slash:before { content: '\eabd'; }
.codicon-circuit-board:before { content: '\eabe'; }
.codicon-clear-all:before { content: '\eabf'; }
.codicon-clippy:before { content: '\eac0'; }
.codicon-close-all:before { content: '\eac1'; }
.codicon-cloud-download:before { content: '\eac2'; }
.codicon-cloud-upload:before { content: '\eac3'; }
.codicon-code:before { content: '\eac4'; }
.codicon-collapse-all:before { content: '\eac5'; }
.codicon-color-mode:before { content: '\eac6'; }
.codicon-comment-discussion:before { content: '\eac7'; }
.codicon-compare-changes:before { content: '\eafd'; }
.codicon-credit-card:before { content: '\eac9'; }
.codicon-dash:before { content: '\eacc'; }
.codicon-dashboard:before { content: '\eacd'; }
.codicon-database:before { content: '\eace'; }
.codicon-debug-continue:before { content: '\eacf'; }
.codicon-debug-disconnect:before { content: '\ead0'; }
.codicon-debug-pause:before { content: '\ead1'; }
.codicon-debug-restart:before { content: '\ead2'; }
.codicon-debug-start:before { content: '\ead3'; }
.codicon-debug-step-into:before { content: '\ead4'; }
.codicon-debug-step-out:before { content: '\ead5'; }
.codicon-debug-step-over:before { content: '\ead6'; }
.codicon-debug-stop:before { content: '\ead7'; }
.codicon-debug:before { content: '\ead8'; }
.codicon-device-camera-video:before { content: '\ead9'; }
.codicon-device-camera:before { content: '\eada'; }
.codicon-device-mobile:before { content: '\eadb'; }
.codicon-diff-added:before { content: '\eadc'; }
.codicon-diff-ignored:before { content: '\eadd'; }
.codicon-diff-modified:before { content: '\eade'; }
.codicon-diff-removed:before { content: '\eadf'; }
.codicon-diff-renamed:before { content: '\eae0'; }
.codicon-diff:before { content: '\eae1'; }
.codicon-discard:before { content: '\eae2'; }
.codicon-editor-layout:before { content: '\eae3'; }
.codicon-empty-window:before { content: '\eae4'; }
.codicon-exclude:before { content: '\eae5'; }
.codicon-extensions:before { content: '\eae6'; }
.codicon-eye-closed:before { content: '\eae7'; }
.codicon-file-binary:before { content: '\eae8'; }
.codicon-file-code:before { content: '\eae9'; }
.codicon-file-media:before { content: '\eaea'; }
.codicon-file-pdf:before { content: '\eaeb'; }
.codicon-file-submodule:before { content: '\eaec'; }
.codicon-file-symlink-directory:before { content: '\eaed'; }
.codicon-file-symlink-file:before { content: '\eaee'; }
.codicon-file-zip:before { content: '\eaef'; }
.codicon-files:before { content: '\eaf0'; }
.codicon-filter:before { content: '\eaf1'; }
.codicon-flame:before { content: '\eaf2'; }
.codicon-fold-down:before { content: '\eaf3'; }
.codicon-fold-up:before { content: '\eaf4'; }
.codicon-fold:before { content: '\eaf5'; }
.codicon-folder-active:before { content: '\eaf6'; }
.codicon-folder-opened:before { content: '\eaf7'; }
.codicon-gear:before { content: '\eaf8'; }
.codicon-gift:before { content: '\eaf9'; }
.codicon-gist-secret:before { content: '\eafa'; }
.codicon-gist:before { content: '\eafb'; }
.codicon-git-commit:before { content: '\eafc'; }
.codicon-git-compare:before { content: '\eafd'; }
.codicon-git-merge:before { content: '\eafe'; }
.codicon-github-action:before { content: '\eaff'; }
.codicon-github-alt:before { content: '\eb00'; }
.codicon-globe:before { content: '\eb01'; }
.codicon-grabber:before { content: '\eb02'; }
.codicon-graph:before { content: '\eb03'; }
.codicon-gripper:before { content: '\eb04'; }
.codicon-heart:before { content: '\eb05'; }
.codicon-home:before { content: '\eb06'; }
.codicon-horizontal-rule:before { content: '\eb07'; }
.codicon-hubot:before { content: '\eb08'; }
.codicon-inbox:before { content: '\eb09'; }
.codicon-issue-closed:before { content: '\eba4'; }
.codicon-issue-reopened:before { content: '\eb0b'; }
.codicon-issues:before { content: '\eb0c'; }
.codicon-italic:before { content: '\eb0d'; }
.codicon-jersey:before { content: '\eb0e'; }
.codicon-json:before { content: '\eb0f'; }
.codicon-bracket:before { content: '\eb0f'; }
.codicon-kebab-vertical:before { content: '\eb10'; }
.codicon-key:before { content: '\eb11'; }
.codicon-law:before { content: '\eb12'; }
.codicon-lightbulb-autofix:before { content: '\eb13'; }
.codicon-link-external:before { content: '\eb14'; }
.codicon-link:before { content: '\eb15'; }
.codicon-list-ordered:before { content: '\eb16'; }
.codicon-list-unordered:before { content: '\eb17'; }
.codicon-live-share:before { content: '\eb18'; }
.codicon-loading:before { content: '\eb19'; }
.codicon-location:before { content: '\eb1a'; }
.codicon-mail-read:before { content: '\eb1b'; }
.codicon-mail:before { content: '\eb1c'; }
.codicon-markdown:before { content: '\eb1d'; }
.codicon-megaphone:before { content: '\eb1e'; }
.codicon-mention:before { content: '\eb1f'; }
.codicon-milestone:before { content: '\eb20'; }
.codicon-mortar-board:before { content: '\eb21'; }
.codicon-move:before { content: '\eb22'; }
.codicon-multiple-windows:before { content: '\eb23'; }
.codicon-mute:before { content: '\eb24'; }
.codicon-no-newline:before { content: '\eb25'; }
.codicon-note:before { content: '\eb26'; }
.codicon-octoface:before { content: '\eb27'; }
.codicon-open-preview:before { content: '\eb28'; }
.codicon-package:before { content: '\eb29'; }
.codicon-paintcan:before { content: '\eb2a'; }
.codicon-pin:before { content: '\eb2b'; }
.codicon-play:before { content: '\eb2c'; }
.codicon-run:before { content: '\eb2c'; }
.codicon-plug:before { content: '\eb2d'; }
.codicon-preserve-case:before { content: '\eb2e'; }
.codicon-preview:before { content: '\eb2f'; }
.codicon-project:before { content: '\eb30'; }
.codicon-pulse:before { content: '\eb31'; }
.codicon-question:before { content: '\eb32'; }
.codicon-quote:before { content: '\eb33'; }
.codicon-radio-tower:before { content: '\eb34'; }
.codicon-reactions:before { content: '\eb35'; }
.codicon-references:before { content: '\eb36'; }
.codicon-refresh:before { content: '\eb37'; }
.codicon-regex:before { content: '\eb38'; }
.codicon-remote-explorer:before { content: '\eb39'; }
.codicon-remote:before { content: '\eb3a'; }
.codicon-remove:before { content: '\eb3b'; }
.codicon-replace-all:before { content: '\eb3c'; }
.codicon-replace:before { content: '\eb3d'; }
.codicon-repo-clone:before { content: '\eb3e'; }
.codicon-repo-force-push:before { content: '\eb3f'; }
.codicon-repo-pull:before { content: '\eb40'; }
.codicon-repo-push:before { content: '\eb41'; }
.codicon-report:before { content: '\eb42'; }
.codicon-request-changes:before { content: '\eb43'; }
.codicon-rocket:before { content: '\eb44'; }
.codicon-root-folder-opened:before { content: '\eb45'; }
.codicon-root-folder:before { content: '\eb46'; }
.codicon-rss:before { content: '\eb47'; }
.codicon-ruby:before { content: '\eb48'; }
.codicon-save-all:before { content: '\eb49'; }
.codicon-save-as:before { content: '\eb4a'; }
.codicon-save:before { content: '\eb4b'; }
.codicon-screen-full:before { content: '\eb4c'; }
.codicon-screen-normal:before { content: '\eb4d'; }
.codicon-search-stop:before { content: '\eb4e'; }
.codicon-server:before { content: '\eb50'; }
.codicon-settings-gear:before { content: '\eb51'; }
.codicon-settings:before { content: '\eb52'; }
.codicon-shield:before { content: '\eb53'; }
.codicon-smiley:before { content: '\eb54'; }
.codicon-sort-precedence:before { content: '\eb55'; }
.codicon-split-horizontal:before { content: '\eb56'; }
.codicon-split-vertical:before { content: '\eb57'; }
.codicon-squirrel:before { content: '\eb58'; }
.codicon-star-full:before { content: '\eb59'; }
.codicon-star-half:before { content: '\eb5a'; }
.codicon-symbol-class:before { content: '\eb5b'; }
.codicon-symbol-color:before { content: '\eb5c'; }
.codicon-symbol-customcolor:before { content: '\eb5c'; }
.codicon-symbol-constant:before { content: '\eb5d'; }
.codicon-symbol-enum-member:before { content: '\eb5e'; }
.codicon-symbol-field:before { content: '\eb5f'; }
.codicon-symbol-file:before { content: '\eb60'; }
.codicon-symbol-interface:before { content: '\eb61'; }
.codicon-symbol-keyword:before { content: '\eb62'; }
.codicon-symbol-misc:before { content: '\eb63'; }
.codicon-symbol-operator:before { content: '\eb64'; }
.codicon-symbol-property:before { content: '\eb65'; }
.codicon-wrench:before { content: '\eb65'; }
.codicon-wrench-subaction:before { content: '\eb65'; }
.codicon-symbol-snippet:before { content: '\eb66'; }
.codicon-tasklist:before { content: '\eb67'; }
.codicon-telescope:before { content: '\eb68'; }
.codicon-text-size:before { content: '\eb69'; }
.codicon-three-bars:before { content: '\eb6a'; }
.codicon-thumbsdown:before { content: '\eb6b'; }
.codicon-thumbsup:before { content: '\eb6c'; }
.codicon-tools:before { content: '\eb6d'; }
.codicon-triangle-down:before { content: '\eb6e'; }
.codicon-triangle-left:before { content: '\eb6f'; }
.codicon-triangle-right:before { content: '\eb70'; }
.codicon-triangle-up:before { content: '\eb71'; }
.codicon-twitter:before { content: '\eb72'; }
.codicon-unfold:before { content: '\eb73'; }
.codicon-unlock:before { content: '\eb74'; }
.codicon-unmute:before { content: '\eb75'; }
.codicon-unverified:before { content: '\eb76'; }
.codicon-verified:before { content: '\eb77'; }
.codicon-versions:before { content: '\eb78'; }
.codicon-vm-active:before { content: '\eb79'; }
.codicon-vm-outline:before { content: '\eb7a'; }
.codicon-vm-running:before { content: '\eb7b'; }
.codicon-watch:before { content: '\eb7c'; }
.codicon-whitespace:before { content: '\eb7d'; }
.codicon-whole-word:before { content: '\eb7e'; }
.codicon-window:before { content: '\eb7f'; }
.codicon-word-wrap:before { content: '\eb80'; }
.codicon-zoom-in:before { content: '\eb81'; }
.codicon-zoom-out:before { content: '\eb82'; }
.codicon-list-filter:before { content: '\eb83'; }
.codicon-list-flat:before { content: '\eb84'; }
.codicon-list-selection:before { content: '\eb85'; }
.codicon-selection:before { content: '\eb85'; }
.codicon-list-tree:before { content: '\eb86'; }
.codicon-debug-breakpoint-function-unverified:before { content: '\eb87'; }
.codicon-debug-breakpoint-function:before { content: '\eb88'; }
.codicon-debug-breakpoint-function-disabled:before { content: '\eb88'; }
.codicon-debug-stackframe-active:before { content: '\eb89'; }
.codicon-circle-small-filled:before { content: '\eb8a'; }
.codicon-debug-stackframe-dot:before { content: '\eb8a'; }
.codicon-debug-stackframe:before { content: '\eb8b'; }
.codicon-debug-stackframe-focused:before { content: '\eb8b'; }
.codicon-debug-breakpoint-unsupported:before { content: '\eb8c'; }
.codicon-symbol-string:before { content: '\eb8d'; }
.codicon-debug-reverse-continue:before { content: '\eb8e'; }
.codicon-debug-step-back:before { content: '\eb8f'; }
.codicon-debug-restart-frame:before { content: '\eb90'; }
.codicon-call-incoming:before { content: '\eb92'; }
.codicon-call-outgoing:before { content: '\eb93'; }
.codicon-menu:before { content: '\eb94'; }
.codicon-expand-all:before { content: '\eb95'; }
.codicon-feedback:before { content: '\eb96'; }
.codicon-group-by-ref-type:before { content: '\eb97'; }
.codicon-ungroup-by-ref-type:before { content: '\eb98'; }
.codicon-account:before { content: '\eb99'; }
.codicon-bell-dot:before { content: '\eb9a'; }
.codicon-debug-console:before { content: '\eb9b'; }
.codicon-library:before { content: '\eb9c'; }
.codicon-output:before { content: '\eb9d'; }
.codicon-run-all:before { content: '\eb9e'; }
.codicon-sync-ignored:before { content: '\eb9f'; }
.codicon-pinned:before { content: '\eba0'; }
.codicon-github-inverted:before { content: '\eba1'; }
.codicon-debug-alt:before { content: '\eb91'; }
.codicon-server-process:before { content: '\eba2'; }
.codicon-server-environment:before { content: '\eba3'; }
.codicon-pass:before { content: '\eba4'; }
.codicon-stop-circle:before { content: '\eba5'; }
.codicon-play-circle:before { content: '\eba6'; }
.codicon-record:before { content: '\eba7'; }
.codicon-debug-alt-small:before { content: '\eba8'; }
.codicon-vm-connect:before { content: '\eba9'; }
.codicon-cloud:before { content: '\ebaa'; }
.codicon-merge:before { content: '\ebab'; }
.codicon-export:before { content: '\ebac'; }
.codicon-graph-left:before { content: '\ebad'; }
.codicon-magnet:before { content: '\ebae'; }
.codicon-notebook:before { content: '\ebaf'; }
.codicon-redo:before { content: '\ebb0'; }
.codicon-check-all:before { content: '\ebb1'; }
.codicon-pinned-dirty:before { content: '\ebb2'; }
.codicon-pass-filled:before { content: '\ebb3'; }
.codicon-circle-large-filled:before { content: '\ebb4'; }
.codicon-circle-large:before { content: '\ebb5'; }
.codicon-circle-large-outline:before { content: '\ebb5'; }
.codicon-combine:before { content: '\ebb6'; }
.codicon-gather:before { content: '\ebb6'; }
.codicon-table:before { content: '\ebb7'; }
.codicon-variable-group:before { content: '\ebb8'; }
.codicon-type-hierarchy:before { content: '\ebb9'; }
.codicon-type-hierarchy-sub:before { content: '\ebba'; }
.codicon-type-hierarchy-super:before { content: '\ebbb'; }
.codicon-git-pull-request-create:before { content: '\ebbc'; }
.codicon-run-above:before { content: '\ebbd'; }
.codicon-run-below:before { content: '\ebbe'; }
.codicon-notebook-template:before { content: '\ebbf'; }
.codicon-debug-rerun:before { content: '\ebc0'; }
.codicon-workspace-trusted:before { content: '\ebc1'; }
.codicon-workspace-untrusted:before { content: '\ebc2'; }
.codicon-workspace-unspecified:before { content: '\ebc3'; }
.codicon-terminal-cmd:before { content: '\ebc4'; }
.codicon-terminal-debian:before { content: '\ebc5'; }
.codicon-terminal-linux:before { content: '\ebc6'; }
.codicon-terminal-powershell:before { content: '\ebc7'; }
.codicon-terminal-tmux:before { content: '\ebc8'; }
.codicon-terminal-ubuntu:before { content: '\ebc9'; }
.codicon-terminal-bash:before { content: '\ebca'; }
.codicon-arrow-swap:before { content: '\ebcb'; }
.codicon-copy:before { content: '\ebcc'; }
.codicon-person-add:before { content: '\ebcd'; }
.codicon-filter-filled:before { content: '\ebce'; }
.codicon-wand:before { content: '\ebcf'; }
.codicon-debug-line-by-line:before { content: '\ebd0'; }
.codicon-inspect:before { content: '\ebd1'; }
.codicon-layers:before { content: '\ebd2'; }
.codicon-layers-dot:before { content: '\ebd3'; }
.codicon-layers-active:before { content: '\ebd4'; }
.codicon-compass:before { content: '\ebd5'; }
.codicon-compass-dot:before { content: '\ebd6'; }
.codicon-compass-active:before { content: '\ebd7'; }
.codicon-azure:before { content: '\ebd8'; }
.codicon-issue-draft:before { content: '\ebd9'; }
.codicon-git-pull-request-closed:before { content: '\ebda'; }
.codicon-git-pull-request-draft:before { content: '\ebdb'; }
.codicon-debug-all:before { content: '\ebdc'; }
.codicon-debug-coverage:before { content: '\ebdd'; }
.codicon-run-errors:before { content: '\ebde'; }
.codicon-folder-library:before { content: '\ebdf'; }
.codicon-debug-continue-small:before { content: '\ebe0'; }
.codicon-beaker-stop:before { content: '\ebe1'; }
.codicon-graph-line:before { content: '\ebe2'; }
.codicon-graph-scatter:before { content: '\ebe3'; }
.codicon-pie-chart:before { content: '\ebe4'; }
.codicon-bracket-dot:before { content: '\ebe5'; }
.codicon-bracket-error:before { content: '\ebe6'; }
.codicon-lock-small:before { content: '\ebe7'; }
.codicon-azure-devops:before { content: '\ebe8'; }
.codicon-verified-filled:before { content: '\ebe9'; }
.codicon-newline:before { content: '\ebea'; }
.codicon-layout:before { content: '\ebeb'; }
.codicon-layout-activitybar-left:before { content: '\ebec'; }
.codicon-layout-activitybar-right:before { content: '\ebed'; }
.codicon-layout-panel-left:before { content: '\ebee'; }
.codicon-layout-panel-center:before { content: '\ebef'; }
.codicon-layout-panel-justify:before { content: '\ebf0'; }
.codicon-layout-panel-right:before { content: '\ebf1'; }
.codicon-layout-panel:before { content: '\ebf2'; }
.codicon-layout-sidebar-left:before { content: '\ebf3'; }
.codicon-layout-sidebar-right:before { content: '\ebf4'; }
.codicon-layout-statusbar:before { content: '\ebf5'; }
.codicon-layout-menubar:before { content: '\ebf6'; }
.codicon-layout-centered:before { content: '\ebf7'; }
.codicon-layout-sidebar-right-off:before { content: '\ec00'; }
.codicon-layout-panel-off:before { content: '\ec01'; }
.codicon-layout-sidebar-left-off:before { content: '\ec02'; }
.codicon-target:before { content: '\ebf8'; }
.codicon-indent:before { content: '\ebf9'; }
.codicon-record-small:before { content: '\ebfa'; }
.codicon-error-small:before { content: '\ebfb'; }
.codicon-arrow-circle-down:before { content: '\ebfc'; }
.codicon-arrow-circle-left:before { content: '\ebfd'; }
.codicon-arrow-circle-right:before { content: '\ebfe'; }
.codicon-arrow-circle-up:before { content: '\ebff'; }
.codicon-heart-filled:before { content: '\ec04'; }
.codicon-map:before { content: '\ec05'; }
.codicon-map-filled:before { content: '\ec06'; }
.codicon-circle-small:before { content: '\ec07'; }
.codicon-bell-slash:before { content: '\ec08'; }
.codicon-bell-slash-dot:before { content: '\ec09'; }
.codicon-comment-unresolved:before { content: '\ec0a'; }
.codicon-git-pull-request-go-to-changes:before { content: '\ec0b'; }
.codicon-git-pull-request-new-changes:before { content: '\ec0c'; }
.codicon-search-fuzzy:before { content: '\ec0d'; }
.codicon-comment-draft:before { content: '\ec0e'; }
.codicon-send:before { content: '\ec0f'; }
.codicon-sparkle:before { content: '\ec10'; }
.codicon-insert:before { content: '\ec11'; }
.codicon-dialog-error:before { content: '\ea87'; }
.codicon-dialog-warning:before { content: '\ea6c'; }
.codicon-dialog-info:before { content: '\ea74'; }
.codicon-dialog-close:before { content: '\ea76'; }
.codicon-tree-item-expanded:before { content: '\eab4'; }
.codicon-tree-filter-on-type-on:before { content: '\eb83'; }
.codicon-tree-filter-on-type-off:before { content: '\eb85'; }
.codicon-tree-filter-clear:before { content: '\ea76'; }
.codicon-tree-item-loading:before { content: '\eb19'; }
.codicon-menu-selection:before { content: '\eab2'; }
.codicon-menu-submenu:before { content: '\eab6'; }
.codicon-menubar-more:before { content: '\ea7c'; }
.codicon-scrollbar-button-left:before { content: '\eb6f'; }
.codicon-scrollbar-button-right:before { content: '\eb70'; }
.codicon-scrollbar-button-up:before { content: '\eb71'; }
.codicon-scrollbar-button-down:before { content: '\eb6e'; }
.codicon-toolbar-more:before { content: '\ea7c'; }
.codicon-quick-input-back:before { content: '\ea9b'; }
.codicon-widget-close:before { content: '\ea76'; }
.codicon-goto-previous-location:before { content: '\eaa1'; }
.codicon-goto-next-location:before { content: '\ea9a'; }
.codicon-marker-navigation-next:before { content: '\ea9a'; }
.codicon-marker-navigation-previous:before { content: '\eaa1'; }
.codicon-inline-suggestion-hints-next:before { content: '\eab6'; }
.codicon-inline-suggestion-hints-previous:before { content: '\eab5'; }
.codicon-find-selection:before { content: '\eb85'; }
.codicon-find-collapsed:before { content: '\eab6'; }
.codicon-find-expanded:before { content: '\eab4'; }
.codicon-find-replace:before { content: '\eb3d'; }
.codicon-find-replace-all:before { content: '\eb3c'; }
.codicon-find-previous-match:before { content: '\eaa1'; }
.codicon-find-next-match:before { content: '\ea9a'; }
.codicon-folding-expanded:before { content: '\eab4'; }
.codicon-folding-collapsed:before { content: '\eab6'; }
.codicon-folding-manual-collapsed:before { content: '\eab6'; }
.codicon-folding-manual-expanded:before { content: '\eab4'; }
.codicon-suggest-more-info:before { content: '\eab6'; }
.codicon-parameter-hints-next:before { content: '\eab4'; }
.codicon-parameter-hints-previous:before { content: '\eab7'; }
.codicon-extensions-warning-message:before { content: '\ea6c'; }
.codicon-diff-review-insert:before { content: '\ea60'; }
.codicon-diff-review-remove:before { content: '\eb3b'; }
.codicon-diff-review-close:before { content: '\ea76'; }
.codicon-diff-insert:before { content: '\ea60'; }
.codicon-diff-remove:before { content: '\eb3b'; }
.monaco-editor .inputarea.ime-input { background-color: #fffffe; }
.monaco-editor .unexpected-closing-bracket { color: rgba(255, 18, 18, 0.8); }
.monaco-editor .bracket-highlighting-0 { color: #0431fa; }
.monaco-editor .bracket-highlighting-1 { color: #319331; }
.monaco-editor .bracket-highlighting-2 { color: #7b3814; }
.monaco-editor .bracket-highlighting-3 { color: #0431fa; }
.monaco-editor .bracket-highlighting-4 { color: #319331; }
.monaco-editor .bracket-highlighting-5 { color: #7b3814; }
.monaco-editor .bracket-highlighting-6 { color: #0431fa; }
.monaco-editor .bracket-highlighting-7 { color: #319331; }
.monaco-editor .bracket-highlighting-8 { color: #7b3814; }
.monaco-editor .bracket-highlighting-9 { color: #0431fa; }
.monaco-editor .bracket-highlighting-10 { color: #319331; }
.monaco-editor .bracket-highlighting-11 { color: #7b3814; }
.monaco-editor .bracket-highlighting-12 { color: #0431fa; }
.monaco-editor .bracket-highlighting-13 { color: #319331; }
.monaco-editor .bracket-highlighting-14 { color: #7b3814; }
.monaco-editor .bracket-highlighting-15 { color: #0431fa; }
.monaco-editor .bracket-highlighting-16 { color: #319331; }
.monaco-editor .bracket-highlighting-17 { color: #7b3814; }
.monaco-editor .bracket-highlighting-18 { color: #0431fa; }
.monaco-editor .bracket-highlighting-19 { color: #319331; }
.monaco-editor .bracket-highlighting-20 { color: #7b3814; }
.monaco-editor .bracket-highlighting-21 { color: #0431fa; }
.monaco-editor .bracket-highlighting-22 { color: #319331; }
.monaco-editor .bracket-highlighting-23 { color: #7b3814; }
.monaco-editor .bracket-highlighting-24 { color: #0431fa; }
.monaco-editor .bracket-highlighting-25 { color: #319331; }
.monaco-editor .bracket-highlighting-26 { color: #7b3814; }
.monaco-editor .bracket-highlighting-27 { color: #0431fa; }
.monaco-editor .bracket-highlighting-28 { color: #319331; }
.monaco-editor .bracket-highlighting-29 { color: #7b3814; }
.monaco-editor .line-numbers.dimmed-line-number { color: rgba(35, 120, 147, 0.4); }
.monaco-editor .view-overlays .current-line { border: 2px solid #eeeeee; }
.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid #eeeeee; }
.monaco-editor .bracket-indent-guide.lvl-0 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-1 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-2 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-3 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-4 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-5 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-6 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-7 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-8 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-9 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-10 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-11 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-12 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-13 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-14 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-15 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-16 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-17 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-18 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-19 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-20 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-21 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-22 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-23 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-24 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-25 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-26 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .bracket-indent-guide.lvl-27 { --guide-color: rgba(4, 49, 250, 0.3); --guide-color-active: #0431fa; }
.monaco-editor .bracket-indent-guide.lvl-28 { --guide-color: rgba(49, 147, 49, 0.3); --guide-color-active: #319331; }
.monaco-editor .bracket-indent-guide.lvl-29 { --guide-color: rgba(123, 56, 20, 0.3); --guide-color-active: #7b3814; }
.monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }
.monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }
.monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }
.monaco-editor .vertical.indent-active { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }
.monaco-editor .horizontal-top.indent-active { border-top: 1px solid var(--guide-color-active); }
.monaco-editor .horizontal-bottom.indent-active { border-bottom: 1px solid var(--guide-color-active); }
.monaco-editor .cursors-layer .cursor { background-color: #000000; border-color: #000000; color: #ffffff; }
.monaco-editor .squiggly-error { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23e51400'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x bottom left; }
.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%23bf8803'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x bottom left; }
.monaco-editor .squiggly-info { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%206%203'%20enable-background%3D'new%200%200%206%203'%20height%3D'3'%20width%3D'6'%3E%3Cg%20fill%3D'%231a85ff'%3E%3Cpolygon%20points%3D'5.5%2C0%202.5%2C3%201.1%2C3%204.1%2C0'%2F%3E%3Cpolygon%20points%3D'4%2C0%206%2C2%206%2C0.6%205.4%2C0'%2F%3E%3Cpolygon%20points%3D'0%2C2%201%2C3%202.4%2C3%200%2C0.6'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") repeat-x bottom left; }
.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%223%22%20width%3D%2212%22%3E%3Cg%20fill%3D%22%236c6c6c%22%3E%3Ccircle%20cx%3D%221%22%20cy%3D%221%22%20r%3D%221%22%2F%3E%3Ccircle%20cx%3D%225%22%20cy%3D%221%22%20r%3D%221%22%2F%3E%3Ccircle%20cx%3D%229%22%20cy%3D%221%22%20r%3D%221%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E") no-repeat bottom left; }
.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: 0.467; }
.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid rgba(200, 200, 200, 0.5); }
.monaco-editor .monaco-hover hr { border-top: 1px solid rgba(200, 200, 200, 0.5); }
.monaco-editor .monaco-hover hr { border-bottom: 0px solid rgba(200, 200, 200, 0.5); }
.monaco-editor .findMatch { background-color: rgba(234, 92, 0, 0.33); }
.monaco-editor .currentFindMatch { background-color: #a8ac94; }
.monaco-editor .findScope { background-color: rgba(180, 180, 180, 0.3); }
.monaco-editor .find-widget { background-color: #f3f3f3; }
.monaco-editor .find-widget { box-shadow: 0 0 8px 2px rgba(0, 0, 0, 0.16); }
.monaco-editor .find-widget { color: #616161; }
.monaco-editor .find-widget.no-results .matchesCount { color: #a1260d; }
.monaco-editor .find-widget .monaco-sash { background-color: #c8c8c8; }

		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: rgba(184, 184, 184, 0.31) !important;
		}
	
.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: #0090f1; }
.monaco-editor .selectionHighlight { background-color: rgba(173, 214, 255, 0.15); }

	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			rgba(34, 34, 34, 0.2) 12.5%,
			#0000 12.5%, #0000 50%,
			rgba(34, 34, 34, 0.2) 50%, rgba(34, 34, 34, 0.2) 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	
.monaco-editor { --vscode-foreground: #616161;
--vscode-disabledForeground: rgba(97, 97, 97, 0.5);
--vscode-errorForeground: #a1260d;
--vscode-descriptionForeground: #717171;
--vscode-icon-foreground: #424242;
--vscode-focusBorder: #0090f1;
--vscode-textSeparator-foreground: rgba(0, 0, 0, 0.18);
--vscode-textLink-foreground: #006ab1;
--vscode-textLink-activeForeground: #006ab1;
--vscode-textPreformat-foreground: #a31515;
--vscode-textBlockQuote-background: rgba(127, 127, 127, 0.1);
--vscode-textBlockQuote-border: rgba(0, 122, 204, 0.5);
--vscode-textCodeBlock-background: rgba(220, 220, 220, 0.4);
--vscode-widget-shadow: rgba(0, 0, 0, 0.16);
--vscode-input-background: #ffffff;
--vscode-input-foreground: #616161;
--vscode-inputOption-activeBorder: #007acc;
--vscode-inputOption-hoverBackground: rgba(184, 184, 184, 0.31);
--vscode-inputOption-activeBackground: rgba(0, 144, 241, 0.2);
--vscode-inputOption-activeForeground: #000000;
--vscode-input-placeholderForeground: rgba(97, 97, 97, 0.5);
--vscode-inputValidation-infoBackground: #d6ecf2;
--vscode-inputValidation-infoBorder: #007acc;
--vscode-inputValidation-warningBackground: #f6f5d2;
--vscode-inputValidation-warningBorder: #b89500;
--vscode-inputValidation-errorBackground: #f2dede;
--vscode-inputValidation-errorBorder: #be1100;
--vscode-dropdown-background: #ffffff;
--vscode-dropdown-foreground: #616161;
--vscode-dropdown-border: #cecece;
--vscode-button-foreground: #ffffff;
--vscode-button-separator: rgba(255, 255, 255, 0.4);
--vscode-button-background: #007acc;
--vscode-button-hoverBackground: #0062a3;
--vscode-button-secondaryForeground: #ffffff;
--vscode-button-secondaryBackground: #5f6a79;
--vscode-button-secondaryHoverBackground: #4c5561;
--vscode-badge-background: #c4c4c4;
--vscode-badge-foreground: #333333;
--vscode-scrollbar-shadow: #dddddd;
--vscode-scrollbarSlider-background: rgba(100, 100, 100, 0.4);
--vscode-scrollbarSlider-hoverBackground: rgba(100, 100, 100, 0.7);
--vscode-scrollbarSlider-activeBackground: rgba(0, 0, 0, 0.6);
--vscode-progressBar-background: #0e70c0;
--vscode-editorError-foreground: #e51400;
--vscode-editorWarning-foreground: #bf8803;
--vscode-editorInfo-foreground: #1a85ff;
--vscode-editorHint-foreground: #6c6c6c;
--vscode-sash-hoverBorder: #0090f1;
--vscode-editor-background: #fffffe;
--vscode-editor-foreground: #000000;
--vscode-editorStickyScroll-background: #fffffe;
--vscode-editorStickyScrollHover-background: #f0f0f0;
--vscode-editorWidget-background: #f3f3f3;
--vscode-editorWidget-foreground: #616161;
--vscode-editorWidget-border: #c8c8c8;
--vscode-quickInput-background: #f3f3f3;
--vscode-quickInput-foreground: #616161;
--vscode-quickInputTitle-background: rgba(0, 0, 0, 0.06);
--vscode-pickerGroup-foreground: #0066bf;
--vscode-pickerGroup-border: #cccedb;
--vscode-keybindingLabel-background: rgba(221, 221, 221, 0.4);
--vscode-keybindingLabel-foreground: #555555;
--vscode-keybindingLabel-border: rgba(204, 204, 204, 0.4);
--vscode-keybindingLabel-bottomBorder: rgba(187, 187, 187, 0.4);
--vscode-editor-selectionBackground: #add6ff;
--vscode-editor-inactiveSelectionBackground: #e5ebf1;
--vscode-editor-selectionHighlightBackground: rgba(173, 214, 255, 0.3);
--vscode-editor-findMatchBackground: #a8ac94;
--vscode-editor-findMatchHighlightBackground: rgba(234, 92, 0, 0.33);
--vscode-editor-findRangeHighlightBackground: rgba(180, 180, 180, 0.3);
--vscode-searchEditor-findMatchBackground: rgba(234, 92, 0, 0.22);
--vscode-search-resultsInfoForeground: #616161;
--vscode-editor-hoverHighlightBackground: rgba(173, 214, 255, 0.15);
--vscode-editorHoverWidget-background: #f3f3f3;
--vscode-editorHoverWidget-foreground: #616161;
--vscode-editorHoverWidget-border: #c8c8c8;
--vscode-editorHoverWidget-statusBarBackground: #e7e7e7;
--vscode-editorLink-activeForeground: #0000ff;
--vscode-editorInlayHint-foreground: #333333;
--vscode-editorInlayHint-background: rgba(196, 196, 196, 0.6);
--vscode-editorInlayHint-typeForeground: #333333;
--vscode-editorInlayHint-typeBackground: rgba(196, 196, 196, 0.6);
--vscode-editorInlayHint-parameterForeground: #333333;
--vscode-editorInlayHint-parameterBackground: rgba(196, 196, 196, 0.6);
--vscode-editorLightBulb-foreground: #ddb100;
--vscode-editorLightBulbAutoFix-foreground: #007acc;
--vscode-diffEditor-insertedTextBackground: rgba(156, 204, 44, 0.25);
--vscode-diffEditor-removedTextBackground: rgba(255, 0, 0, 0.2);
--vscode-diffEditor-insertedLineBackground: rgba(155, 185, 85, 0.2);
--vscode-diffEditor-removedLineBackground: rgba(255, 0, 0, 0.2);
--vscode-diffEditor-diagonalFill: rgba(34, 34, 34, 0.2);
--vscode-list-focusOutline: #0090f1;
--vscode-list-activeSelectionBackground: #0060c0;
--vscode-list-activeSelectionForeground: #ffffff;
--vscode-list-inactiveSelectionBackground: #e4e6f1;
--vscode-list-hoverBackground: #f0f0f0;
--vscode-list-dropBackground: #d6ebff;
--vscode-list-highlightForeground: #0066bf;
--vscode-list-focusHighlightForeground: #bbe7ff;
--vscode-list-invalidItemForeground: #b89500;
--vscode-list-errorForeground: #b01011;
--vscode-list-warningForeground: #855f00;
--vscode-listFilterWidget-background: #f3f3f3;
--vscode-listFilterWidget-outline: rgba(0, 0, 0, 0);
--vscode-listFilterWidget-noMatchesOutline: #be1100;
--vscode-listFilterWidget-shadow: rgba(0, 0, 0, 0.16);
--vscode-list-filterMatchBackground: rgba(234, 92, 0, 0.33);
--vscode-tree-indentGuidesStroke: #a9a9a9;
--vscode-tree-inactiveIndentGuidesStroke: rgba(169, 169, 169, 0.4);
--vscode-tree-tableColumnsBorder: rgba(97, 97, 97, 0.13);
--vscode-tree-tableOddRowsBackground: rgba(97, 97, 97, 0.04);
--vscode-list-deemphasizedForeground: #8e8e90;
--vscode-checkbox-background: #ffffff;
--vscode-checkbox-selectBackground: #f3f3f3;
--vscode-checkbox-foreground: #616161;
--vscode-checkbox-border: #cecece;
--vscode-checkbox-selectBorder: #424242;
--vscode-quickInputList-focusForeground: #ffffff;
--vscode-quickInputList-focusBackground: #0060c0;
--vscode-menu-foreground: #616161;
--vscode-menu-background: #ffffff;
--vscode-menu-selectionForeground: #ffffff;
--vscode-menu-selectionBackground: #0060c0;
--vscode-menu-separatorBackground: #d4d4d4;
--vscode-toolbar-hoverBackground: rgba(184, 184, 184, 0.31);
--vscode-toolbar-activeBackground: rgba(166, 166, 166, 0.31);
--vscode-editor-snippetTabstopHighlightBackground: rgba(10, 50, 100, 0.2);
--vscode-editor-snippetFinalTabstopHighlightBorder: rgba(10, 50, 100, 0.5);
--vscode-breadcrumb-foreground: rgba(97, 97, 97, 0.8);
--vscode-breadcrumb-background: #fffffe;
--vscode-breadcrumb-focusForeground: #4e4e4e;
--vscode-breadcrumb-activeSelectionForeground: #4e4e4e;
--vscode-breadcrumbPicker-background: #f3f3f3;
--vscode-merge-currentHeaderBackground: rgba(64, 200, 174, 0.5);
--vscode-merge-currentContentBackground: rgba(64, 200, 174, 0.2);
--vscode-merge-incomingHeaderBackground: rgba(64, 166, 255, 0.5);
--vscode-merge-incomingContentBackground: rgba(64, 166, 255, 0.2);
--vscode-merge-commonHeaderBackground: rgba(96, 96, 96, 0.4);
--vscode-merge-commonContentBackground: rgba(96, 96, 96, 0.16);
--vscode-editorOverviewRuler-currentContentForeground: rgba(64, 200, 174, 0.5);
--vscode-editorOverviewRuler-incomingContentForeground: rgba(64, 166, 255, 0.5);
--vscode-editorOverviewRuler-commonContentForeground: rgba(96, 96, 96, 0.4);
--vscode-editorOverviewRuler-findMatchForeground: rgba(209, 134, 22, 0.49);
--vscode-editorOverviewRuler-selectionHighlightForeground: rgba(160, 160, 160, 0.8);
--vscode-minimap-findMatchHighlight: #d18616;
--vscode-minimap-selectionOccurrenceHighlight: #c9c9c9;
--vscode-minimap-selectionHighlight: #add6ff;
--vscode-minimap-errorHighlight: rgba(255, 18, 18, 0.7);
--vscode-minimap-warningHighlight: #bf8803;
--vscode-minimap-foregroundOpacity: #000000;
--vscode-minimapSlider-background: rgba(100, 100, 100, 0.2);
--vscode-minimapSlider-hoverBackground: rgba(100, 100, 100, 0.35);
--vscode-minimapSlider-activeBackground: rgba(0, 0, 0, 0.3);
--vscode-problemsErrorIcon-foreground: #e51400;
--vscode-problemsWarningIcon-foreground: #bf8803;
--vscode-problemsInfoIcon-foreground: #1a85ff;
--vscode-charts-foreground: #616161;
--vscode-charts-lines: rgba(97, 97, 97, 0.5);
--vscode-charts-red: #e51400;
--vscode-charts-blue: #1a85ff;
--vscode-charts-yellow: #bf8803;
--vscode-charts-orange: #d18616;
--vscode-charts-green: #388a34;
--vscode-charts-purple: #652d90;
--vscode-editor-lineHighlightBorder: #eeeeee;
--vscode-editor-rangeHighlightBackground: rgba(253, 255, 0, 0.2);
--vscode-editor-symbolHighlightBackground: rgba(234, 92, 0, 0.33);
--vscode-editorCursor-foreground: #000000;
--vscode-editorWhitespace-foreground: rgba(51, 51, 51, 0.2);
--vscode-editorIndentGuide-background: #d3d3d3;
--vscode-editorIndentGuide-activeBackground: #939393;
--vscode-editorLineNumber-foreground: #237893;
--vscode-editorActiveLineNumber-foreground: #0b216f;
--vscode-editorLineNumber-activeForeground: #0b216f;
--vscode-editorRuler-foreground: #d3d3d3;
--vscode-editorCodeLens-foreground: #919191;
--vscode-editorBracketMatch-background: rgba(0, 100, 0, 0.1);
--vscode-editorBracketMatch-border: #b9b9b9;
--vscode-editorOverviewRuler-border: rgba(127, 127, 127, 0.3);
--vscode-editorGutter-background: #fffffe;
--vscode-editorUnnecessaryCode-opacity: rgba(0, 0, 0, 0.47);
--vscode-editorGhostText-foreground: rgba(0, 0, 0, 0.47);
--vscode-editorOverviewRuler-rangeHighlightForeground: rgba(0, 122, 204, 0.6);
--vscode-editorOverviewRuler-errorForeground: rgba(255, 18, 18, 0.7);
--vscode-editorOverviewRuler-warningForeground: #bf8803;
--vscode-editorOverviewRuler-infoForeground: #1a85ff;
--vscode-editorBracketHighlight-foreground1: #0431fa;
--vscode-editorBracketHighlight-foreground2: #319331;
--vscode-editorBracketHighlight-foreground3: #7b3814;
--vscode-editorBracketHighlight-foreground4: rgba(0, 0, 0, 0);
--vscode-editorBracketHighlight-foreground5: rgba(0, 0, 0, 0);
--vscode-editorBracketHighlight-foreground6: rgba(0, 0, 0, 0);
--vscode-editorBracketHighlight-unexpectedBracket-foreground: rgba(255, 18, 18, 0.8);
--vscode-editorBracketPairGuide-background1: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background2: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background3: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background4: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background5: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-background6: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground1: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground2: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground3: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground4: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground5: rgba(0, 0, 0, 0);
--vscode-editorBracketPairGuide-activeBackground6: rgba(0, 0, 0, 0);
--vscode-editorUnicodeHighlight-border: #cea33d;
--vscode-editorUnicodeHighlight-background: rgba(206, 163, 61, 0.08);
--vscode-editorOverviewRuler-bracketMatchForeground: #a0a0a0;
--vscode-symbolIcon-arrayForeground: #616161;
--vscode-symbolIcon-booleanForeground: #616161;
--vscode-symbolIcon-classForeground: #d67e00;
--vscode-symbolIcon-colorForeground: #616161;
--vscode-symbolIcon-constantForeground: #616161;
--vscode-symbolIcon-constructorForeground: #652d90;
--vscode-symbolIcon-enumeratorForeground: #d67e00;
--vscode-symbolIcon-enumeratorMemberForeground: #007acc;
--vscode-symbolIcon-eventForeground: #d67e00;
--vscode-symbolIcon-fieldForeground: #007acc;
--vscode-symbolIcon-fileForeground: #616161;
--vscode-symbolIcon-folderForeground: #616161;
--vscode-symbolIcon-functionForeground: #652d90;
--vscode-symbolIcon-interfaceForeground: #007acc;
--vscode-symbolIcon-keyForeground: #616161;
--vscode-symbolIcon-keywordForeground: #616161;
--vscode-symbolIcon-methodForeground: #652d90;
--vscode-symbolIcon-moduleForeground: #616161;
--vscode-symbolIcon-namespaceForeground: #616161;
--vscode-symbolIcon-nullForeground: #616161;
--vscode-symbolIcon-numberForeground: #616161;
--vscode-symbolIcon-objectForeground: #616161;
--vscode-symbolIcon-operatorForeground: #616161;
--vscode-symbolIcon-packageForeground: #616161;
--vscode-symbolIcon-propertyForeground: #616161;
--vscode-symbolIcon-referenceForeground: #616161;
--vscode-symbolIcon-snippetForeground: #616161;
--vscode-symbolIcon-stringForeground: #616161;
--vscode-symbolIcon-structForeground: #616161;
--vscode-symbolIcon-textForeground: #616161;
--vscode-symbolIcon-typeParameterForeground: #616161;
--vscode-symbolIcon-unitForeground: #616161;
--vscode-symbolIcon-variableForeground: #007acc;
--vscode-peekViewTitle-background: #f3f3f3;
--vscode-peekViewTitleLabel-foreground: #000000;
--vscode-peekViewTitleDescription-foreground: #616161;
--vscode-peekView-border: #1a85ff;
--vscode-peekViewResult-background: #f3f3f3;
--vscode-peekViewResult-lineForeground: #646465;
--vscode-peekViewResult-fileForeground: #1e1e1e;
--vscode-peekViewResult-selectionBackground: rgba(51, 153, 255, 0.2);
--vscode-peekViewResult-selectionForeground: #6c6c6c;
--vscode-peekViewEditor-background: #f2f8fc;
--vscode-peekViewEditorGutter-background: #f2f8fc;
--vscode-peekViewEditorStickyScroll-background: #f2f8fc;
--vscode-peekViewResult-matchHighlightBackground: rgba(234, 92, 0, 0.3);
--vscode-peekViewEditor-matchHighlightBackground: rgba(245, 216, 2, 0.87);
--vscode-editorMarkerNavigationError-background: #e51400;
--vscode-editorMarkerNavigationError-headerBackground: rgba(229, 20, 0, 0.1);
--vscode-editorMarkerNavigationWarning-background: #bf8803;
--vscode-editorMarkerNavigationWarning-headerBackground: rgba(191, 136, 3, 0.1);
--vscode-editorMarkerNavigationInfo-background: #1a85ff;
--vscode-editorMarkerNavigationInfo-headerBackground: rgba(26, 133, 255, 0.1);
--vscode-editorMarkerNavigation-background: #fffffe;
--vscode-editor-foldBackground: rgba(173, 214, 255, 0.3);
--vscode-editorGutter-foldingControlForeground: #424242;
--vscode-editorSuggestWidget-background: #f3f3f3;
--vscode-editorSuggestWidget-border: #c8c8c8;
--vscode-editorSuggestWidget-foreground: #000000;
--vscode-editorSuggestWidget-selectedForeground: #ffffff;
--vscode-editorSuggestWidget-selectedBackground: #0060c0;
--vscode-editorSuggestWidget-highlightForeground: #0066bf;
--vscode-editorSuggestWidget-focusHighlightForeground: #bbe7ff;
--vscode-editorSuggestWidgetStatus-foreground: rgba(0, 0, 0, 0.5);
--vscode-editor-linkedEditingBackground: rgba(255, 0, 0, 0.3);
--vscode-editor-wordHighlightBackground: rgba(87, 87, 87, 0.25);
--vscode-editor-wordHighlightStrongBackground: rgba(14, 99, 156, 0.25);
--vscode-editor-wordHighlightTextBackground: rgba(87, 87, 87, 0.25);
--vscode-editorOverviewRuler-wordHighlightForeground: rgba(160, 160, 160, 0.8);
--vscode-editorOverviewRuler-wordHighlightStrongForeground: rgba(192, 160, 192, 0.8);
--vscode-editorOverviewRuler-wordHighlightTextForeground: rgba(160, 160, 160, 0.8);
--vscode-editorHoverWidget-highlightForeground: #0066bf; }

.mtk1 { color: #000000; }
.mtk2 { color: #fffffe; }
.mtk3 { color: #808080; }
.mtk4 { color: #ff0000; }
.mtk5 { color: #0451a5; }
.mtk6 { color: #0000ff; }
.mtk7 { color: #098658; }
.mtk8 { color: #008000; }
.mtk9 { color: #dd0000; }
.mtk10 { color: #383838; }
.mtk11 { color: #cd3131; }
.mtk12 { color: #863b00; }
.mtk13 { color: #af00db; }
.mtk14 { color: #800000; }
.mtk15 { color: #e00000; }
.mtk16 { color: #3030c0; }
.mtk17 { color: #666666; }
.mtk18 { color: #778899; }
.mtk19 { color: #c700c7; }
.mtk20 { color: #a31515; }
.mtk21 { color: #4f76ac; }
.mtk22 { color: #008080; }
.mtk23 { color: #001188; }
.mtk24 { color: #4864aa; }
.mtki { font-style: italic; }
.mtkb { font-weight: bold; }
.mtku { text-decoration: underline; text-underline-position: under; }
.mtks { text-decoration: line-through; }
.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }</style></head>
<body spellcheck="false" style="">
<div id="red-ui-editor" class="red-ui-editor"><div id="red-ui-header"><span class="red-ui-header-logo"><img src="./Global.solution02_files/node-red.svg"><span>Node-RED</span></span><ul class="red-ui-header-toolbar hide" style="display: block;"><li><span class="red-ui-deploy-button-group button-group"><a id="red-ui-header-button-deploy" class="red-ui-deploy-button" href="http://127.0.0.1:1880/#"><span class="red-ui-deploy-button-content" style="opacity: 1;"><img id="red-ui-header-button-deploy-icon" src="./Global.solution02_files/deploy-full-o.svg"> <span>implementar</span></span><span class="red-ui-deploy-button-spinner hide" style="display: none;"><img src="./Global.solution02_files/spin.svg"></span></a><a id="red-ui-header-button-deploy-options" class="red-ui-deploy-button" href="http://127.0.0.1:1880/#"><i class="fa fa-caret-down"></i></a><ul class="red-ui-menu red-ui-menu-dropdown pull-right" id="red-ui-header-button-deploy-options-submenu" style="display: none;"><li><a id="deploymenu-item-full" tabindex="-1" href="http://127.0.0.1:1880/#" class="active"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><img src="./Global.solution02_files/deploy-full.svg"> <span class="red-ui-menu-label-container"><span class="red-ui-menu-label">Cheio</span><span class="red-ui-menu-sublabel">Implementar tudo no espao de trabalho</span></span></a></li><li><a id="deploymenu-item-flow" tabindex="-1" href="http://127.0.0.1:1880/#"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><img src="./Global.solution02_files/deploy-flows.svg"> <span class="red-ui-menu-label-container"><span class="red-ui-menu-label">Fluxos Modificados</span><span class="red-ui-menu-sublabel">Implantar apenas fluxos que contm ns alterados</span></span></a></li><li><a id="deploymenu-item-node" tabindex="-1" href="http://127.0.0.1:1880/#"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><img src="./Global.solution02_files/deploy-nodes.svg"> <span class="red-ui-menu-label-container"><span class="red-ui-menu-label">Ns Modificados</span><span class="red-ui-menu-sublabel">Implantar apenas ns que mudaram</span></span></a></li><li class="red-ui-menu-divider"></li><li><a id="deploymenu-item-reload" tabindex="-1" href="http://127.0.0.1:1880/#"><img src="./Global.solution02_files/deploy-reload.svg"> <span class="red-ui-menu-label-container"><span class="red-ui-menu-label">Reiniciar Fluxos</span><span class="red-ui-menu-sublabel">Reinicia os fluxos atuais implantados</span></span></a></li></ul></span></li><li style="display: none;"><a class="button" href="http://127.0.0.1:1880/#"><i class="fa fa-warning"></i></a></li><li><a id="red-ui-header-button-sidemenu" class="button" href="http://127.0.0.1:1880/#"><i class="fa fa-bars"></i></a><ul class="red-ui-menu red-ui-menu-dropdown pull-right red-ui-menu-dropdown-noicons red-ui-menu-dropdown-submenus" id="red-ui-header-button-sidemenu-submenu" style="display: none;"><li class="red-ui-menu-dropdown-submenu pull-left"><a id="menu-item-edit-menu" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Editar</span></span></a><ul id="menu-item-edit-menu-submenu" class="red-ui-menu-dropdown red-ui-menu-dropdown-noicons"><li class=""><a id="menu-item-edit-undo" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Desfazer</span><span class="red-ui-popover-key">ctrl-z</span></span></a></li><li class="disabled"><a id="menu-item-edit-redo" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Refazer</span><span class="red-ui-popover-key">ctrl-y</span></span></a></li><li class="red-ui-menu-divider"></li><li class=""><a id="menu-item-edit-cut" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Cortar ns selecionados</span><span class="red-ui-popover-key">ctrl-x</span></span></a></li><li class=""><a id="menu-item-edit-copy" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Copiar ns selecionados</span><span class="red-ui-popover-key">ctrl-c</span></span></a></li><li class="disabled"><a id="menu-item-edit-paste" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Colar ns</span><span class="red-ui-popover-key">ctrl-v</span></span></a></li><li class="red-ui-menu-divider"></li><li class="disabled"><a id="menu-item-edit-copy-group-style" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Copiar estilo de grupo</span><span class="red-ui-popover-key">ctrl-c</span></span></a></li><li class="disabled"><a id="menu-item-edit-paste-group-style" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Colar estilo de grupo</span><span class="red-ui-popover-key">ctrl-v</span></span></a></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-edit-select-all" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Selecionar todos</span><span class="red-ui-popover-key">ctrl-a</span></span></a></li><li class=""><a id="menu-item-edit-select-connected" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Selecione todos os ns conectados</span><span class="red-ui-popover-key">alt-s c</span></span></a></li><li><a id="menu-item-edit-select-none" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Selecionar nenhum</span><span class="red-ui-popover-key">escape</span></span></a></li><li class="red-ui-menu-divider"></li><li class="disabled"><a id="menu-item-edit-split-wire-with-links" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Separa a seleo com os ns de ligao</span><span class="red-ui-popover-key">alt-l l</span></span></a></li></ul></li><li class="red-ui-menu-dropdown-submenu pull-left"><a id="menu-item-view-menu" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Viso</span></span></a><ul id="menu-item-view-menu-submenu" class="red-ui-menu-dropdown red-ui-menu-dropdown-noicons"><li><a id="menu-item-palette" tabindex="-1" href="http://127.0.0.1:1880/#" class="active"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><span class="red-ui-menu-label"><span>Mostrar paleta</span><span class="red-ui-popover-key">ctrl-p</span></span></a></li><li><a id="menu-item-sidebar" tabindex="-1" href="http://127.0.0.1:1880/#" class="active"><i class="fa fa-square pull-left"></i><i class="fa fa-check-square pull-left"></i><span class="red-ui-menu-label"><span>Mostrar barra lateral</span><span class="red-ui-popover-key">ctrl-space</span></span></a></li><li><a id="menu-item-event-log" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Registro de Eventos</span><span class="red-ui-popover-key">ctrl-l</span></span></a></li><li><a id="menu-item-action-list" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Lista de Ao</span><span class="red-ui-popover-key">ctrl-p</span></span></a></li><li class="red-ui-menu-divider"></li><li class="red-ui-menu-group-sidebar-tabs"><a id="menu-item-view-menu-debug" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>mensagens de depurao</span></span></a></li></ul></li><li class="red-ui-menu-dropdown-submenu pull-left"><a id="menu-item-arrange-menu" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Organizar</span></span></a><ul id="menu-item-arrange-menu-submenu" class="red-ui-menu-dropdown red-ui-menu-dropdown-noicons"><li class="disabled"><a id="menu-item-view-tools-align-left" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Alinhar  esquerda</span><span class="red-ui-popover-key">alt-a l</span></span></a></li><li class="disabled"><a id="menu-item-view-tools-align-center" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Alinhar ao centro</span><span class="red-ui-popover-key">alt-a c</span></span></a></li><li class="disabled"><a id="menu-item-view-tools-align-right" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Alinhar  direita</span><span class="red-ui-popover-key">alt-a r</span></span></a></li><li class="red-ui-menu-divider"></li><li class="disabled"><a id="menu-item-view-tools-align-top" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Alinhar ao incio</span><span class="red-ui-popover-key">alt-a t</span></span></a></li><li class="disabled"><a id="menu-item-view-tools-align-middle" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Alinhar ao meio</span><span class="red-ui-popover-key">alt-a m</span></span></a></li><li class="disabled"><a id="menu-item-view-tools-align-bottom" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Alinhar ao final </span><span class="red-ui-popover-key">alt-a b</span></span></a></li><li class="red-ui-menu-divider"></li><li class="disabled"><a id="menu-item-view-tools-distribute-horizontally" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Distribuir horizontalmente</span><span class="red-ui-popover-key">alt-a h</span></span></a></li><li class="disabled"><a id="menu-item-view-tools-distribute-veritcally" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Distribuir verticalmente</span><span class="red-ui-popover-key">alt-a v</span></span></a></li><li class="red-ui-menu-divider"></li><li class=""><a id="menu-item-view-tools-move-to-back" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Mover para detrs</span></span></a></li><li class=""><a id="menu-item-view-tools-move-to-front" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Mover para a frente</span></span></a></li><li class=""><a id="menu-item-view-tools-move-backwards" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Volta</span></span></a></li><li class=""><a id="menu-item-view-tools-move-forwards" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Avana</span></span></a></li></ul></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-import" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Importar</span><span class="red-ui-popover-key">ctrl-i</span></span></a></li><li><a id="menu-item-export" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Exportar</span><span class="red-ui-popover-key">ctrl-e</span></span></a></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-search" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Procurar fluxos</span><span class="red-ui-popover-key">ctrl-f</span></span></a></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-config-nodes" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Configurao dos ns</span><span class="red-ui-popover-key">ctrl-g c</span></span></a></li><li class="red-ui-menu-dropdown-submenu pull-left"><a id="menu-item-workspace" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Fluxos</span></span></a><ul id="menu-item-workspace-submenu" class="red-ui-menu-dropdown red-ui-menu-dropdown-noicons"><li><a id="menu-item-workspace-add" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Adicionar</span></span></a></li><li><a id="menu-item-workspace-edit" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Renomear</span></span></a></li><li class=""><a id="menu-item-workspace-delete" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Apagar</span></span></a></li></ul></li><li class="red-ui-menu-dropdown-submenu pull-left"><a id="menu-item-subflow" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>subfluxos</span></span></a><ul id="menu-item-subflow-submenu" class="red-ui-menu-dropdown red-ui-menu-dropdown-noicons"><li><a id="menu-item-subflow-create" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Criar Subfluxo</span></span></a></li><li class=""><a id="menu-item-subflow-convert" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Seleo para subfluxo</span></span></a></li></ul></li><li class="red-ui-menu-dropdown-submenu pull-left"><a id="menu-item-group" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Grupos</span></span></a><ul id="menu-item-group-submenu" class="red-ui-menu-dropdown red-ui-menu-dropdown-noicons"><li class=""><a id="menu-item-group-group" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Agrupar seleo</span><span class="red-ui-popover-key">ctrl-g</span></span></a></li><li class="disabled"><a id="menu-item-group-ungroup" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Desagrupar seleo</span><span class="red-ui-popover-key">ctrl-u</span></span></a></li><li class="red-ui-menu-divider"></li><li class="disabled"><a id="menu-item-group-merge" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Mesclar seleo</span></span></a></li><li class="disabled"><a id="menu-item-group-remove" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Remover do grupo</span></span></a></li></ul></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-edit-palette" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Gerenciar paleta</span><span class="red-ui-popover-key">alt-p</span></span></a></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-user-settings" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Configuraes</span><span class="red-ui-popover-key">ctrl-,</span></span></a></li><li class="red-ui-menu-divider"></li><li><a id="menu-item-keyboard-shortcuts" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>Atalhos do teclado</span><span class="red-ui-popover-key">?</span></span></a></li><li><a id="menu-item-help" tabindex="-1" href="https://nodered.org/docs" target="_blank"><span class="red-ui-menu-label"><span>stio do Node-RED</span></span></a></li><li><a id="menu-item-node-red-version" tabindex="-1" href="http://127.0.0.1:1880/#"><span class="red-ui-menu-label"><span>v3.1.0</span></span></a></li></ul></li></ul><div id="red-ui-header-shade" class="hide" style="display: none;"></div></div><div id="red-ui-main-container" class="hide" style="display: block;"><div id="red-ui-workspace"><div class="red-ui-tabs red-ui-tabs-add red-ui-tabs-menu red-ui-tabs-scrollable" style=""><div class="red-ui-tabs-scroll-container"><ul id="red-ui-workspace-tabs" style="width: 910.57px;" class="red-ui-workspace-focussed"><li class="red-ui-tab ui-draggable ui-draggable-handle" id="red-ui-tab-fe387e698bd61fc0" flowname="Fluxo 1" style="width: 443.285px;"><a href="http://127.0.0.1:1880/#fe387e698bd61fc0" class="red-ui-tab-label"><span class="red-ui-workspace-locked-icon"><i class="fa fa-lock"></i> </span><span class="red-ui-workspace-disabled-icon"><i class="fa fa-ban"></i> </span><span class="red-ui-text-bidi-aware" dir="">Fluxo 1</span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"><i class="red-ui-tabs-badge-selected fa fa-check-circle"></i></span><svg class="red-ui-flow-tab-changed red-ui-flow-node-changed" width="10" height="10" viewBox="-1 -1 12 12"><circle cx="5" cy="5" r="5"></circle></svg></li><li class="red-ui-tab ui-draggable ui-draggable-handle active red-ui-workspace-changed" id="red-ui-tab-862f4a647838aac0" flowname="telegram " style="width: 443.285px;"><a href="http://127.0.0.1:1880/#862f4a647838aac0" class="red-ui-tab-label"><span class="red-ui-workspace-locked-icon"><i class="fa fa-lock"></i> </span><span class="red-ui-workspace-disabled-icon"><i class="fa fa-ban"></i> </span><span class="red-ui-text-bidi-aware" dir="">telegram </span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"><i class="red-ui-tabs-badge-selected fa fa-check-circle"></i></span><svg class="red-ui-flow-tab-changed red-ui-flow-node-changed" width="10" height="10" viewBox="-1 -1 12 12"><circle cx="5" cy="5" r="5"></circle></svg></li></ul></div><div class="red-ui-tab-button red-ui-tabs-add"><a href="http://127.0.0.1:1880/#"><i class="fa fa-plus"></i></a></div><div class="red-ui-tab-button red-ui-tabs-menu"><a href="http://127.0.0.1:1880/#"><i class="fa fa-caret-down"></i></a></div><div class="red-ui-tab-button red-ui-tab-scroll red-ui-tab-scroll-left"><a href="http://127.0.0.1:1880/#" style="display:none;"><i class="fa fa-caret-left"></i></a></div><div class="red-ui-tab-button red-ui-tab-scroll red-ui-tab-scroll-right"><a href="http://127.0.0.1:1880/#" style=""><i class="fa fa-caret-right"></i></a></div></div><div id="red-ui-workspace-tabs-shade" class="hide"></div><div id="red-ui-workspace-chart" tabindex="1" class="ui-droppable" style="margin-top: 0px;"><svg width="8000" height="8000" pointer-events="all" style="cursor: crosshair; touch-action: none;" class=""><g><g class="red-ui-workspace-chart-event-layer" transform="scale(1)"><rect class="red-ui-workspace-chart-background" width="8000" height="8000"></rect><g class="red-ui-workspace-chart-grid" style="visibility: visible;"><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="0" y2="0"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="20" y2="20"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="40" y2="40"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="60" y2="60"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="80" y2="80"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="100" y2="100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="120" y2="120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="140" y2="140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="160" y2="160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="180" y2="180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="200" y2="200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="220" y2="220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="240" y2="240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="260" y2="260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="280" y2="280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="300" y2="300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="320" y2="320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="340" y2="340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="360" y2="360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="380" y2="380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="400" y2="400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="420" y2="420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="440" y2="440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="460" y2="460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="480" y2="480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="500" y2="500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="520" y2="520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="540" y2="540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="560" y2="560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="580" y2="580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="600" y2="600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="620" y2="620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="640" y2="640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="660" y2="660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="680" y2="680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="700" y2="700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="720" y2="720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="740" y2="740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="760" y2="760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="780" y2="780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="800" y2="800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="820" y2="820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="840" y2="840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="860" y2="860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="880" y2="880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="900" y2="900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="920" y2="920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="940" y2="940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="960" y2="960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="980" y2="980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1000" y2="1000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1020" y2="1020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1040" y2="1040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1060" y2="1060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1080" y2="1080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1100" y2="1100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1120" y2="1120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1140" y2="1140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1160" y2="1160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1180" y2="1180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1200" y2="1200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1220" y2="1220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1240" y2="1240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1260" y2="1260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1280" y2="1280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1300" y2="1300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1320" y2="1320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1340" y2="1340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1360" y2="1360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1380" y2="1380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1400" y2="1400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1420" y2="1420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1440" y2="1440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1460" y2="1460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1480" y2="1480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1500" y2="1500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1520" y2="1520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1540" y2="1540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1560" y2="1560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1580" y2="1580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1600" y2="1600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1620" y2="1620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1640" y2="1640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1660" y2="1660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1680" y2="1680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1700" y2="1700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1720" y2="1720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1740" y2="1740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1760" y2="1760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1780" y2="1780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1800" y2="1800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1820" y2="1820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1840" y2="1840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1860" y2="1860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1880" y2="1880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1900" y2="1900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1920" y2="1920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1940" y2="1940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1960" y2="1960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="1980" y2="1980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2000" y2="2000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2020" y2="2020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2040" y2="2040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2060" y2="2060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2080" y2="2080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2100" y2="2100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2120" y2="2120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2140" y2="2140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2160" y2="2160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2180" y2="2180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2200" y2="2200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2220" y2="2220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2240" y2="2240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2260" y2="2260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2280" y2="2280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2300" y2="2300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2320" y2="2320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2340" y2="2340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2360" y2="2360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2380" y2="2380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2400" y2="2400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2420" y2="2420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2440" y2="2440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2460" y2="2460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2480" y2="2480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2500" y2="2500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2520" y2="2520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2540" y2="2540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2560" y2="2560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2580" y2="2580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2600" y2="2600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2620" y2="2620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2640" y2="2640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2660" y2="2660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2680" y2="2680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2700" y2="2700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2720" y2="2720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2740" y2="2740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2760" y2="2760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2780" y2="2780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2800" y2="2800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2820" y2="2820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2840" y2="2840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2860" y2="2860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2880" y2="2880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2900" y2="2900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2920" y2="2920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2940" y2="2940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2960" y2="2960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="2980" y2="2980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3000" y2="3000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3020" y2="3020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3040" y2="3040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3060" y2="3060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3080" y2="3080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3100" y2="3100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3120" y2="3120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3140" y2="3140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3160" y2="3160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3180" y2="3180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3200" y2="3200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3220" y2="3220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3240" y2="3240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3260" y2="3260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3280" y2="3280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3300" y2="3300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3320" y2="3320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3340" y2="3340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3360" y2="3360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3380" y2="3380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3400" y2="3400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3420" y2="3420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3440" y2="3440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3460" y2="3460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3480" y2="3480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3500" y2="3500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3520" y2="3520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3540" y2="3540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3560" y2="3560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3580" y2="3580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3600" y2="3600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3620" y2="3620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3640" y2="3640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3660" y2="3660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3680" y2="3680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3700" y2="3700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3720" y2="3720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3740" y2="3740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3760" y2="3760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3780" y2="3780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3800" y2="3800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3820" y2="3820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3840" y2="3840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3860" y2="3860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3880" y2="3880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3900" y2="3900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3920" y2="3920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3940" y2="3940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3960" y2="3960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="3980" y2="3980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4000" y2="4000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4020" y2="4020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4040" y2="4040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4060" y2="4060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4080" y2="4080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4100" y2="4100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4120" y2="4120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4140" y2="4140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4160" y2="4160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4180" y2="4180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4200" y2="4200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4220" y2="4220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4240" y2="4240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4260" y2="4260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4280" y2="4280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4300" y2="4300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4320" y2="4320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4340" y2="4340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4360" y2="4360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4380" y2="4380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4400" y2="4400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4420" y2="4420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4440" y2="4440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4460" y2="4460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4480" y2="4480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4500" y2="4500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4520" y2="4520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4540" y2="4540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4560" y2="4560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4580" y2="4580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4600" y2="4600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4620" y2="4620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4640" y2="4640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4660" y2="4660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4680" y2="4680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4700" y2="4700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4720" y2="4720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4740" y2="4740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4760" y2="4760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4780" y2="4780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4800" y2="4800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4820" y2="4820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4840" y2="4840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4860" y2="4860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4880" y2="4880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4900" y2="4900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4920" y2="4920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4940" y2="4940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4960" y2="4960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="4980" y2="4980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5000" y2="5000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5020" y2="5020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5040" y2="5040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5060" y2="5060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5080" y2="5080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5100" y2="5100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5120" y2="5120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5140" y2="5140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5160" y2="5160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5180" y2="5180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5200" y2="5200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5220" y2="5220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5240" y2="5240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5260" y2="5260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5280" y2="5280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5300" y2="5300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5320" y2="5320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5340" y2="5340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5360" y2="5360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5380" y2="5380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5400" y2="5400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5420" y2="5420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5440" y2="5440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5460" y2="5460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5480" y2="5480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5500" y2="5500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5520" y2="5520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5540" y2="5540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5560" y2="5560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5580" y2="5580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5600" y2="5600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5620" y2="5620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5640" y2="5640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5660" y2="5660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5680" y2="5680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5700" y2="5700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5720" y2="5720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5740" y2="5740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5760" y2="5760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5780" y2="5780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5800" y2="5800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5820" y2="5820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5840" y2="5840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5860" y2="5860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5880" y2="5880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5900" y2="5900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5920" y2="5920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5940" y2="5940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5960" y2="5960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="5980" y2="5980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6000" y2="6000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6020" y2="6020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6040" y2="6040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6060" y2="6060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6080" y2="6080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6100" y2="6100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6120" y2="6120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6140" y2="6140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6160" y2="6160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6180" y2="6180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6200" y2="6200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6220" y2="6220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6240" y2="6240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6260" y2="6260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6280" y2="6280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6300" y2="6300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6320" y2="6320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6340" y2="6340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6360" y2="6360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6380" y2="6380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6400" y2="6400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6420" y2="6420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6440" y2="6440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6460" y2="6460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6480" y2="6480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6500" y2="6500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6520" y2="6520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6540" y2="6540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6560" y2="6560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6580" y2="6580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6600" y2="6600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6620" y2="6620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6640" y2="6640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6660" y2="6660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6680" y2="6680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6700" y2="6700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6720" y2="6720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6740" y2="6740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6760" y2="6760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6780" y2="6780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6800" y2="6800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6820" y2="6820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6840" y2="6840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6860" y2="6860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6880" y2="6880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6900" y2="6900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6920" y2="6920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6940" y2="6940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6960" y2="6960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="6980" y2="6980"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7000" y2="7000"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7020" y2="7020"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7040" y2="7040"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7060" y2="7060"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7080" y2="7080"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7100" y2="7100"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7120" y2="7120"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7140" y2="7140"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7160" y2="7160"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7180" y2="7180"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7200" y2="7200"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7220" y2="7220"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7240" y2="7240"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7260" y2="7260"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7280" y2="7280"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7300" y2="7300"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7320" y2="7320"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7340" y2="7340"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7360" y2="7360"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7380" y2="7380"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7400" y2="7400"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7420" y2="7420"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7440" y2="7440"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7460" y2="7460"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7480" y2="7480"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7500" y2="7500"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7520" y2="7520"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7540" y2="7540"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7560" y2="7560"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7580" y2="7580"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7600" y2="7600"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7620" y2="7620"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7640" y2="7640"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7660" y2="7660"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7680" y2="7680"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7700" y2="7700"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7720" y2="7720"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7740" y2="7740"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7760" y2="7760"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7780" y2="7780"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7800" y2="7800"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7820" y2="7820"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7840" y2="7840"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7860" y2="7860"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7880" y2="7880"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7900" y2="7900"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7920" y2="7920"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7940" y2="7940"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7960" y2="7960"></line><line class="red-ui-workspace-chart-grid-h" x1="0" x2="8000" y1="7980" y2="7980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="0" x2="0"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="20" x2="20"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="40" x2="40"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="60" x2="60"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="80" x2="80"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="100" x2="100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="120" x2="120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="140" x2="140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="160" x2="160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="180" x2="180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="200" x2="200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="220" x2="220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="240" x2="240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="260" x2="260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="280" x2="280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="300" x2="300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="320" x2="320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="340" x2="340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="360" x2="360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="380" x2="380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="400" x2="400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="420" x2="420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="440" x2="440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="460" x2="460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="480" x2="480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="500" x2="500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="520" x2="520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="540" x2="540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="560" x2="560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="580" x2="580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="600" x2="600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="620" x2="620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="640" x2="640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="660" x2="660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="680" x2="680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="700" x2="700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="720" x2="720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="740" x2="740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="760" x2="760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="780" x2="780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="800" x2="800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="820" x2="820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="840" x2="840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="860" x2="860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="880" x2="880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="900" x2="900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="920" x2="920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="940" x2="940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="960" x2="960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="980" x2="980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1000" x2="1000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1020" x2="1020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1040" x2="1040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1060" x2="1060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1080" x2="1080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1100" x2="1100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1120" x2="1120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1140" x2="1140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1160" x2="1160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1180" x2="1180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1200" x2="1200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1220" x2="1220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1240" x2="1240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1260" x2="1260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1280" x2="1280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1300" x2="1300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1320" x2="1320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1340" x2="1340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1360" x2="1360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1380" x2="1380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1400" x2="1400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1420" x2="1420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1440" x2="1440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1460" x2="1460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1480" x2="1480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1500" x2="1500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1520" x2="1520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1540" x2="1540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1560" x2="1560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1580" x2="1580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1600" x2="1600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1620" x2="1620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1640" x2="1640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1660" x2="1660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1680" x2="1680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1700" x2="1700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1720" x2="1720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1740" x2="1740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1760" x2="1760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1780" x2="1780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1800" x2="1800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1820" x2="1820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1840" x2="1840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1860" x2="1860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1880" x2="1880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1900" x2="1900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1920" x2="1920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1940" x2="1940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1960" x2="1960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="1980" x2="1980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2000" x2="2000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2020" x2="2020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2040" x2="2040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2060" x2="2060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2080" x2="2080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2100" x2="2100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2120" x2="2120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2140" x2="2140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2160" x2="2160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2180" x2="2180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2200" x2="2200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2220" x2="2220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2240" x2="2240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2260" x2="2260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2280" x2="2280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2300" x2="2300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2320" x2="2320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2340" x2="2340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2360" x2="2360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2380" x2="2380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2400" x2="2400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2420" x2="2420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2440" x2="2440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2460" x2="2460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2480" x2="2480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2500" x2="2500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2520" x2="2520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2540" x2="2540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2560" x2="2560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2580" x2="2580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2600" x2="2600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2620" x2="2620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2640" x2="2640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2660" x2="2660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2680" x2="2680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2700" x2="2700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2720" x2="2720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2740" x2="2740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2760" x2="2760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2780" x2="2780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2800" x2="2800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2820" x2="2820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2840" x2="2840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2860" x2="2860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2880" x2="2880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2900" x2="2900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2920" x2="2920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2940" x2="2940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2960" x2="2960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="2980" x2="2980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3000" x2="3000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3020" x2="3020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3040" x2="3040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3060" x2="3060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3080" x2="3080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3100" x2="3100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3120" x2="3120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3140" x2="3140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3160" x2="3160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3180" x2="3180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3200" x2="3200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3220" x2="3220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3240" x2="3240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3260" x2="3260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3280" x2="3280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3300" x2="3300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3320" x2="3320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3340" x2="3340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3360" x2="3360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3380" x2="3380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3400" x2="3400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3420" x2="3420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3440" x2="3440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3460" x2="3460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3480" x2="3480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3500" x2="3500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3520" x2="3520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3540" x2="3540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3560" x2="3560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3580" x2="3580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3600" x2="3600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3620" x2="3620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3640" x2="3640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3660" x2="3660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3680" x2="3680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3700" x2="3700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3720" x2="3720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3740" x2="3740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3760" x2="3760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3780" x2="3780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3800" x2="3800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3820" x2="3820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3840" x2="3840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3860" x2="3860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3880" x2="3880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3900" x2="3900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3920" x2="3920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3940" x2="3940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3960" x2="3960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="3980" x2="3980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4000" x2="4000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4020" x2="4020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4040" x2="4040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4060" x2="4060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4080" x2="4080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4100" x2="4100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4120" x2="4120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4140" x2="4140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4160" x2="4160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4180" x2="4180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4200" x2="4200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4220" x2="4220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4240" x2="4240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4260" x2="4260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4280" x2="4280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4300" x2="4300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4320" x2="4320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4340" x2="4340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4360" x2="4360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4380" x2="4380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4400" x2="4400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4420" x2="4420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4440" x2="4440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4460" x2="4460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4480" x2="4480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4500" x2="4500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4520" x2="4520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4540" x2="4540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4560" x2="4560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4580" x2="4580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4600" x2="4600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4620" x2="4620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4640" x2="4640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4660" x2="4660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4680" x2="4680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4700" x2="4700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4720" x2="4720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4740" x2="4740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4760" x2="4760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4780" x2="4780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4800" x2="4800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4820" x2="4820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4840" x2="4840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4860" x2="4860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4880" x2="4880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4900" x2="4900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4920" x2="4920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4940" x2="4940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4960" x2="4960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="4980" x2="4980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5000" x2="5000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5020" x2="5020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5040" x2="5040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5060" x2="5060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5080" x2="5080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5100" x2="5100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5120" x2="5120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5140" x2="5140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5160" x2="5160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5180" x2="5180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5200" x2="5200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5220" x2="5220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5240" x2="5240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5260" x2="5260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5280" x2="5280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5300" x2="5300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5320" x2="5320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5340" x2="5340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5360" x2="5360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5380" x2="5380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5400" x2="5400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5420" x2="5420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5440" x2="5440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5460" x2="5460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5480" x2="5480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5500" x2="5500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5520" x2="5520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5540" x2="5540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5560" x2="5560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5580" x2="5580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5600" x2="5600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5620" x2="5620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5640" x2="5640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5660" x2="5660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5680" x2="5680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5700" x2="5700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5720" x2="5720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5740" x2="5740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5760" x2="5760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5780" x2="5780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5800" x2="5800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5820" x2="5820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5840" x2="5840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5860" x2="5860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5880" x2="5880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5900" x2="5900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5920" x2="5920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5940" x2="5940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5960" x2="5960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="5980" x2="5980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6000" x2="6000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6020" x2="6020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6040" x2="6040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6060" x2="6060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6080" x2="6080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6100" x2="6100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6120" x2="6120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6140" x2="6140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6160" x2="6160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6180" x2="6180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6200" x2="6200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6220" x2="6220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6240" x2="6240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6260" x2="6260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6280" x2="6280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6300" x2="6300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6320" x2="6320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6340" x2="6340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6360" x2="6360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6380" x2="6380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6400" x2="6400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6420" x2="6420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6440" x2="6440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6460" x2="6460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6480" x2="6480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6500" x2="6500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6520" x2="6520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6540" x2="6540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6560" x2="6560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6580" x2="6580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6600" x2="6600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6620" x2="6620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6640" x2="6640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6660" x2="6660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6680" x2="6680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6700" x2="6700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6720" x2="6720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6740" x2="6740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6760" x2="6760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6780" x2="6780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6800" x2="6800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6820" x2="6820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6840" x2="6840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6860" x2="6860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6880" x2="6880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6900" x2="6900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6920" x2="6920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6940" x2="6940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6960" x2="6960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="6980" x2="6980"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7000" x2="7000"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7020" x2="7020"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7040" x2="7040"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7060" x2="7060"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7080" x2="7080"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7100" x2="7100"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7120" x2="7120"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7140" x2="7140"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7160" x2="7160"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7180" x2="7180"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7200" x2="7200"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7220" x2="7220"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7240" x2="7240"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7260" x2="7260"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7280" x2="7280"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7300" x2="7300"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7320" x2="7320"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7340" x2="7340"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7360" x2="7360"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7380" x2="7380"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7400" x2="7400"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7420" x2="7420"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7440" x2="7440"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7460" x2="7460"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7480" x2="7480"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7500" x2="7500"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7520" x2="7520"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7540" x2="7540"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7560" x2="7560"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7580" x2="7580"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7600" x2="7600"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7620" x2="7620"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7640" x2="7640"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7660" x2="7660"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7680" x2="7680"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7700" x2="7700"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7720" x2="7720"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7740" x2="7740"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7760" x2="7760"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7780" x2="7780"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7800" x2="7800"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7820" x2="7820"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7840" x2="7840"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7860" x2="7860"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7880" x2="7880"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7900" x2="7900"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7920" x2="7920"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7940" x2="7940"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7960" x2="7960"></line><line class="red-ui-workspace-chart-grid-v" y1="0" y2="8000" x1="7980" x2="7980"></line></g><g></g><g></g><g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 180 213.5 C 192 213.5 204 206 204 198.5 S 204 183.5 170 166 S 136 142.5 136 135 S 148 120 160 120"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 180 213.5 C 192 213.5 204 206 204 198.5 S 204 183.5 170 166 S 136 142.5 136 135 S 148 120 160 120"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 180 213.5 C 192 213.5 204 206 204 198.5 S 204 183.5 170 166 S 136 142.5 136 135 S 148 120 160 120"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 540 220 C 552 220 564 212.5 564 205 S 564 190 530 170 S 496 142.5 496 135 S 508 120 520 120"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 540 220 C 552 220 564 212.5 564 205 S 564 190 530 170 S 496 142.5 496 135 S 508 120 520 120"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 540 220 C 552 220 564 212.5 564 205 S 564 190 530 170 S 496 142.5 496 135 S 508 120 520 120"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 180 213.5 C 210.39351287692818 213.5 189.60648712307182 220 220 220"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 180 213.5 C 210.39351287692818 213.5 189.60648712307182 220 220 220"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 180 213.5 C 210.39351287692818 213.5 189.60648712307182 220 220 220"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 380 220 C 410 220 390 220 420 220"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 380 220 C 410 220 390 220 420 220"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 380 220 C 410 220 390 220 420 220"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 540 220 C 585 220 555 220 600 220"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 540 220 C 585 220 555 220 600 220"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 540 220 C 585 220 555 220 600 220"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 780 220 C 813.5410196624969 220 786.4589803375031 240 820 240"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 780 220 C 813.5410196624969 220 786.4589803375031 240 820 240"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 780 220 C 813.5410196624969 220 786.4589803375031 240 820 240"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 1000 240 C 1010 240 1020 232.5 1020 225 S 1020 210 1000 180 S 980 142.5 980 135 S 990 120 1000 120"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 1000 240 C 1010 240 1020 232.5 1020 225 S 1020 210 1000 180 S 980 142.5 980 135 S 990 120 1000 120"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 1000 240 C 1010 240 1020 232.5 1020 225 S 1020 210 1000 180 S 980 142.5 980 135 S 990 120 1000 120"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 180 226.5 C 237.12937619999013 226.5 142.87062380000987 300 200 300"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 180 226.5 C 237.12937619999013 226.5 142.87062380000987 300 200 300"></path><path class="red-ui-flow-link-line red-ui-flow-link-path red-ui-flow-subflow-link" d="M 180 226.5 C 237.12937619999013 226.5 142.87062380000987 300 200 300"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 180 226.5 C 255 226.5 245 360 320 360"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 180 226.5 C 255 226.5 245 360 320 360"></path><path class="red-ui-flow-link-line red-ui-flow-link-path" d="M 180 226.5 C 255 226.5 245 360 320 360"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 440 360 C 485 360 455 360 500 360"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 440 360 C 485 360 455 360 500 360"></path><path class="red-ui-flow-link-line red-ui-flow-link-path red-ui-flow-subflow-link" d="M 440 360 C 485 360 455 360 500 360"></path></g><g class="red-ui-flow-link"><path class="red-ui-flow-link-background red-ui-flow-link-path" d="M 640 360 C 656 360 672 352.5 672 345 S 672 330 550 330 S 428 322.5 428 315 S 444 300 460 300"></path><path class="red-ui-flow-link-outline red-ui-flow-link-path" d="M 640 360 C 656 360 672 352.5 672 345 S 672 330 550 330 S 428 322.5 428 315 S 444 300 460 300"></path><path class="red-ui-flow-link-line red-ui-flow-link-path red-ui-flow-subflow-link" d="M 640 360 C 656 360 672 352.5 672 345 S 672 330 550 330 S 428 322.5 428 315 S 444 300 460 300"></path></g></g><g></g><g></g><g><g class="red-ui-flow-node red-ui-flow-node-group" id="5f9ecee421d02231" transform="translate(0,205)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="#3BABDD" width="180" height="30"></rect><g class="red-ui-flow-node-icon-group" x="0" y="0" transform="" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M5 0 h25 v30 h-25 a 5 5 0 0 1 -5 -5  v-20 a 5 5 0 0 1 5 -5"></path><image href="icons/node-red-contrib-telegrambot/telegram.png" class="red-ui-flow-node-icon" x="5" width="20" height="30" y="0" style=""></image><path d="M 29.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label" transform="translate(38,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Telegram receiver</text></g><g class="red-ui-flow-node-status-group" transform="translate(3,33)" style="display: inline;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="73.703125" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status red-ui-flow-node-status-ring-green" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3" style="display: inline;"></rect><text class="red-ui-flow-node-status-label" x="20" y="10">connected</text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-output" transform="translate(175,3.5)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g><g class="red-ui-flow-port-output" transform="translate(175,16.5)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="917ec5470fc3333f" transform="translate(160,105)"><g transform="translate(194,2)" class="red-ui-flow-node-button" style="display: inherit;"><rect class="red-ui-flow-node-button-background" rx="5" ry="5" width="32" height="26" fill-opacity="1"></rect><rect class="red-ui-flow-node-button-button" x="11" y="4" rx="4" ry="4" width="16" height="18" fill="#87a980" fill-opacity="1"></rect></g><rect class="red-ui-flow-node" rx="5" ry="5" fill="#87a980" width="200" height="30"></rect><g class="red-ui-flow-node-icon-group red-ui-flow-node-icon-group-right" x="0" y="0" transform="translate(170,0)" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M 0 0 h25 a 5 5 0 0 1 5 5 v20 a 5 5 0 0 1 -5 5 h-25 v-30"></path><image href="icons/node-red/debug.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 0.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label red-ui-flow-node-label-right node_label_italic" transform="translate(162,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Entrada do telegram</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="3b6d9c4902314c9b" transform="translate(820,225)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="#3BABDD" width="180" height="30"></rect><g class="red-ui-flow-node-icon-group red-ui-flow-node-icon-group-right" x="0" y="0" transform="translate(150,0)" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M 0 0 h25 a 5 5 0 0 1 5 5 v20 a 5 5 0 0 1 -5 5 h-25 v-30"></path><image href="icons/node-red-contrib-telegrambot/telegram.png" class="red-ui-flow-node-icon" x="5" width="20" height="30" style="" y="0"></image><path d="M 0.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label red-ui-flow-node-label-right" transform="translate(142,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Telegram sender</text></g><g class="red-ui-flow-node-status-group" transform="translate(3,33)" style="display: inline;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="73.703125" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status red-ui-flow-node-status-ring-green" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3" style="display: inline;"></rect><text class="red-ui-flow-node-status-label" x="20" y="10">connected</text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g><g class="red-ui-flow-port-output" transform="translate(175,10)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="d1725c5f02b3b5af" transform="translate(420,205)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="rgb(84,149,230)" width="120" height="30"></rect><g class="red-ui-flow-node-icon-group" x="0" y="0" transform="" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M5 0 h25 v30 h-25 a 5 5 0 0 1 -5 -5  v-20 a 5 5 0 0 1 5 -5"></path><image href="icons/node-red-node-watson/conversation-v1-25x25.png" class="red-ui-flow-node-icon" x="2.5" width="25" height="25" style="" y="2.5"></image><path d="M 29.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label node_label_italic" transform="translate(38,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">HapBot</text></g><g class="red-ui-flow-node-status-group" transform="translate(-14,33)" style="display: inline;"><rect class="red-ui-flow-node-status-background" x="17" y="-1" width="6" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status red-ui-flow-node-status-dot-blue" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3" style="display: none;"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g><g class="red-ui-flow-port-output" transform="translate(115,10)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="03bc8fd6be6ddbb5" transform="translate(520,105)"><g transform="translate(154,2)" class="red-ui-flow-node-button" style="display: inherit;"><rect class="red-ui-flow-node-button-background" rx="5" ry="5" width="32" height="26" fill-opacity="1"></rect><rect class="red-ui-flow-node-button-button" x="11" y="4" rx="4" ry="4" width="16" height="18" fill="#87a980" fill-opacity="1"></rect></g><rect class="red-ui-flow-node" rx="5" ry="5" fill="#87a980" width="160" height="30"></rect><g class="red-ui-flow-node-icon-group red-ui-flow-node-icon-group-right" x="0" y="0" transform="translate(130,0)" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M 0 0 h25 a 5 5 0 0 1 5 5 v20 a 5 5 0 0 1 -5 5 h-25 v-30"></path><image href="icons/node-red/debug.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 0.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label red-ui-flow-node-label-right node_label_italic" transform="translate(122,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Resposta  do Wa</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="2d36e35cd6e7f8d5" transform="translate(220,205)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="#E2D96E" width="160" height="30"></rect><g class="red-ui-flow-node-icon-group" x="0" y="0" transform="" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M5 0 h25 v30 h-25 a 5 5 0 0 1 -5 -5  v-20 a 5 5 0 0 1 5 -5"></path><image href="icons/node-red/swap.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 29.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label node_label_italic" transform="translate(38,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Prepara Entrada</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g><g class="red-ui-flow-port-output" transform="translate(155,10)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="712943c32080999b" transform="translate(600,205)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="#E2D96E" width="180" height="30"></rect><g class="red-ui-flow-node-icon-group" x="0" y="0" transform="" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M5 0 h25 v30 h-25 a 5 5 0 0 1 -5 -5  v-20 a 5 5 0 0 1 5 -5"></path><image href="icons/node-red/swap.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 29.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label node_label_italic" transform="translate(38,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Prepara Retorno</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g><g class="red-ui-flow-port-output" transform="translate(175,10)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="c4f0c4822bb08f9e" transform="translate(1000,105)"><g transform="translate(114,2)" class="red-ui-flow-node-button" style="display: inherit;"><rect class="red-ui-flow-node-button-background" rx="5" ry="5" width="32" height="26" fill-opacity="1"></rect><rect class="red-ui-flow-node-button-button" x="11" y="4" rx="4" ry="4" width="16" height="18" fill="#87a980" fill-opacity="1"></rect></g><rect class="red-ui-flow-node" rx="5" ry="5" fill="#87a980" width="120" height="30"></rect><g class="red-ui-flow-node-icon-group red-ui-flow-node-icon-group-right" x="0" y="0" transform="translate(90,0)" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M 0 0 h25 a 5 5 0 0 1 5 5 v20 a 5 5 0 0 1 -5 5 h-25 v-30"></path><image href="icons/node-red/debug.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 0.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label red-ui-flow-node-label-right node_label_italic" transform="translate(82,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Retorno</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed hide"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="31e1874a6b9fd60e" transform="translate(200,285)"><g transform="translate(174,2)" class="red-ui-flow-node-button" style="display: inherit;"><rect class="red-ui-flow-node-button-background" rx="5" ry="5" width="32" height="26" fill-opacity="1"></rect><rect class="red-ui-flow-node-button-button" x="11" y="4" rx="4" ry="4" width="16" height="18" fill="#87a980" fill-opacity="1"></rect></g><rect class="red-ui-flow-node " rx="5" ry="5" fill="#87a980" width="180" height="30"></rect><g class="red-ui-flow-node-icon-group red-ui-flow-node-icon-group-right" x="0" y="0" transform="translate(150,0)" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M 0 0 h25 a 5 5 0 0 1 5 5 v20 a 5 5 0 0 1 -5 5 h-25 v-30"></path><image href="icons/node-red/debug.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 0.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label red-ui-flow-node-label-right node_label_italic" transform="translate(142,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Entrada de udio</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed" transform="translate(167, -8)"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="d87df3d17cad79d7" transform="translate(320,345)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="#fdd0a2" width="120" height="30"></rect><g class="red-ui-flow-node-icon-group" x="0" y="0" transform="" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M5 0 h25 v30 h-25 a 5 5 0 0 1 -5 -5  v-20 a 5 5 0 0 1 5 -5"></path><image href="icons/node-red/function.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 29.5 1 l 0 28" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label node_label_italic" transform="translate(38,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">function 1</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed" transform="translate(107, -8)"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g><g class="red-ui-flow-port-output" transform="translate(115,10)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group" id="3d3cb74886f53dda" transform="translate(500,345)"><rect class="red-ui-flow-node " rx="5" ry="5" fill="rgb(140, 198, 63)" width="140" height="30"></rect><g class="red-ui-flow-node-icon-group" x="0" y="0" transform="" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M5 0 h25 v30 h-25 a 5 5 0 0 1 -5 -5  v-20 a 5 5 0 0 1 5 -5"></path><image href="icons/node-red-node-watson/speech_to_text.png" class="red-ui-flow-node-icon" x="2.5" width="25" height="25" style="" y="2.5"></image><path d="M 29.5 0.5 l 0 29" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label node_label_italic" transform="translate(38,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Watson STT</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed" transform="translate(127, -8)"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g><g class="red-ui-flow-port-output" transform="translate(135,10)"><rect rx="3" ry="3" width="10" height="10" class="red-ui-flow-port"></rect></g></g><g class="red-ui-flow-node red-ui-flow-node-group red-ui-flow-node-selected" id="2c2ef82c4845923e" transform="translate(460,285)"><g transform="translate(154,2)" class="red-ui-flow-node-button" style="display: inherit;"><rect class="red-ui-flow-node-button-background" rx="5" ry="5" width="32" height="26" fill-opacity="1"></rect><rect class="red-ui-flow-node-button-button" x="11" y="4" rx="4" ry="4" width="16" height="18" fill="#87a980" fill-opacity="1"></rect></g><rect class="red-ui-flow-node " rx="5" ry="5" fill="#87a980" width="160" height="30"></rect><g class="red-ui-flow-node-icon-group red-ui-flow-node-icon-group-right" x="0" y="0" transform="translate(130,0)" style="pointer-events: none;"><path x="0" y="0" class="red-ui-flow-node-icon-shade" d="M 0 0 h25 a 5 5 0 0 1 5 5 v20 a 5 5 0 0 1 -5 5 h-25 v-30"></path><image href="icons/node-red/debug.svg" class="red-ui-flow-node-icon" x="0" width="30" height="30" style="" y="0"></image><path d="M 0.5 1 l 0 28" class="red-ui-flow-node-icon-shade-border"></path></g><g class="red-ui-flow-node-label red-ui-flow-node-label-right node_label_italic" transform="translate(122,16)"><text class="red-ui-flow-node-label-text" x="0" y="0">Sada de udio</text></g><g class="red-ui-flow-node-status-group" style="display: none;"><rect class="red-ui-flow-node-status-background" x="3" y="-1" width="200" height="13" rx="1" ry="1"></rect><rect class="red-ui-flow-node-status" x="6" y="1" width="9" height="9" rx="2" ry="2" stroke-width="3"></rect><text class="red-ui-flow-node-status-label" x="20" y="10"></text></g><g class="red-ui-flow-node-changed" transform="translate(147, -8)"><circle cx="5" cy="5" r="5"></circle></g><g class="red-ui-flow-node-error hide"><path d="M 0,9 l 10,0 -5,-8 z"></path></g><g class="red-ui-flow-port-input" transform="translate(-5,10)"><rect class="red-ui-flow-port" rx="3" ry="3" width="10" height="10"></rect></g></g></g></g></g></svg></div><div id="red-ui-workspace-toolbar" style="display: none;"></div><div id="red-ui-workspace-footer" class="red-ui-component-footer"><span class="red-ui-statusbar-bucket red-ui-statusbar-bucket-left"><span class="red-ui-statusbar-widget" id="view-search-tools"><span class="button-group"><button class="red-ui-footer-button" id="red-ui-view-searchtools-search"><i class="fa fa-search"></i></button></span><span class="button-group search-counter" style="display: none;"><span class="red-ui-footer-button" id="red-ui-view-searchtools-counter">? of ?</span></span><span class="button-group" style="display: none;"><button class="red-ui-footer-button" id="red-ui-view-searchtools-prev"><i class="fa fa-chevron-left"></i></button><button class="red-ui-footer-button" id="red-ui-view-searchtools-next"><i class="fa fa-chevron-right"></i></button></span><span class="button-group" style="display: none;"><button class="red-ui-footer-button" id="red-ui-view-searchtools-close"><i class="fa fa-close"></i></button></span></span></span><span class="red-ui-statusbar-bucket red-ui-statusbar-bucket-right"><span class="red-ui-statusbar-widget" id="view-navigator"><button class="red-ui-footer-button-toggle single" id="red-ui-view-navigate"><i class="fa fa-map-o"></i></button></span><span class="red-ui-statusbar-widget" id="view-zoom-controls"><span class="button-group"><button class="red-ui-footer-button" id="red-ui-view-zoom-out"><i class="fa fa-minus"></i></button><button class="red-ui-footer-button" id="red-ui-view-zoom-zero"><i class="fa fa-circle-o"></i></button><button class="red-ui-footer-button" id="red-ui-view-zoom-in"><i class="fa fa-plus"></i></button></span></span></span></div><div id="red-ui-editor-shade" class="hide" style="display: none;"></div><div style="position: absolute; bottom: 25px; right: 0px; z-index: 1; display: none;"><svg width="160" height="160" pointer-events="all" id="red-ui-navigator-canvas"><rect x="0" y="0" width="160" height="160" style="fill: none; stroke: none;"></rect><rect class="red-ui-navigator-border" x="0" y="0" width="20.2914" height="11.51354"></rect><g></g></svg></div></div><div id="red-ui-editor-stack" tabindex="-1" style="z-index: 9;"></div><div id="red-ui-palette"><img src="./Global.solution02_files/spin.svg" class="red-ui-palette-spinner hide" style="display: none;"><div id="red-ui-palette-search" class="red-ui-palette-search"><div class="red-ui-searchBox-container"><i class="fa fa-search"></i><form class="red-ui-searchBox-form"><input type="text" data-i18n="[placeholder]palette.filter" class="red-ui-searchBox-input" placeholder="filtrar ns"></form><a class="red-ui-searchBox-clear" href="http://127.0.0.1:1880/#"><i class="fa fa-times"></i></a><span class="red-ui-searchBox-resultCount hide"></span></div></div><div id="red-ui-palette-container" class="red-ui-palette-scroll"><div id="red-ui-palette-container-subflows" class="red-ui-palette-category hide"><div id="red-ui-palette-header-subflows" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>subfluxos</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-subflows"><div id="red-ui-palette-subflows"></div><div id="red-ui-palette-subflows-input"></div><div id="red-ui-palette-subflows-output"></div><div id="red-ui-palette-subflows-function"></div></div></div><div id="red-ui-palette-container-common" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-common" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>comum</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-common"><div id="red-ui-palette-common"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="inject" data-palette-label="inject" style="background-color: rgb(166, 187, 207); height: 28px;"><div class="red-ui-palette-label" dir="">inject</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/inject.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/inject.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="debug" data-palette-label="debug" style="background-color: rgb(135, 169, 128); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">debug</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/debug.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/debug.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="complete" data-palette-label="complete" style="background-color: rgb(192, 237, 192); height: 28px;"><div class="red-ui-palette-label" dir="">complete</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/alert.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/alert.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="catch" data-palette-label="catch" style="background-color: rgb(228, 145, 145); height: 28px;"><div class="red-ui-palette-label" dir="">catch</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/alert.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/alert.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="status" data-palette-label="status" style="background-color: rgb(148, 193, 208); height: 28px;"><div class="red-ui-palette-label" dir="">status</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/status.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/status.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="link in" data-palette-label="link in" style="background-color: rgb(221, 221, 221); height: 28px;"><div class="red-ui-palette-label" dir="">link   in</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/link-out.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-out.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="link call" data-palette-label="link call" style="background-color: rgb(221, 221, 221); height: 28px;"><div class="red-ui-palette-label" dir="">link   call</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/link-call.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-call.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="link out" data-palette-label="link out" style="background-color: rgb(221, 221, 221); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">link   out</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/link-out.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-out.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="comment" data-palette-label="comment" style="background-color: rgb(255, 255, 255); height: 28px;"><div class="red-ui-palette-label" dir="">comment</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/comment.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/comment.svg&quot;);"></div></div></div></div><div id="red-ui-palette-common-input"></div><div id="red-ui-palette-common-output"></div><div id="red-ui-palette-common-function"></div></div></div><div id="red-ui-palette-container-function" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-function" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>funo</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-function"><div id="red-ui-palette-function"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="function" data-palette-label="function" style="background-color: rgb(253, 208, 162); height: 28px;"><div class="red-ui-palette-label" dir="">function</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/function.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/function.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="switch" data-palette-label="switch" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">switch</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/switch.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/switch.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="change" data-palette-label="change" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">change</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/swap.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/swap.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="range" data-palette-label="range" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">range</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/range.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/range.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="template" data-palette-label="template" style="background-color: rgb(243, 181, 103); height: 28px;"><div class="red-ui-palette-label" dir="">template</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/template.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/template.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="delay" data-palette-label="delay" style="background-color: rgb(230, 224, 248); height: 28px;"><div class="red-ui-palette-label" dir="">delay</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/timer.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/timer.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="trigger" data-palette-label="trigger" style="background-color: rgb(230, 224, 248); height: 28px;"><div class="red-ui-palette-label" dir="">trigger</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/trigger.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/trigger.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="exec" data-palette-label="exec" style="background-color: darksalmon; height: 28px;"><div class="red-ui-palette-label" dir="">exec</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/cog.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="rbe" data-palette-label="filter" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">filter</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/rbe.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/rbe.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div></div><div id="red-ui-palette-function-input"></div><div id="red-ui-palette-function-output"></div><div id="red-ui-palette-function-function"></div></div></div><div id="red-ui-palette-container-network" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-network" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>rede</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-network"><div id="red-ui-palette-network"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="mqtt in" data-palette-label="mqtt in" style="background-color: rgb(216, 191, 216); height: 28px;"><div class="red-ui-palette-label" dir="">mqtt   in</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/bridge.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="mqtt out" data-palette-label="mqtt out" style="background-color: rgb(216, 191, 216); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">mqtt   out</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/bridge.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="http in" data-palette-label="http in" style="background-color: rgb(231, 231, 174); height: 28px;"><div class="red-ui-palette-label" dir="">http   in</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/white-globe.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="http response" data-palette-label="http response" style="background-color: rgb(231, 231, 174); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">http   response</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/white-globe.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="http request" data-palette-label="http request" style="background-color: rgb(231, 231, 174); height: 28px;"><div class="red-ui-palette-label" dir="">http   request</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/white-globe.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="websocket in" data-palette-label="websocket in" style="background-color: rgb(215, 215, 160); height: 28px;"><div class="red-ui-palette-label" dir="">websocket   in</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/white-globe.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="websocket out" data-palette-label="websocket out" style="background-color: rgb(215, 215, 160); height: 48px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">websocket  <br>out</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/white-globe.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="tcp in" data-palette-label="tcp in" style="background-color: rgb(192, 192, 192); height: 28px;"><div class="red-ui-palette-label" dir="">tcp   in</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/bridge-dash.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="tcp out" data-palette-label="tcp out" style="background-color: rgb(192, 192, 192); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">tcp   out</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/bridge-dash.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="tcp request" data-palette-label="tcp request" style="background-color: rgb(192, 192, 192); height: 28px;"><div class="red-ui-palette-label" dir="">tcp   request</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/bridge-dash.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="udp in" data-palette-label="udp in" style="background-color: rgb(192, 192, 192); height: 28px;"><div class="red-ui-palette-label" dir="">udp   in</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/bridge-dash.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="udp out" data-palette-label="udp out" style="background-color: rgb(192, 192, 192); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">udp   out</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red/bridge-dash.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div></div><div id="red-ui-palette-network-input"></div><div id="red-ui-palette-network-output"></div><div id="red-ui-palette-network-function"></div></div></div><div id="red-ui-palette-container-input" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-input" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>entrada</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-input"><div id="red-ui-palette-input"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="fileinject" data-palette-label="file inject" style="background-color: rgb(254, 245, 136); height: 28px;"><div class="red-ui-palette-label" dir="">file   inject</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-contrib-browser-utils/fileinject.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-browser-utils/fileinject.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="microphone" data-palette-label="microphone" style="background-color: rgb(204, 230, 171); height: 28px;"><div class="red-ui-palette-label" dir="">microphone</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-contrib-browser-utils/microphone.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-browser-utils/microphone.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="camera" data-palette-label="camera" style="background-color: rgb(215, 201, 194); height: 28px;"><div class="red-ui-palette-label" dir="">camera</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-contrib-browser-utils/camera.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-browser-utils/camera.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div></div><div id="red-ui-palette-input-input"></div><div id="red-ui-palette-input-output"></div><div id="red-ui-palette-input-function"></div></div></div><div id="red-ui-palette-container-output" class="red-ui-palette-category hide"><div id="red-ui-palette-header-output" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>sada</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-output"><div id="red-ui-palette-output"></div><div id="red-ui-palette-output-input"></div><div id="red-ui-palette-output-output"></div><div id="red-ui-palette-output-function"></div></div></div><div id="red-ui-palette-container-sequence" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-sequence" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>sequencia</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-sequence"><div id="red-ui-palette-sequence"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="split" data-palette-label="split" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">split</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/split.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/split.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="join" data-palette-label="join" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">join</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/join.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/join.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="sort" data-palette-label="sort" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">sort</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/sort.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/sort.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="batch" data-palette-label="batch" style="background-color: rgb(226, 217, 110); height: 28px;"><div class="red-ui-palette-label" dir="">batch</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/batch.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/batch.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div></div><div id="red-ui-palette-sequence-input"></div><div id="red-ui-palette-sequence-output"></div><div id="red-ui-palette-sequence-function"></div></div></div><div id="red-ui-palette-container-parser" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-parser" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>analisador sinttico</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-parser"><div id="red-ui-palette-parser"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="csv" data-palette-label="csv" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="red-ui-palette-label" dir="">csv</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/parser-csv.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-csv.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="html" data-palette-label="html" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="red-ui-palette-label" dir="">html</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/parser-html.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-html.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="json" data-palette-label="json" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="red-ui-palette-label" dir="">json</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/parser-json.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-json.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="xml" data-palette-label="xml" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="red-ui-palette-label" dir="">xml</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/parser-xml.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-xml.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="yaml" data-palette-label="yaml" style="background-color: rgb(222, 189, 92); height: 28px;"><div class="red-ui-palette-label" dir="">yaml</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/parser-yaml.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-yaml.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div></div><div id="red-ui-palette-parser-input"></div><div id="red-ui-palette-parser-output"></div><div id="red-ui-palette-parser-function"></div></div></div><div id="red-ui-palette-container-storage" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-storage" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>armazenar</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-storage"><div id="red-ui-palette-storage"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="file" data-palette-label="escrever arquivo" style="background-color: burlywood; height: 48px;"><div class="red-ui-palette-label" dir="">escrever  <br>arquivo</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/file-out.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/file-out.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="file in" data-palette-label="ler arquivo" style="background-color: burlywood; height: 28px;"><div class="red-ui-palette-label" dir="">ler   arquivo</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/file-in.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/file-in.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watch" data-palette-label="watch" style="background-color: burlywood; height: 28px;"><div class="red-ui-palette-label" dir="">watch</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/watch.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/watch.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div></div><div id="red-ui-palette-storage-input"></div><div id="red-ui-palette-storage-output"></div><div id="red-ui-palette-storage-function"></div></div></div><div id="red-ui-palette-container-analysis" class="red-ui-palette-category hide"><div id="red-ui-palette-header-analysis" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>anlise</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-analysis"><div id="red-ui-palette-analysis"></div><div id="red-ui-palette-analysis-input"></div><div id="red-ui-palette-analysis-output"></div><div id="red-ui-palette-analysis-function"></div></div></div><div id="red-ui-palette-container-social" class="red-ui-palette-category hide"><div id="red-ui-palette-header-social" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>social</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-social"><div id="red-ui-palette-social"></div><div id="red-ui-palette-social-input"></div><div id="red-ui-palette-social-output"></div><div id="red-ui-palette-social-function"></div></div></div><div id="red-ui-palette-container-advanced" class="red-ui-palette-category hide"><div id="red-ui-palette-header-advanced" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>avanado</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-advanced"><div id="red-ui-palette-advanced"></div><div id="red-ui-palette-advanced-input"></div><div id="red-ui-palette-advanced-output"></div><div id="red-ui-palette-advanced-function"></div></div></div><div id="red-ui-palette-container-IBM_Watson" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-IBM_Watson" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>IBM Watson</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-IBM_Watson"><div id="red-ui-palette-IBM_Watson"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-conversation-v1" data-palette-label="assistant" style="background-color: rgb(84, 149, 230); height: 28px;"><div class="red-ui-palette-label" dir="">assistant</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/conversation-v1-25x25.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-conversation-v1-workspace-manager" data-palette-label="assistant workspace manager" style="background-color: rgb(84, 149, 180); height: 68px;"><div class="red-ui-palette-label" dir="">assistant  <br>workspace  <br>manager</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/conversation-v1-25x25.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 29px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 29px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-assistant-v2" data-palette-label="assistant V2" style="background-color: rgb(84, 149, 230); height: 28px;"><div class="red-ui-palette-label" dir="">assistant   V2</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/conversation-v1-25x25.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-discovery-v1" data-palette-label="discovery" style="background-color: rgb(230, 140, 80); height: 28px;"><div class="red-ui-palette-label" dir="">discovery</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/discovery.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-discovery-v1-document-loader" data-palette-label="discovery document loader" style="background-color: rgb(230, 140, 10); height: 68px;"><div class="red-ui-palette-label" dir="">discovery  <br>document  <br>loader</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/discovery.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 29px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 29px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-discovery-v1-query-builder" data-palette-label="discovery query builder" style="background-color: rgb(200, 140, 80); height: 48px;"><div class="red-ui-palette-label" dir="">discovery  <br>query   builder</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/discovery.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-discovery-v2-project-manager" data-palette-label="discovery V2" style="background-color: rgb(200, 100, 80); height: 28px;"><div class="red-ui-palette-label" dir="">discovery   V2</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/discovery.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-translator" data-palette-label="language translator" style="background-color: rgb(84, 149, 230); height: 48px;"><div class="red-ui-palette-label" dir="">language  <br>translator</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/LanguageTranslator25x25.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-doc-translator" data-palette-label="document translator" style="background-color: rgb(84, 149, 230); height: 48px;"><div class="red-ui-palette-label" dir="">document  <br>translator</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/LanguageTranslator25x25.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-language-translator-identify" data-palette-label="language identify" style="background-color: rgb(84, 149, 230); height: 48px;"><div class="red-ui-palette-label" dir="">language  <br>identify</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/LanguageTranslator25x25.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-translator-util" data-palette-label="language translator util" style="background-color: rgb(84, 149, 230); height: 48px;"><div class="red-ui-palette-label" dir="">language  <br>translator   util</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red/arrow-in.svg"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/arrow-in.svg&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-natural-language-classifier" data-palette-label="natural language classifier" style="background-color: rgb(140, 198, 63); height: 68px;"><div class="red-ui-palette-label" dir="">natural  <br>language  <br>classifier</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/NLClassifier.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NLClassifier.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 29px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 29px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="natural-language-understanding" data-palette-label="Natural Language Understanding" style="background-color: rgb(0, 162, 255); height: 88px;"><div class="red-ui-palette-label" dir="">Natural  <br>Language  <br>Understandin<br>g</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/NaturalLanguageUnderstanding.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NaturalLanguageUnderstanding.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 39px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 39px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="natural-language-understanding-model-manager-v1" data-palette-label="natural language understanding V1 model manager" style="background-color: rgb(96, 162, 255); height: 108px;"><div class="red-ui-palette-label" dir="">natural  <br>language  <br>understandin<br>g   V1   model  <br>manager</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/NaturalLanguageUnderstanding.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NaturalLanguageUnderstanding.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 49px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 49px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-speech-to-text" data-palette-label="speech to text" style="background-color: rgb(140, 198, 63); height: 28px;"><div class="red-ui-palette-label" dir="">speech   to   text</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/speech_to_text.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/speech_to_text.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-speech-to-text-v1-query-builder" data-palette-label="speech to text custom builder" style="background-color: rgb(100, 120, 50); height: 68px;"><div class="red-ui-palette-label" dir="">speech   to   text  <br>custom  <br>builder</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/speech_to_text.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/speech_to_text.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 29px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 29px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-text-to-speech" data-palette-label="text to speech" style="background-color: rgb(140, 198, 63); height: 28px;"><div class="red-ui-palette-label" dir="">text   to   speech</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/text_to_speech.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/text_to_speech.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-text-to-speech-v1-query-builder" data-palette-label="text to speech custom builder" style="background-color: rgb(100, 120, 50); height: 68px;"><div class="red-ui-palette-label" dir="">text   to   speech  <br>custom  <br>builder</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/text_to_speech.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/text_to_speech.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 29px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 29px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="watson-tone-analyzer-v3" data-palette-label="tone analyzer v3" style="background-color: rgb(84, 149, 230); height: 48px;"><div class="red-ui-palette-label" dir="">tone   analyzer  <br>v3</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-node-watson/tone_analyzer.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/tone_analyzer.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 19px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 19px;"></div></div></div><div id="red-ui-palette-IBM_Watson-input"></div><div id="red-ui-palette-IBM_Watson-output"></div><div id="red-ui-palette-IBM_Watson-function"></div></div></div><div id="red-ui-palette-container-telegram" class="red-ui-palette-category hide red-ui-palette-open" style="display: block;"><div id="red-ui-palette-header-telegram" class="red-ui-palette-header"><i class="expanded fa fa-angle-down"></i><span>telegram</span></div><div class="red-ui-palette-content" id="red-ui-palette-base-category-telegram"><div id="red-ui-palette-telegram"><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="telegram receiver" data-palette-label="receiver" style="background-color: rgb(59, 171, 221); height: 28px;"><div class="red-ui-palette-label" dir="">receiver</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-contrib-telegrambot/telegram.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="telegram command" data-palette-label="command" style="background-color: rgb(59, 171, 221); height: 28px;"><div class="red-ui-palette-label" dir="">command</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-contrib-telegrambot/telegram_cmd.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram_cmd.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="telegram event" data-palette-label="event" style="background-color: rgb(59, 171, 221); height: 28px;"><div class="red-ui-palette-label" dir="">event</div><div class="red-ui-palette-icon-container" data-palette-icon="icons/node-red-contrib-telegrambot/telegram.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="telegram sender" data-palette-label="sender" style="background-color: rgb(59, 171, 221); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">sender</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red-contrib-telegrambot/telegram.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="telegram reply" data-palette-label="reply" style="background-color: rgb(59, 171, 221); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">reply</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red-contrib-telegrambot/telegram.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div><div class="red-ui-palette-node ui-draggable ui-draggable-handle" data-palette-type="telegram control" data-palette-label="control" style="background-color: rgb(59, 171, 221); height: 28px;"><div class="red-ui-palette-label red-ui-palette-label-right" dir="">control</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right" data-palette-icon="icons/node-red-contrib-telegrambot/telegram.png"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-palette-port red-ui-palette-port-output" style="top: 9px;"></div><div class="red-ui-palette-port red-ui-palette-port-input" style="top: 9px;"></div></div></div><div id="red-ui-palette-telegram-input"></div><div id="red-ui-palette-telegram-output"></div><div id="red-ui-palette-telegram-function"></div></div></div></div><div class="red-ui-component-footer"><span class="button-group"><button type="button" class="red-ui-footer-button"><i class="fa fa-angle-double-up"></i></button><button type="button" class="red-ui-footer-button"><i class="fa fa-angle-double-down"></i></button></span></div><div id="red-ui-palette-shade" class="hide" style="display: none;"></div><div class="red-ui-sidebar-control-left" style="display: none;"><i class="fa fa-chevron-left"></i></div></div><div id="red-ui-sidebar"><div class="red-ui-tabs red-ui-tabs-collapsible"><div><ul id="red-ui-sidebar-tabs"><li class="red-ui-tab red-ui-tab-pinned" id="red-ui-tab-info" style="width: 133px;"><a href="http://127.0.0.1:1880/#info" class="red-ui-tab-label"><i class="red-ui-tab-icon fa fa-info"></i><span class="red-ui-text-bidi-aware" dir="">informaes</span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"></span></li><li class="red-ui-tab red-ui-tab-pinned" id="red-ui-tab-help" style="width: 133px;"><a href="http://127.0.0.1:1880/#help" class="red-ui-tab-label"><i class="red-ui-tab-icon fa fa-book"></i><span class="red-ui-text-bidi-aware" dir="">ajuda</span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"></span></li><li class="red-ui-tab red-ui-tab-pinned active" id="red-ui-tab-debug" style="width: 133px;"><a href="http://127.0.0.1:1880/#debug" class="red-ui-tab-label"><i class="red-ui-tab-icon fa fa-bug"></i><span class="red-ui-text-bidi-aware" dir="">depurar</span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"></span></li><li class="red-ui-tab red-ui-tab-pinned" id="red-ui-tab-config" style="width: 133px;"><a href="http://127.0.0.1:1880/#config" class="red-ui-tab-label"><i class="red-ui-tab-icon fa fa-cog"></i><span class="red-ui-text-bidi-aware" dir="">configurao</span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"></span></li><li class="red-ui-tab red-ui-tab-pinned" id="red-ui-tab-context" style="width: 133px;"><a href="http://127.0.0.1:1880/#context" class="red-ui-tab-label"><i class="red-ui-tab-icon fa fa-database"></i><span class="red-ui-text-bidi-aware" dir="">contexto</span></a><span class="red-ui-tabs-fade"></span><span class="red-ui-tabs-badges"></span></li></ul></div><div class="red-ui-tab-link-buttons"><a href="http://127.0.0.1:1880/#info" class="red-ui-tab-link-button red-ui-tab-link-button-pinned ui-draggable ui-draggable-handle" id="red-ui-tab-info-link-button" style="position: relative;"><i class="fa fa-info"></i></a><a href="http://127.0.0.1:1880/#help" class="red-ui-tab-link-button red-ui-tab-link-button-pinned ui-draggable ui-draggable-handle" id="red-ui-tab-help-link-button" style="position: relative;"><i class="fa fa-book"></i></a><a href="http://127.0.0.1:1880/#debug" class="red-ui-tab-link-button red-ui-tab-link-button-pinned ui-draggable ui-draggable-handle active selected" id="red-ui-tab-debug-link-button" style="position: relative;"><i class="fa fa-bug"></i></a><a href="http://127.0.0.1:1880/#config" class="red-ui-tab-link-button ui-draggable ui-draggable-handle" id="red-ui-tab-config-link-button" style="position: relative;"><i class="fa fa-cog"></i></a><a href="http://127.0.0.1:1880/#context" class="red-ui-tab-link-button ui-draggable ui-draggable-handle" id="red-ui-tab-context-link-button" style="position: relative; display: none;"><i class="fa fa-database"></i></a><a href="http://127.0.0.1:1880/#" class="red-ui-tab-link-button-menu"><i class="fa fa-caret-down"></i></a></div></div><div id="red-ui-sidebar-content"><div style="height: 100%; display: none;"><div class="red-ui-sidebar-info show-tips"><div class="red-ui-sidebar-info-stack red-ui-panels" style="height: 426.667px;"><div class="red-ui-panel" style="overflow: hidden; height: 251.2px;"><div class="red-ui-info-outline" style="height: 100%;"><div class="red-ui-sidebar-header red-ui-info-toolbar"><div class="red-ui-searchBox-container red-ui-searchBox-compact red-ui-searchBox-has-options"><i class="fa fa-search"></i><form class="red-ui-searchBox-form"><input type="text" data-i18n="[placeholder]menu.label.search" class="red-ui-searchBox-input" placeholder="Procurar fluxos"></form><a class="red-ui-searchBox-clear" href="http://127.0.0.1:1880/#"><i class="fa fa-times"></i></a><a class="red-ui-searchBox-opts" href="http://127.0.0.1:1880/#"><i class="fa fa-caret-down"></i></a><span class="red-ui-searchBox-resultCount hide"></span></div></div><div class="red-ui-treeList-label red-ui-info-outline-project" style="display: none;"><span class="red-ui-treeList-icon"><i class="fa fa-archive"></i></span><span></span></div><div class="red-ui-treeList" tabindex="0" style="width: 100%;"><div class="red-ui-treeList-container"><div class="red-ui-editableList" style="inset: 0px; position: absolute;"><div class="red-ui-editableList-border red-ui-editableList-container" style="inset: 0px; position: absolute; overflow-y: auto;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="position: static; inset: auto; min-height: 0px; height: auto;"><li><div class="red-ui-editableList-item-content expanded"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">Fluxos</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container"><ol class="red-ui-treeList-list red-ui-editableList-list" style="min-height: 0px; height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span class="red-ui-info-outline-gutter red-ui-treeList-gutter-float" style="position: absolute;"><button type="button" class="red-ui-info-outline-item-control-reveal red-ui-button red-ui-button-small"><i class="fa fa-search"></i></button></span><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><i class="red-ui-icons red-ui-icons-flow"></i></span><div class="red-ui-info-outline-item red-ui-info-outline-item-flow" style="width: calc(100% - 60px);"><div class="red-ui-search-result-description red-ui-info-outline-item-label">Fluxo 1</div><div class="red-ui-info-outline-item-controls red-ui-info-outline-item-hover-controls"><button type="button" class="red-ui-info-outline-item-control-hide red-ui-button red-ui-button-small"><i class="fa fa-eye"></i><i class="fa fa-eye-slash"></i></button><button type="button" class="red-ui-info-outline-item-control-disable red-ui-button red-ui-button-small"><i class="fa fa-circle-thin"></i><i class="fa fa-ban"></i></button><button type="button" class="red-ui-info-outline-item-control-lock red-ui-button red-ui-button-small"><i class="fa fa-unlock-alt"></i><i class="fa fa-lock"></i></button></div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span class="red-ui-info-outline-gutter red-ui-treeList-gutter-float" style="position: absolute;"><button type="button" class="red-ui-info-outline-item-control-reveal red-ui-button red-ui-button-small"><i class="fa fa-search"></i></button></span><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><i class="red-ui-icons red-ui-icons-flow"></i></span><div class="red-ui-info-outline-item red-ui-info-outline-item-flow" style="width: calc(100% - 60px);"><div class="red-ui-search-result-description red-ui-info-outline-item-label">telegram </div><div class="red-ui-info-outline-item-controls red-ui-info-outline-item-hover-controls"><button type="button" class="red-ui-info-outline-item-control-hide red-ui-button red-ui-button-small"><i class="fa fa-eye"></i><i class="fa fa-eye-slash"></i></button><button type="button" class="red-ui-info-outline-item-control-disable red-ui-button red-ui-button-small"><i class="fa fa-circle-thin"></i><i class="fa fa-ban"></i></button><button type="button" class="red-ui-info-outline-item-control-lock red-ui-button red-ui-button-small"><i class="fa fa-unlock-alt"></i><i class="fa fa-lock"></i></button></div></div></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">subfluxos</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container"><ol class="red-ui-treeList-list red-ui-editableList-list" style="min-height: 0px; height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-info-outline-item red-ui-info-outline-item-empty" style="width: calc(100% - 40px);">vazio</div></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">Ns de configurao global</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container"><ol class="red-ui-treeList-list red-ui-editableList-list" style="min-height: 0px; height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">telegram bot</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span class="red-ui-info-outline-gutter red-ui-treeList-gutter-float" style="position: absolute;"><button type="button" class="red-ui-info-outline-item-control-reveal red-ui-button red-ui-button-small"><i class="fa fa-search"></i></button></span><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item red-ui-info-outline-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label red-ui-info-outline-item-label">Doctor_Bot</div></span><div class="red-ui-info-outline-item-controls red-ui-info-outline-item-hover-controls"><button type="button" class="red-ui-info-outline-item-control-users red-ui-button red-ui-button-small">2</button><button type="button" class="red-ui-info-outline-item-control-disable red-ui-button red-ui-button-small"><i class="fa fa-circle-thin"></i><i class="fa fa-ban"></i></button><div class="red-ui-info-outline-item-control-spacer"></div></div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span class="red-ui-info-outline-gutter red-ui-treeList-gutter-float" style="position: absolute;"><button type="button" class="red-ui-info-outline-item-control-reveal red-ui-button red-ui-button-small"><i class="fa fa-search"></i></button></span><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item red-ui-info-outline-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label red-ui-info-outline-item-label">Doctor_Bot</div></span><div class="red-ui-info-outline-item-controls red-ui-info-outline-item-hover-controls"><button type="button" class="red-ui-info-outline-item-control-users red-ui-button red-ui-button-small">0</button><button type="button" class="red-ui-info-outline-item-control-disable red-ui-button red-ui-button-small"><i class="fa fa-circle-thin"></i><i class="fa fa-ban"></i></button><div class="red-ui-info-outline-item-control-spacer"></div></div></div></div></div></li></ol></div></div></div></li></ol></div></div></div></li></ol></div></div></div></div></div></div><div class="red-ui-panels-separator ui-draggable ui-draggable-handle" style="position: relative;"></div><div class="red-ui-panel" style="overflow: hidden; height: 100%; display: flex; flex-direction: column;"><div class="red-ui-palette-header red-ui-info-header" style="flex: 0 0 auto;"><span><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(135, 169, 128); border-color: rgb(85, 119, 78);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/debug.svg&quot;);"></div></div></span></span><span>Sada de udio</span><button type="button" class="red-ui-button red-ui-button-small" style="position: absolute; top: 12px; right: 32px;"><i class="fa fa-link"></i></button><button type="button" class="red-ui-button red-ui-button-small" style="position: absolute; top: 12px; right: 56px;"><i class="fa fa-book"></i></button><button type="button" class="red-ui-button red-ui-button-small" style="position: absolute; top: 12px; right: 8px;"><i class="fa fa-search"></i></button></div><div style="flex: 1 1 auto; overflow-y: auto;"><table class="red-ui-info-table"><tbody><tr class="red-ui-help-info-row"><td>N</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"2c2ef82c4845923e"</span></span></span></span></td></tr><tr class="red-ui-help-info-row"><td>Tipo</td><td>debug</td></tr><tr class="red-ui-help-property-expand blank"><td colspan="2"><a href="http://127.0.0.1:1880/#" class="node-info-property-header"><span class="red-ui-help-property-more">mostrar mais</span><span class="red-ui-help-property-less">mostrar menos</span> <i class="fa fa-caret-down"></i></a></td></tr><tr class="red-ui-help-info-property-row hide"><td>Mdulo</td><td>node-red</td></tr><tr class="red-ui-help-info-property-row hide"><td>active</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-other">true</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>tosidebar</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-other">true</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>console</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-other">false</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>tostatus</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-other">false</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>complete</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"payload"</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>targetType</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"msg"</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>statusVal</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">""</span></span></span></span></td></tr><tr class="red-ui-help-info-property-row hide"><td>statusType</td><td><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"auto"</span></span></span></span></td></tr></tbody></table><div style="padding: 0px 6px 6px;"><div class="red-ui-help"><span class="red-ui-text-bidi-aware" dir=""></span></div></div></div></div></div><div class="red-ui-help-tips"><div class="red-ui-help-tip" style="">Mantenha pressionado <span class="help-key-block"><span class="help-key"></span></span> enquanto voc <span class="help-key-block"><span class="help-key">click</span></span> em um n para tambm selecionar todos os seus ns conectados</div><div class="red-ui-help-tips-buttons"><a href="http://127.0.0.1:1880/#" class="red-ui-footer-button"><i class="fa fa-refresh"></i></a><a href="http://127.0.0.1:1880/#" class="red-ui-footer-button"><i class="fa fa-times"></i></a></div></div></div></div><div style="height: 100%; display: none;"><div class="red-ui-sidebar-info show-tips"><div class="red-ui-sidebar-header red-ui-info-toolbar"><span class="button-group"><a id="red-ui-sidebar-help-show-toc" class="red-ui-button red-ui-button-small selected" href="http://127.0.0.1:1880/#"><i class="fa fa-list-ul"></i></a></span><div class="red-ui-searchBox-container red-ui-searchBox-compact"><i class="fa fa-search"></i><form class="red-ui-searchBox-form"><input type="text" data-i18n="[placeholder]sidebar.help.search" class="red-ui-searchBox-input" placeholder="Ajuda sobre a procura"></form><a class="red-ui-searchBox-clear" href="http://127.0.0.1:1880/#"><i class="fa fa-times"></i></a><span class="red-ui-searchBox-resultCount hide"></span></div></div><div class="red-ui-sidebar-help-stack red-ui-panels" style="height: 537.667px;"><div class="red-ui-sidebar-help-toc red-ui-panel" style="height: 158.9px;"><div class="red-ui-treeList" tabindex="0" style="width: 100%;"><div class="red-ui-treeList-container"><div class="red-ui-editableList" style="inset: 0px; position: absolute;"><div class="red-ui-editableList-border red-ui-editableList-container" style="inset: 0px; position: absolute; overflow-y: auto;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="position: static; inset: auto; min-height: 0px; height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">Node-RED</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-label-text">Log de alterao</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">Tour de Boas-vindas</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><i class="fa fa-play-circle-o"></i></span><span class="red-ui-treeList-label-text">3.1</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><i class="fa fa-play-circle-o"></i></span><span class="red-ui-treeList-label-text">3.0</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><i class="fa fa-play-circle-o"></i></span><span class="red-ui-treeList-label-text">2.2</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><i class="fa fa-play-circle-o"></i></span><span class="red-ui-treeList-label-text">2.1</span></div></div></li></ol></div></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content expanded"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-label-text">Ajuda sobre o n</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto;"><li><div class="red-ui-editableList-item-content expanded"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><i class="fa fa-cube"></i></span><span class="red-ui-treeList-label-text">node-red</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/batch.svg&quot;);"></div></div><div class="red-ui-node-label">batch</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(228, 145, 145); border-color: rgb(178, 95, 95);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/alert.svg&quot;);"></div></div><div class="red-ui-node-label">catch</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/swap.svg&quot;);"></div></div><div class="red-ui-node-label">change</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(255, 255, 255); border-color: rgb(205, 205, 205);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/comment.svg&quot;);"></div></div><div class="red-ui-node-label">comment</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(192, 237, 192); border-color: rgb(142, 187, 142);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/alert.svg&quot;);"></div></div><div class="red-ui-node-label">complete</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(222, 189, 92); border-color: rgb(172, 139, 42);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-csv.svg&quot;);"></div></div><div class="red-ui-node-label">csv</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(135, 169, 128); border-color: rgb(85, 119, 78);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/debug.svg&quot;);"></div></div><div class="red-ui-node-label">debug</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(230, 224, 248); border-color: rgb(180, 174, 198);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/timer.svg&quot;);"></div></div><div class="red-ui-node-label">delay</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: darksalmon;"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">exec</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: burlywood;"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/file-out.svg&quot;);"></div></div><div class="red-ui-node-label">escrever arquivo</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: burlywood;"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/file-in.svg&quot;);"></div></div><div class="red-ui-node-label">ler arquivo</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(253, 208, 162); border-color: rgb(203, 158, 112);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/function.svg&quot;);"></div></div><div class="red-ui-node-label">function</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">global-config</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(222, 189, 92); border-color: rgb(172, 139, 42);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-html.svg&quot;);"></div></div><div class="red-ui-node-label">html</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(231, 231, 174);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-node-label">http in</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">http proxy</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(231, 231, 174);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-node-label">http request</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(231, 231, 174);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-node-label">http response</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(166, 187, 207); border-color: rgb(116, 137, 157);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/inject.svg&quot;);"></div></div><div class="red-ui-node-label">inject</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/join.svg&quot;);"></div></div><div class="red-ui-node-label">join</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(222, 189, 92); border-color: rgb(172, 139, 42);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-json.svg&quot;);"></div></div><div class="red-ui-node-label">json</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-call.svg&quot;);"></div></div><div class="red-ui-node-label">link call</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-out.svg&quot;);"></div></div><div class="red-ui-node-label">link in</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-out.svg&quot;);"></div></div><div class="red-ui-node-label">link out</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(216, 191, 216); border-color: rgb(166, 141, 166);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge.svg&quot;);"></div></div><div class="red-ui-node-label">mqtt in</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(216, 191, 216); border-color: rgb(166, 141, 166);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge.svg&quot;);"></div></div><div class="red-ui-node-label">mqtt out</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">mqtt-broker</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/range.svg&quot;);"></div></div><div class="red-ui-node-label">range</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/rbe.svg&quot;);"></div></div><div class="red-ui-node-label">filter</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/sort.svg&quot;);"></div></div><div class="red-ui-node-label">sort</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/split.svg&quot;);"></div></div><div class="red-ui-node-label">split</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(148, 193, 208); border-color: rgb(98, 143, 158);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/status.svg&quot;);"></div></div><div class="red-ui-node-label">status</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(226, 217, 110); border-color: rgb(176, 167, 60);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/switch.svg&quot;);"></div></div><div class="red-ui-node-label">switch</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-node-label">tcp in</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-node-label">tcp out</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-node-label">tcp request</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(243, 181, 103);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/template.svg&quot;);"></div></div><div class="red-ui-node-label">template</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">tls-config</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(230, 224, 248); border-color: rgb(180, 174, 198);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/trigger.svg&quot;);"></div></div><div class="red-ui-node-label">trigger</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-node-label">udp in</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-node-label">udp out</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(255, 240, 240); border-color: rgb(205, 190, 190);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/alert.svg&quot;);"></div></div><div class="red-ui-node-label">unknown</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: burlywood;"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/watch.svg&quot;);"></div></div><div class="red-ui-node-label">watch</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(215, 215, 160);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-node-label">websocket in</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(215, 215, 160);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-node-label">websocket out</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">websocket-client</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">websocket-listener</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(222, 189, 92); border-color: rgb(172, 139, 42);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-xml.svg&quot;);"></div></div><div class="red-ui-node-label">xml</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(222, 189, 92); border-color: rgb(172, 139, 42);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-yaml.svg&quot;);"></div></div><div class="red-ui-node-label">yaml</div></span></div></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content expanded"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><i class="fa fa-cube"></i></span><span class="red-ui-treeList-label-text">node-red-contrib-browser-utils</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(215, 201, 194);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-browser-utils/camera.png&quot;);"></div></div><div class="red-ui-node-label">camera</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(254, 245, 136);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-browser-utils/fileinject.png&quot;);"></div></div><div class="red-ui-node-label">file inject</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(204, 230, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-browser-utils/microphone.png&quot;);"></div></div><div class="red-ui-node-label">microphone</div></span></div></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content expanded"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><i class="fa fa-cube"></i></span><span class="red-ui-treeList-label-text">node-red-contrib-telegrambot</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(221, 221, 221); border-color: rgb(171, 171, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-node-label">telegram bot</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(59, 171, 221); border-color: rgb(9, 121, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram_cmd.png&quot;);"></div></div><div class="red-ui-node-label">command</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(59, 171, 221); border-color: rgb(9, 121, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-node-label">control</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(59, 171, 221); border-color: rgb(9, 121, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-node-label">event</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(59, 171, 221); border-color: rgb(9, 121, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-node-label">receiver</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(59, 171, 221); border-color: rgb(9, 121, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-node-label">reply</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(59, 171, 221); border-color: rgb(9, 121, 171);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-node-label">sender</div></span></div></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content expanded"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><i class="fa fa-cube"></i></span><span class="red-ui-treeList-label-text">node-red-node-watson</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(0, 162, 255); border-color: rgb(0, 112, 205);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NaturalLanguageUnderstanding.png&quot;);"></div></div><div class="red-ui-node-label">Natural Language Understanding</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(96, 162, 255); border-color: rgb(46, 112, 205);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NaturalLanguageUnderstanding.png&quot;);"></div></div><div class="red-ui-node-label">natural language understanding V1 model manager</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-node-label">assistant V2</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-node-label">assistant</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 180);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-node-label">assistant workspace manager</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(230, 140, 80);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-node-label">discovery</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(230, 140, 10);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-node-label">discovery document loader</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(200, 140, 80);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-node-label">discovery query builder</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(200, 100, 80);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-node-label">discovery V2</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-node-label">document translator</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-node-label">language identify</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(140, 198, 63);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NLClassifier.png&quot;);"></div></div><div class="red-ui-node-label">natural language classifier</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(140, 198, 63);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/speech_to_text.png&quot;);"></div></div><div class="red-ui-node-label">speech to text</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(100, 120, 50);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/speech_to_text.png&quot;);"></div></div><div class="red-ui-node-label">speech to text custom builder</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(140, 198, 63);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/text_to_speech.png&quot;);"></div></div><div class="red-ui-node-label">text to speech</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(100, 120, 50);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/text_to_speech.png&quot;);"></div></div><div class="red-ui-node-label">text to speech custom builder</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/tone_analyzer.png&quot;);"></div></div><div class="red-ui-node-label">tone analyzer v3</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-node-label">language translator</div></span></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label"><span style="display: inline-block; flex-shrink: 0; width: 40px;"></span><span class="red-ui-treeList-icon"></span><div class="red-ui-node-list-item" style="width: calc(100% - 60px);"><span class="red-ui-node-icon-container"><div class="red-ui-node-icon" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/arrow-in.svg&quot;);"></div></div><div class="red-ui-node-label">language translator util</div></span></div></div></div></li></ol></div></div></div></li></ol></div></div></div></li></ol></div></div></div></div></div><div class="red-ui-panels-separator ui-draggable ui-draggable-handle" style="position: relative;"></div><div class="red-ui-panel" style="overflow-y: auto;"><div class="red-ui-help" style="padding: 6px;"><h1 class="red-ui-help-title">debug</h1><div class="red-ui-help"><span class="red-ui-text-bidi-aware" dir="">
    <p>Exibe as propriedades da mensagem selecionada na guia de depurao da barra lateral e, opcionalmente, o log do tempo de execuo. Por padro, ele exibe <code> msg.payload </code>, mas pode ser configurado para exibir qualquer propriedade, a mensagem completa ou o resultado de uma expresso JSONata.</p>
    <h3><a class="red-ui-help-info-header expanded" href="http://127.0.0.1:1880/#"><i class="fa fa-angle-right"></i>Detalhes</a></h3>
  <p>A barra lateral de depurao fornece uma viso estruturada das mensagens enviadas, facilitando o entendimento de sua estrutura.</p>
  <p>Objetos e matrizes JavaScript podem ser recolhidos e expandidos conforme necessrio. Objetos de aramazenamento temporrio podem ser exibidos como dados brutos ou como uma cadeia de caracteres, se possvel.</p>
  <p>Juntamente com cada mensagem, a barra lateral de depurao inclui informaes sobre a hora em que a mensagem foi recebida, o n que a enviou e o tipo da mensagem.
      Clicar no id do n de origem revelar esse n no espao de trabalho.</p>
  <p>O boto no n pode ser usado para habilitar ou desabilitar sua sada.  recomendado desativar ou remover quaisquer ns de depurao que no estejam sendo usados.</p>
  <p>O n tambm pode ser configurado para enviar todas as mensagens para o log de tempo de execuo ou para enviar mensagens curtas (32 caracteres) para o texto de estado sob o n de depurao.</p> 
</span></div></div></div></div></div></div><div style="height: 100%; display: none;"><div class="red-ui-sidebar-node-config" id="red-ui-sidebar-node-config" tabindex="0"><div class="red-ui-sidebar-header"><span class="button-group"><a class="red-ui-sidebar-header-button-toggle selected" id="red-ui-sidebar-config-filter-all" href="http://127.0.0.1:1880/#"><span data-i18n="sidebar.config.filterAll">todos</span></a><a class="red-ui-sidebar-header-button-toggle" id="red-ui-sidebar-config-filter-unused" href="http://127.0.0.1:1880/#"><span data-i18n="sidebar.config.filterUnused">no utilizados</span></a> </span></div><div><div class="red-ui-palette-category red-ui-sidebar-config-category" id="red-ui-sidebar-config-category-global"><div class="red-ui-sidebar-config-tray-header red-ui-palette-header"><i class="fa fa-angle-down expanded"></i><span class="red-ui-palette-node-config-label" data-i18n="sidebar.config.global">Em todos os fluxos</span><span class="red-ui-sidebar-node-config-filter-info" style="display: none;"></span></div><ul class="red-ui-palette-content red-ui-sidebar-node-config-list" style=""><li class="red-ui-palette-node-config-type">telegram bot</li><li class="red-ui-palette-node_id_e08ac61afdc99d02"><div class="red-ui-palette-node-config red-ui-palette-node"><div class="red-ui-palette-label">Doctor_Bot</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right"><a href="http://127.0.0.1:1880/#">2</a></div></div></li><li class="red-ui-palette-node_id_4029bfb9096223fd"><div class="red-ui-palette-node-config red-ui-palette-node red-ui-palette-node-config-unused"><div class="red-ui-palette-label">Doctor_Bot</div><div class="red-ui-palette-icon-container red-ui-palette-icon-container-right">0</div></div></li></ul></div></div><div><div class="red-ui-palette-category red-ui-sidebar-config-category" id="red-ui-sidebar-config-category-fe387e698bd61fc0"><div class="red-ui-sidebar-config-tray-header red-ui-palette-header"><i class="fa fa-angle-down"></i><span style="margin-right: 5px; display: none;"><i class="fa fa-lock"></i></span><span class="red-ui-palette-node-config-label">Fluxo 1</span><span class="red-ui-sidebar-node-config-filter-info" style="display: none;"></span></div><ul class="red-ui-palette-content red-ui-sidebar-node-config-list" style="display: none;"><li class="red-ui-palette-node-config-none" data-i18n="sidebar.config.none">nenhum</li></ul></div><div class="red-ui-palette-category red-ui-sidebar-config-category" id="red-ui-sidebar-config-category-862f4a647838aac0"><div class="red-ui-sidebar-config-tray-header red-ui-palette-header"><i class="fa fa-angle-down"></i><span style="margin-right: 5px; display: none;"><i class="fa fa-lock"></i></span><span class="red-ui-palette-node-config-label">telegram </span><span class="red-ui-sidebar-node-config-filter-info" style="display: none;"></span></div><ul class="red-ui-palette-content red-ui-sidebar-node-config-list" style="display: none;"><li class="red-ui-palette-node-config-none" data-i18n="sidebar.config.none">nenhum</li></ul></div></div><div></div></div><div class="red-ui-sidebar-shade hide" style="display: none;"></div></div><div style="height: 100%; display: none;"><div style="position: relative; height: 100%;"><div class="red-ui-sidebar-context-stack red-ui-stack"><div class="red-ui-palette-category expanded"><div class="red-ui-palette-header"><i class="fa fa-angle-down expanded"></i><span>N</span><div style="float: right"><input type="checkbox" style="display: none;"><button type="button" class="red-ui-toggleButton red-ui-sidebar-header-button red-ui-button-small toggle single"><i class="fa fa-square-o"></i></button><button class="red-ui-button red-ui-button-small" style="margin-left: 5px"><i class="fa fa-refresh"></i></button></div></div><div style="position: relative;"><div style="height: 100%;"><div class="red-ui-sidebar-context-updated">&nbsp;</div><table class="red-ui-info-table"><tbody><tr class="red-ui-help-info-row red-ui-search-empty blank" colspan="2"><td data-i18n="sidebar.context.refresh">atualize para carregar</td></tr></tbody></table></div></div></div><div class="red-ui-palette-category expanded"><div class="red-ui-palette-header"><i class="fa fa-angle-down expanded"></i><span>Fluxo</span><div style="float: right"><input type="checkbox" style="display: none;"><button type="button" class="red-ui-toggleButton red-ui-sidebar-header-button red-ui-button-small toggle single"><i class="fa fa-square-o"></i></button><button class="red-ui-button red-ui-button-small" style="margin-left: 5px"><i class="fa fa-refresh"></i></button></div></div><div style="position: relative;"><div style="height: 100%;"><div class="red-ui-sidebar-context-updated">&nbsp;</div><table class="red-ui-info-table"><tbody><tr class="red-ui-help-info-row red-ui-search-empty blank" colspan="2"><td data-i18n="sidebar.context.refresh">atualize para carregar</td></tr></tbody></table></div></div></div><div class="red-ui-palette-category expanded"><div class="red-ui-palette-header"><i class="fa fa-angle-down expanded"></i><span>Global</span><div style="float: right"><button class="red-ui-button red-ui-button-small"><i class="fa fa-refresh"></i></button></div></div><div style="position: relative;"><div style="height: 100%;"><div class="red-ui-sidebar-context-updated">&nbsp;</div><table class="red-ui-info-table"><tbody><tr class="red-ui-help-info-row red-ui-search-empty blank" colspan="2"><td data-i18n="sidebar.context.refresh">atualize para carregar</td></tr></tbody></table></div></div></div></div></div></div><div style="height: 100%;"><div style="position: relative; height: 100%;"><div class="red-ui-sidebar-header"><span class="button-group"><a id="red-ui-sidebar-debug-filter" style="padding-right: 5px" class="red-ui-sidebar-header-button" href="http://127.0.0.1:1880/#"><i class="fa fa-filter"></i> <span>todos os ns</span> <i style="padding-left: 5px;" class="fa fa-caret-down"></i></a></span><span class="button-group"><a id="red-ui-sidebar-debug-clear" style="border-right: none; padding-right: 6px" class="red-ui-sidebar-header-button" href="http://127.0.0.1:1880/#" data-clear-type="all"><i class="fa fa-trash"></i> <span>todos</span></a><a id="red-ui-sidebar-debug-clear-opts" style="padding: 5px; border-left: none;" class="red-ui-sidebar-header-button" href="http://127.0.0.1:1880/#"><i class="fa fa-caret-down"></i></a></span><div class="red-ui-debug-filter-box hide"><div style="margin-bottom: 3px; display: flex;"><span style="flex-grow:1; text-align: left;"><span class="button-group"><button type="button" id="red-ui-sidebar-filter-select-all" class="red-ui-sidebar-header-button red-ui-button-small" data-i18n="node-red:debug.sidebar.selectAll">selecionar todos</button></span><span class="button-group"><button type="button" id="red-ui-sidebar-filter-select-none" class="red-ui-sidebar-header-button red-ui-button-small" data-i18n="node-red:debug.sidebar.selectNone">selecionar nenhum</button></span></span><span class="button-group"><button type="button" id="red-ui-sidebar-filter-select-close" class="red-ui-sidebar-header-button red-ui-button-small"><i class="fa fa-times"></i></button></span></div><div class="red-ui-debug-filter-row" id="red-ui-sidebar-debug-filter-node-list-row"><div class="red-ui-treeList" tabindex="0" style="width: 100%; height: 300px;"><div class="red-ui-treeList-container"><div class="red-ui-editableList" style="inset: 0px; position: absolute;"><div class="red-ui-editableList-border red-ui-editableList-container" style="inset: 0px; position: absolute; overflow-y: auto;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="position: static; inset: auto; min-height: 0px; height: auto;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Fluxo 1</span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Captura do MIC</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Sada STT</span></div></div></li></ol></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 0px;"></span><span class="red-ui-treeList-icon"><i class="fa fa-angle-right"></i></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">telegram </span></div><div class="red-ui-editableList"><div class="red-ui-editableList-border red-ui-editableList-container" style="max-height: none;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="height: auto; display: none;"><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Entrada de udio</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Entrada do telegram</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Resposta  do Wa</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Retorno</span></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-treeList-label selected"><span style="display: inline-block; flex-shrink: 0; width: 20px;"></span><span class="red-ui-treeList-icon"></span><span class="red-ui-treeList-icon"><input class="red-ui-treeList-checkbox" type="checkbox"></span><span class="red-ui-treeList-label-text">Sada de udio</span></div></div></li></ol></div></div></div></li></ol></div></div></div></div></div></div></div><div class="red-ui-debug-content red-ui-debug-content-list"><div class="red-ui-debug-msg red-ui-debug-msg-node-917ec5470fc3333f red-ui-debug-msg-flow-862f4a647838aac0"><div class="red-ui-debug-msg-meta"><span class="red-ui-debug-msg-date">29/11/2023, 20:17:12</span><a href="http://127.0.0.1:1880/#" class="red-ui-debug-msg-name">n: Entrada do telegram</a><span class="red-ui-debug-msg-tools button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-caret-down"></i></button></span><span class="red-ui-debug-msg-topic">msg.payload : Object</span></div><span class="red-ui-debug-msg-payload"><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level built"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-object-header"><span>{ </span><span class="red-ui-debug-msg-object-key">chatId</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-number">6936322004</span><span>, </span><span class="red-ui-debug-msg-object-key">messageId</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-number">46</span><span>, </span><span class="red-ui-debug-msg-object-key">type</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"voice"</span><span>, </span><span class="red-ui-debug-msg-object-key">content</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"AwACAgEAAxkBAAMuZWfGfsHcMBfoxf"</span><span>, </span><span class="red-ui-debug-msg-object-key">caption</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-null">undefined</span><span> </span><span> }</span></span></span><span class="red-ui-debug-msg-type-meta red-ui-debug-msg-object-type-header">object</span></span><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">chatId</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-number red-ui-debug-msg-type-number-toggle">6936322004</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">messageId</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-number red-ui-debug-msg-type-number-toggle">46</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">type</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"voice"</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">content</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"AwACAgEAAxkBAAMuZWfGfsHcMBfoxf2Xeik24ZTkixAAAmEDAALy3UFHAbhcZPD0UMwzBA"</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">caption</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-null">undefined</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">date</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-number red-ui-debug-msg-type-number-toggle">1701299838</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">blob</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-other">true</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">weblink</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"https://api.telegram.org/file/bot6854156988:AAGK9E_NtKkfcyOuuii95AQsuDzDuppu14E/voice/file_2.oga"</span></span></span></span></div></span></span></div><div class="red-ui-debug-msg red-ui-debug-msg-node-03bc8fd6be6ddbb5 red-ui-debug-msg-flow-862f4a647838aac0"><div class="red-ui-debug-msg-meta"><span class="red-ui-debug-msg-date">29/11/2023, 20:17:13</span><a href="http://127.0.0.1:1880/#" class="red-ui-debug-msg-name">n: Resposta  do Wa</a><span class="red-ui-debug-msg-tools button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-caret-down"></i></button></span><span class="red-ui-debug-msg-topic">msg.payload : Object</span></div><span class="red-ui-debug-msg-payload"><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level built"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-object-header"><span>{ </span><span class="red-ui-debug-msg-object-key">output</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">user_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span>, </span><span class="red-ui-debug-msg-object-key">context</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">session_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span> }</span></span></span><span class="red-ui-debug-msg-type-meta red-ui-debug-msg-object-type-header">object</span></span><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element built"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">output</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">intents</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">array[0]</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">entities</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">array[0]</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed red-ui-debug-msg-buffer-raw"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">generic</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">array[1]</span></span></span><div class="red-ui-debug-msg-array-rows"></div></span></div></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">user_id</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"aad35439-e39a-469a-9434-516b39bcff08"</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element built"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">context</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">global</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">skills</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span></span></div></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">session_id</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"aad35439-e39a-469a-9434-516b39bcff08"</span></span></span></span></div></span></span></div><div class="red-ui-debug-msg red-ui-debug-msg-node-c4f0c4822bb08f9e red-ui-debug-msg-flow-862f4a647838aac0"><div class="red-ui-debug-msg-meta"><span class="red-ui-debug-msg-date">29/11/2023, 20:17:13</span><a href="http://127.0.0.1:1880/#" class="red-ui-debug-msg-name">n: Retorno</a><span class="red-ui-debug-msg-tools button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-caret-down"></i></button></span><span class="red-ui-debug-msg-topic">msg.payload : Object</span></div><span class="red-ui-debug-msg-payload"><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level built"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-object-header"><span>{ </span><span class="red-ui-debug-msg-object-key">output</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">user_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span>, </span><span class="red-ui-debug-msg-object-key">context</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">session_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span>, </span><span class="red-ui-debug-msg-object-key">chatId</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-number">6936322004</span><span> </span><span> }</span></span></span><span class="red-ui-debug-msg-type-meta red-ui-debug-msg-object-type-header">object</span></span><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">output</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">user_id</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"aad35439-e39a-469a-9434-516b39bcff08"</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">context</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">session_id</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"aad35439-e39a-469a-9434-516b39bcff08"</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">chatId</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-number red-ui-debug-msg-type-number-toggle">6936322004</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">type</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"message"</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">content</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element built collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">options</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-meta">object</span></span></span><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">chat_id</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-number red-ui-debug-msg-type-number-toggle">6936322004</span></span></span></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">text</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-string red-ui-debug-msg-object-header">"Eu no entendi. Voc pode tentar reformular a frase."</span></span></span></span></div></span></div><div class="red-ui-debug-msg-object-entry collapsed"><span class="red-ui-debug-msg-element"><span class="red-ui-debug-msg-row"><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span><button class="red-ui-button red-ui-button-small red-ui-debug-msg-tools-pin"><i class="fa fa-map-pin"></i></button></span><span class="red-ui-debug-msg-object-key">sentMessageId</span><span>: </span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-type-number red-ui-debug-msg-type-number-toggle">47</span></span></span></span></div></span></span></div><div class="red-ui-debug-msg red-ui-debug-msg-node-917ec5470fc3333f red-ui-debug-msg-flow-862f4a647838aac0"><div class="red-ui-debug-msg-meta"><span class="red-ui-debug-msg-date">29/11/2023, 20:19:12</span><a href="http://127.0.0.1:1880/#" class="red-ui-debug-msg-name">n: Entrada do telegram</a><span class="red-ui-debug-msg-tools button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-caret-down"></i></button></span><span class="red-ui-debug-msg-topic">msg.payload : Object</span></div><span class="red-ui-debug-msg-payload"><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-object-header"><span>{ </span><span class="red-ui-debug-msg-object-key">chatId</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-number">6936322004</span><span>, </span><span class="red-ui-debug-msg-object-key">messageId</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-number">48</span><span>, </span><span class="red-ui-debug-msg-object-key">type</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"voice"</span><span>, </span><span class="red-ui-debug-msg-object-key">content</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"AwACAgEAAxkBAAMwZWfG9ke3TB8yqm"</span><span>, </span><span class="red-ui-debug-msg-object-key">caption</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-null">undefined</span><span> </span><span> }</span></span></span></span></span></span></div><div class="red-ui-debug-msg red-ui-debug-msg-node-03bc8fd6be6ddbb5 red-ui-debug-msg-flow-862f4a647838aac0"><div class="red-ui-debug-msg-meta"><span class="red-ui-debug-msg-date">29/11/2023, 20:19:13</span><a href="http://127.0.0.1:1880/#" class="red-ui-debug-msg-name">n: Resposta  do Wa</a><span class="red-ui-debug-msg-tools button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-caret-down"></i></button></span><span class="red-ui-debug-msg-topic">msg.payload : Object</span></div><span class="red-ui-debug-msg-payload"><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-object-header"><span>{ </span><span class="red-ui-debug-msg-object-key">output</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">user_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span>, </span><span class="red-ui-debug-msg-object-key">context</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">session_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span> }</span></span></span></span></span></span></div><div class="red-ui-debug-msg red-ui-debug-msg-node-c4f0c4822bb08f9e red-ui-debug-msg-flow-862f4a647838aac0"><div class="red-ui-debug-msg-meta"><span class="red-ui-debug-msg-date">29/11/2023, 20:19:13</span><a href="http://127.0.0.1:1880/#" class="red-ui-debug-msg-name">n: Retorno</a><span class="red-ui-debug-msg-tools button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-caret-down"></i></button></span><span class="red-ui-debug-msg-topic">msg.payload : Object</span></div><span class="red-ui-debug-msg-payload"><span class="red-ui-debug-msg-element red-ui-debug-msg-top-level collapsed"><span class="red-ui-debug-msg-row red-ui-debug-msg-expandable"><i class="fa fa-caret-right red-ui-debug-msg-object-handle"></i><span class="red-ui-debug-msg-tools"><span class="red-ui-debug-msg-tools-copy button-group"><button class="red-ui-button red-ui-button-small"><i class="fa fa-terminal"></i></button><button class="red-ui-button red-ui-button-small"><i class="fa fa-clipboard"></i></button></span></span><span class="red-ui-debug-msg-object-value"><span class="red-ui-debug-msg-object-header"><span>{ </span><span class="red-ui-debug-msg-object-key">output</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">user_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span>, </span><span class="red-ui-debug-msg-object-key">context</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-meta">object</span><span>, </span><span class="red-ui-debug-msg-object-key">session_id</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-string">"aad35439-e39a-469a-9434-516b39"</span><span>, </span><span class="red-ui-debug-msg-object-key">chatId</span><span>: </span><span class="red-ui-debug-msg-object-value red-ui-debug-msg-type-number">6936322004</span><span> </span><span> }</span></span></span></span></span></span></div></div><div class="red-ui-debug-content  red-ui-debug-content-table hide"></div></div></div></div><div id="red-ui-sidebar-footer" class="red-ui-component-footer"><div style="display: none;"><a class="red-ui-footer-button" id="red-ui-sidebar-config-collapse-all" href="http://127.0.0.1:1880/#"><i class="fa fa-angle-double-up"></i></a> <a class="red-ui-footer-button" id="red-ui-sidebar-config-expand-all" href="http://127.0.0.1:1880/#"><i class="fa fa-angle-double-down"></i></a></div><div style="display: none;"></div><div style=""><span class="button-group"><a id="red-ui-sidebar-debug-open" class="red-ui-footer-button" href="http://127.0.0.1:1880/#"><i class="fa fa-desktop"></i></a></span> </div></div><div id="red-ui-sidebar-shade" class="hide" style="display: none;"></div></div><div id="red-ui-sidebar-separator" class="ui-draggable ui-draggable-handle"><div class="red-ui-sidebar-control-right" style="display: none;"><i class="fa fa-chevron-right" <="" div=""></i></div></div><div id="red-ui-loading-progress" style="display: none;"><div><div class="red-ui-loading-bar-label"></div><div class="red-ui-loading-bar"><span style="width: 0%;"></span></div></div></div><div id="red-ui-type-search" class="red-ui-search red-ui-type-search" style="left: 330px; top: 276px; display: none;"><div class="red-ui-search-container"><div class="red-ui-searchBox-container"><i class="fa fa-search"></i><form class="red-ui-searchBox-form"><input type="text" id="red-ui-type-search-input" placeholder="adicionar um n..." class="red-ui-searchBox-input"></form><a class="red-ui-searchBox-clear" href="http://127.0.0.1:1880/#" style="display: none;"><i class="fa fa-times"></i></a><span class="red-ui-searchBox-resultCount hide"></span></div></div><div class="red-ui-search-results-container" style="display: none;"><div class="red-ui-editableList" style="inset: 0px; position: absolute;"><div class="red-ui-editableList-border red-ui-editableList-container" style="inset: 0px; position: absolute; max-height: none; overflow-y: auto;"><ol style="position: static; inset: auto; height: auto;" class="red-ui-editableList-list"><li class="selected"><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(135, 169, 128);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/debug.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">debug</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(253, 208, 162);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/function.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">function</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/swap.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">change</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/switch.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">switch</div></div></div></div></li><li><div class="red-ui-editableList-item-content red-ui-search-result-separator"><div class="red-ui-search-result"><div class="red-ui-search-result-node red-ui-palette-icon-junction"><div class="red-ui-palette-icon-container"><i class="red-ui-palette-icon-fa fa fa-fw fa-circle-o"></i></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">junction</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">assistant (watson-conversation-v1)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">assistant V2 (watson-assistant-v2)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 180);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/conversation-v1-25x25.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">assistant workspace manager (watson-conversation-v1-workspace-manager)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/batch.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">batch</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/swap.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">change</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(59, 171, 221);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">control (telegram control)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(222, 189, 92);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-csv.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">csv</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(135, 169, 128);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/debug.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">debug</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(230, 224, 248);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/timer.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">delay</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(230, 140, 80);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">discovery (watson-discovery-v1)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(230, 140, 10);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">discovery document loader (watson-discovery-v1-document-loader)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(200, 140, 80);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">discovery query builder (watson-discovery-v1-query-builder)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(200, 100, 80);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/discovery.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">discovery V2 (watson-discovery-v2-project-manager)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">document translator (watson-doc-translator)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: burlywood;"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/file-out.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">escrever arquivo (file)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: darksalmon;"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/cog.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">exec</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/rbe.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">filter (rbe)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(253, 208, 162);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/function.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">function</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(222, 189, 92);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-html.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">html</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(231, 231, 174);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">http request</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(231, 231, 174);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">http response</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/join.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">join</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(222, 189, 92);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-json.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">json</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node red-ui-palette-icon-junction"><div class="red-ui-palette-icon-container"><i class="red-ui-palette-icon-fa fa fa-fw fa-circle-o"></i></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">junction</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">language identify (watson-language-translator-identify)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/LanguageTranslator25x25.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">language translator (watson-translator)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/arrow-in.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">language translator util (watson-translator-util)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: burlywood;"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/file-in.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">ler arquivo (file in)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(221, 221, 221);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-call.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">link call</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(221, 221, 221);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/link-out.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">link out</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(216, 191, 216);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">mqtt out</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(140, 198, 63);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NLClassifier.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">natural language classifier (watson-natural-language-classifier)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(0, 162, 255);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NaturalLanguageUnderstanding.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">Natural Language Understanding (natural-language-understanding)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(96, 162, 255);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/NaturalLanguageUnderstanding.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">natural language understanding V1 model manager (natural-language-understanding-model-manager-v1)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/range.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">range</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(59, 171, 221);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">reply (telegram reply)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(59, 171, 221);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-contrib-telegrambot/telegram.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">sender (telegram sender)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/sort.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">sort</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(140, 198, 63);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/speech_to_text.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">speech to text (watson-speech-to-text)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(100, 120, 50);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/speech_to_text.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">speech to text custom builder (watson-speech-to-text-v1-query-builder)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/split.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">split</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(226, 217, 110);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/switch.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">switch</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">tcp out</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">tcp request</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(243, 181, 103);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/template.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">template</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(140, 198, 63);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/text_to_speech.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">text to speech (watson-text-to-speech)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(100, 120, 50);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/text_to_speech.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">text to speech custom builder (watson-text-to-speech-v1-query-builder)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(84, 149, 230);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red-node-watson/tone_analyzer.png&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">tone analyzer v3 (watson-tone-analyzer-v3)</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(230, 224, 248);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/trigger.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">trigger</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(192, 192, 192);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/bridge-dash.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">udp out</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(215, 215, 160);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/white-globe.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">websocket out</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(222, 189, 92);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-xml.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">xml</div></div></div></div></li><li><div class="red-ui-editableList-item-content"><div class="red-ui-search-result"><div class="red-ui-search-result-node" style="background-color: rgb(222, 189, 92);"><div class="red-ui-palette-icon-container"><div class="red-ui-palette-icon" style="background-image: url(&quot;icons/node-red/parser-yaml.svg&quot;);"></div></div><div class="red-ui-search-result-node-port"></div><div class="red-ui-search-result-node-port red-ui-search-result-node-output"></div></div><div class="red-ui-search-result-description"><div class="red-ui-search-result-node-label">yaml</div></div></div></div></li></ol></div></div></div></div></div><div id="red-ui-editor-plugin-configs"><div></div></div><div id="red-ui-editor-node-configs"><script type="text/x-red" data-template-name="_eventLog"><div class="form-row node-text-editor-row"><div style="height: 100%;min-height: 150px;" class="node-text-editor" id="red-ui-event-log-editor"></div></div></script><script type="text/x-red" data-template-name="subflow"><div class="form-row"><label for="node-input-name" data-i18n="[append]editor:common.label.name"><i class="fa fa-tag"></i> </label><input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></div><div id="subflow-input-ui"></div></script><script type="text/x-red" data-template-name="subflow-template"><div class="form-row"><label for="subflow-input-name" data-i18n="[append]common.label.name"><i class="fa fa-tag"></i>  </label><input type="text" id="subflow-input-name" data-i18n="[placeholder]common.label.name"></div><div class="form-row"><ul style="margin-bottom: 20px;" id="subflow-env-tabs"></ul></div><div id="subflow-env-tabs-content"><div id="subflow-env-tab-edit"><div class="form-row node-input-env-container-row" id="subflow-input-edit-ui"><ol id="node-input-env-container"></ol><div class="node-input-env-locales-row"><i class="fa fa-language"></i> <select id="subflow-input-env-locale"></select></div></div></div><div id="subflow-env-tab-preview"><div id="subflow-input-ui"/></div></div></script><script type="text/x-red" data-template-name="group"><div class="form-row"><label for="node-input-name" data-i18n="[append]editor:common.label.name"><i class="fa fa-tag"></i> </label><input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></div><div class="form-row" id="node-input-row-style-stroke"><label data-i18n="editor:common.label.style"></label><label style="width: 70px;margin-right:10px" for="node-input-style-stroke" data-i18n="editor:common.label.line"></label></div><div class="form-row" style="padding-left: 100px;" id="node-input-row-style-fill"><label style="width: 70px;margin-right: 10px "  for="node-input-style-fill" data-i18n="editor:common.label.fill"></label></div><div class="form-row"><label for="node-input-style-label" data-i18n="editor:common.label.label"></label><input type="checkbox" id="node-input-style-label"/></div><div class="form-row" id="node-input-row-style-label-options"><div style="margin-left: 100px; display: inline-block"><div class="form-row"><span style="display: inline-block; min-width: 140px"  id="node-input-row-style-label-color"><label style="width: 70px;margin-right: 10px" for="node-input-style-fill" data-i18n="editor:common.label.color"></label></span></div><div class="form-row"><span style="display: inline-block; min-width: 140px;" id="node-input-row-style-label-position"><label style="width: 70px;margin-right: 10px " for="node-input-style-label-position" data-i18n="editor:common.label.position"></label></span></div></div></div></script><div><!-- --- [red-module:node-red/junction] --- -->
<!--
  05-junction.html
  This file exists so that the runtime loads the Junction node into the registry,
  but it is empty so it doesn't appear in the editor palette
-->

</div><div><!-- --- [red-module:node-red/inject] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="inject">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>

    <div class="form-row node-input-property-container-row">
        <ol id="node-input-property-container"></ol>
    </div>

    <div class="form-row" id="node-once">
        <label for="node-input-once">&nbsp;</label>
        <input type="checkbox" id="node-input-once" style="display:inline-block; width:15px; vertical-align:baseline;">
        <span data-i18n="inject.onstart"></span>&nbsp;
        <input type="text" id="node-input-onceDelay" placeholder="0.1" style="width:45px; height:28px;">&nbsp;
        <span data-i18n="inject.onceDelay"></span>
    </div>

    <div class="form-row">
        <label for=""><i class="fa fa-repeat"></i> <span data-i18n="inject.label.repeat"></span></label>
        <select id="inject-time-type-select">
            <option value="none" data-i18n="inject.none"></option>
            <option value="interval" data-i18n="inject.interval"></option>
            <option value="interval-time" data-i18n="inject.interval-time"></option>
            <option value="time" data-i18n="inject.time"></option>
        </select>
        <input type="hidden" id="node-input-repeat">
        <input type="hidden" id="node-input-crontab">
    </div>

    <div class="form-row inject-time-row hidden" id="inject-time-row-interval">
        <span data-i18n="inject.every"></span>
        <input id="inject-time-interval-count" class="inject-time-count" value="1"></input>
        <select style="width:100px" id="inject-time-interval-units">
            <option value="s" data-i18n="inject.seconds"></option>
            <option value="m" data-i18n="inject.minutes"></option>
            <option value="h" data-i18n="inject.hours"></option>
        </select><br/>
    </div>

    <div class="form-row inject-time-row hidden" id="inject-time-row-interval-time">
        <span data-i18n="inject.every"></span> <select style="width:90px; margin-left:20px;" id="inject-time-interval-time-units" class="inject-time-int-count" value="1">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="10">10</option>
            <option value="12">12</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="0">60</option>
        </select> <span data-i18n="inject.minutes"></span><br/>
        <span data-i18n="inject.between"></span> <select id="inject-time-interval-time-start" class="inject-time-times"></select>
        <span data-i18n="inject.and"></span> <select id="inject-time-interval-time-end" class="inject-time-times"></select><br/>
        <div id="inject-time-interval-time-days" class="inject-time-days" style="margin-top:5px">
            <div style="display:inline-block; vertical-align:top; margin-right:5px;" data-i18n="inject.on">on</div>
            <div style="display:inline-block;">
                <div>
                    <label><input type='checkbox' checked value='1'/> <span data-i18n="inject.days.0"></span></label>
                    <label><input type='checkbox' checked value='2'/> <span data-i18n="inject.days.1"></span></label>
                    <label><input type='checkbox' checked value='3'/> <span data-i18n="inject.days.2"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='4'/> <span data-i18n="inject.days.3"></span></label>
                    <label><input type='checkbox' checked value='5'/> <span data-i18n="inject.days.4"></span></label>
                    <label><input type='checkbox' checked value='6'/> <span data-i18n="inject.days.5"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='0'/> <span data-i18n="inject.days.6"></span></label>
                </div>
            </div>
        </div>
    </div>

    <div class="form-row inject-time-row hidden" id="inject-time-row-time">
        <span data-i18n="inject.at"></span> <input type="text" id="inject-time-time" value="12:00"></input><br/>
        <div id="inject-time-time-days" class="inject-time-days">
            <div style="display:inline-block; vertical-align:top; margin-right:5px;" data-i18n="inject.on"></div>
            <div style="display:inline-block;">
                <div>
                    <label><input type='checkbox' checked value='1'/> <span data-i18n="inject.days.0"></span></label>
                    <label><input type='checkbox' checked value='2'/> <span data-i18n="inject.days.1"></span></label>
                    <label><input type='checkbox' checked value='3'/> <span data-i18n="inject.days.2"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='4'/> <span data-i18n="inject.days.3"></span></label>
                    <label><input type='checkbox' checked value='5'/> <span data-i18n="inject.days.4"></span></label>
                    <label><input type='checkbox' checked value='6'/> <span data-i18n="inject.days.5"></span></label>
                </div>
                <div>
                    <label><input type='checkbox' checked value='0'/> <span data-i18n="inject.days.6"></span></label>
                </div>
            </div>
        </div>
    </div>

</script>
<style>
    .inject-time-row {
        padding-left: 110px;
    }
    .inject-time-row:not(#inject-time-row-interval) select {
        margin: 3px 0;
    }
    .inject-time-days label {
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        vertical-align: baseline;
        width: 100px;
    }
    .inject-time-days input {
        width: auto !important;
        vertical-align: baseline !important;
    }
    .inject-time-times {
        width: 90px !important;
    }
    #inject-time-time {
        width: 75px;
        margin-left: 8px;
        margin-bottom: 8px;
    }
    .inject-time-count {
        padding-left: 3px !important;
        width: 80px !important;
    }
</style>

<script type="text/javascript">
(function() {

    function resizeDialog(size) {
        size = size || { height: $(".red-ui-tray-content form").height() }
        var rows = $("#dialog-form>div:not(.node-input-property-container-row):visible");
        var height = size.height;
        for (var i=0; i<rows.length; i++) {
            height -= $(rows[i]).outerHeight(true);
        }
        var editorRow = $("#dialog-form>div.node-input-property-container-row");
        height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
        height += 16;
        $("#node-input-property-container").editableList('height',height);
    }
    /** Retrieve editableList items (refactored for re-use in the form inject button)*/
    function getProps(el, legacy) {
        var result = {
            props: []
        }
        el.each(function(i) {
            var prop = $(this);
            var p = {
                p:prop.find(".node-input-prop-property-name").typedInput('value')
            };
            if (p.p) {
                p.v = prop.find(".node-input-prop-property-value").typedInput('value');
                p.vt = prop.find(".node-input-prop-property-value").typedInput('type');
                if(legacy) {
                    if (p.p === "payload") { // save payload to old "legacy" property
                        result.payloadType = p.vt;
                        result.payload = p.v;
                        delete p.v;
                        delete p.vt;
                    } else if (p.p === "topic" && p.vt === "str") {
                        result.topic = p.v;
                        delete p.v;
                    }
                }
                result.props.push(p);
            }
        });
        return result;
    }
    /** Perform inject, optionally sending a custom msg (refactored for re-use in the form inject button)*/
    function doInject(node, customMsg) {
        var label = node._def.label.call(node,customMsg?customMsg.__user_inject_props__:undefined);
        if (label.length > 30) {
            label = label.substring(0, 50) + "...";
        }
        label = label.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
        $.ajax({
            url: "inject/" + node.id,
            type: "POST",
            data: JSON.stringify(customMsg||{}),
            contentType: "application/json; charset=utf-8",
            success: function (resp) {
                RED.notify(node._("inject.success", { label: label }), { type: "success", id: "inject", timeout: 2000 });
            },
            error: function (jqXHR, textStatus, errorThrown) {
                if (jqXHR.status == 404) {
                    RED.notify(node._("common.notification.error", { message: node._("common.notification.errors.not-deployed") }), "error");
                } else if (jqXHR.status == 500) {
                    RED.notify(node._("common.notification.error", { message: node._("inject.errors.failed") }), "error");
                } else if (jqXHR.status == 0) {
                    RED.notify(node._("common.notification.error", { message: node._("common.notification.errors.no-response") }), "error");
                } else {
                    RED.notify(node._("common.notification.error", { message: node._("common.notification.errors.unexpected", { status: jqXHR.status, message: textStatus }) }), "error");
                }
            }
        });
    }
    RED.nodes.registerType('inject',{
        category: 'common',
        color:"#a6bbcf",
        defaults: {
            name: {value:""},
            props:{value:[{p:"payload"},{p:"topic",vt:"str"}], validate:function(v, opt) {
                    if (!v || v.length === 0) { return true }
                    for (var i=0;i<v.length;i++) {
                        if (/msg|flow|global/.test(v[i].vt)) {
                            if (!RED.utils.validatePropertyExpression(v[i].v)) {
                                return RED._("node-red:inject.errors.invalid-prop", { prop: 'msg.'+v[i].p, error: v[i].v });
                            }
                        } else if (v[i].vt === "jsonata") {
                            try{ jsonata(v[i].v); }
                            catch(e){
                                return RED._("node-red:inject.errors.invalid-jsonata", { prop: 'msg.'+v[i].p, error: e.message });
                            }
                        } else if (v[i].vt === "json") {
                            try{ JSON.parse(v[i].v); }
                            catch(e){
                                return RED._("node-red:inject.errors.invalid-json", { prop: 'msg.'+v[i].p, error: e.message });
                            }
                        } else if (v[i].vt === "num"){
                            if (!/^[+-]?[0-9]*\.?[0-9]*([eE][-+]?[0-9]+)?$/.test(v[i].v)) {
                                return RED._("node-red:inject.errors.invalid-prop", { prop: 'msg.'+v[i].p, error: v[i].v });
                            }
                        }
                    }
                    return true;
                }
            },
            repeat: {
                value:"", validate: function(v, opt) {
                    if ((v === "") ||
                        (RED.validators.number(v) &&
                         (v >= 0) && (v <= 2147483))) {
                        return true;
                    }
                    return RED._("node-red:inject.errors.invalid-repeat");
                }
            },
            crontab: {value:""},
            once: {value:false},
            onceDelay: {value:0.1},
            topic: {value:""},
            payload: {value:"", validate: RED.validators.typedInput("payloadType", false) },
            payloadType: {value:"date"},
        },
        icon: "inject.svg",
        inputs:0,
        outputs:1,
        outputLabels: function(index) {
            var lab = '';

            // if only payload and topic - display payload type
            // if only one property - show it's type
            // if more than one property (other than payload and topic) - show "x properties" where x is the number of properties.
            // this.props will not be an array for legacy inject nodes until they are re-deployed
            //
            var props = this.props;
            if (!Array.isArray(props)) {
                props = [
                    { p:"payload", v: this.payload, vt: this.payloadType },
                    { p:"topic", v: this.topic, vt: "str" }
                ]
            }
            if (props) {
                for (var i=0,l=props.length; i<l; i++) {
                    if (i > 0) lab += "\n";
                    if (i === 5) {
                        lab += "... +"+(props.length-5);
                        break;
                    }
                    lab += props[i].p+": ";

                    var propType = props[i].p === "payload"? this.payloadType : props[i].vt;
                    if (propType === "json") {
                        try {
                            var parsedProp = JSON.parse(props[i].p === "payload"? this.payload : props[i].v);
                            propType = typeof parsedProp;
                            if (propType === "object" && Array.isArray(parsedProp)) {
                                propType = "Array";
                            }
                        } catch(e) {
                            propType = "invalid";
                        }
                    }
                    lab += this._("inject.label."+propType);
                }
            }
            return lab;
        },
        label: function(customProps) {
            var suffix = "";
            // if fire once then add small indication
            if (this.once) {
                suffix = " ";
            }
            // but replace with repeat one if set to repeat
            if ((this.repeat && this.repeat != 0) || this.crontab) {
                suffix = " ";
            }
            if (this.name) {
                return this.name+suffix;
            }
            var payload = "";
            var payloadType = "str";
            var topic = "";
            if (customProps) {
                for (var i=0;i<customProps.length;i++) {
                    if (customProps[i].p === "payload") {
                        payload = customProps[i].v;
                        payloadType = customProps[i].vt;
                    } else if (customProps[i].p === "topic") {
                        topic = customProps[i].v;
                    }
                }
            } else {
                payload = this.payload || "";
                payloadType = this.payloadType || "str";
                topic = this.topic || "";
            }
            if (payloadType === "string" ||
                    payloadType === "str" ||
                    payloadType === "num" ||
                    payloadType === "bool" ||
                    payloadType === "json") {
                if ((topic !== "") && ((topic.length + payload.length) <= 32)) {
                    return topic + ":" + payload+suffix;
                } else if (payload.length > 0 && payload.length < 24) {
                    return payload+suffix;
                } else {
                    return this._("inject.inject")+suffix;
                }
            } else if (payloadType === 'date' || payloadType === 'bin' || payloadType === 'env') {
                if ((topic !== "") && (topic.length <= 16)) {
                    return topic + ":" + this._('inject.label.'+payloadType)+suffix;
                } else {
                    return this._('inject.label.'+payloadType)+suffix;
                }
            } else if (payloadType === 'flow' || payloadType === 'global') {
                var key = RED.utils.parseContextKey(payload);
                return payloadType+"."+key.key+suffix;
            } else {
                return this._("inject.inject")+suffix;
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            var payloadType = node.payloadType;

            if (node.payloadType == null) {
                if (node.payload == "") {
                    payloadType = "date";
                } else {
                    payloadType = "str";
                }
            } else if (node.payloadType === 'string' || node.payloadType === 'none') {
                payloadType = "str";
            }

            $("#inject-time-type-select").on("change", function() {
                $("#node-input-crontab").val('');
                var id = $("#inject-time-type-select").val();
                $(".inject-time-row").hide();
                $("#inject-time-row-"+id).show();

                // Scroll down
                var scrollDiv = $("#dialog-form").parent();
                scrollDiv.scrollTop(scrollDiv.prop('scrollHeight'));
                resizeDialog();
            });

            $("#node-input-once").on("change", function() {
                $("#node-input-onceDelay").attr('disabled', !$("#node-input-once").prop('checked'));
            })

            $(".inject-time-times").each(function() {
                for (var i=0; i<24; i++) {
                    var l = (i<10?"0":"")+i+":00";
                    $(this).append($("<option></option>").val(i).text(l));
                }
            });
            $("<option></option>").val(24).text("00:00").appendTo("#inject-time-interval-time-end");
            $("#inject-time-interval-time-start").on("change", function() {
                var start = Number($("#inject-time-interval-time-start").val());
                var end = Number($("#inject-time-interval-time-end").val());
                $("#inject-time-interval-time-end option").remove();
                for (var i=start+1; i<25; i++) {
                    var l = (i<10?"0":"")+i+":00";
                    if (i==24) {
                        l = "00:00";
                    }
                    var opt = $("<option></option>").val(i).text(l).appendTo("#inject-time-interval-time-end");
                    if (i === end) {
                        opt.attr("selected","selected");
                    }
                }
            });

            $(".inject-time-count").spinner({
                //max:60,
                min:1
            });

            var repeattype = "none";
            if (node.repeat != "" && node.repeat != 0) {
                repeattype = "interval";
                var r = "s";
                var c = node.repeat;
                if (node.repeat % 60 === 0) { r = "m"; c = c/60; }
                if (node.repeat % 1440 === 0) { r = "h"; c = c/60; }
                $("#inject-time-interval-count").val(c);
                $("#inject-time-interval-units").val(r);
                $("#inject-time-interval-days").prop("disabled","disabled");
            } else if (node.crontab) {
                var cronparts = node.crontab.split(" ");
                var days = cronparts[4];
                if (!isNaN(cronparts[0]) && !isNaN(cronparts[1])) {
                    repeattype = "time";
                    // Fixed time
                    var time = cronparts[1]+":"+cronparts[0];
                    $("#inject-time-time").val(time);
                    $("#inject-time-type-select").val("s");
                    if (days == "*") {
                        $("#inject-time-time-days input[type=checkbox]").prop("checked",true);
                    } else {
                        $("#inject-time-time-days input[type=checkbox]").removeAttr("checked");
                        days.split(",").forEach(function(v) {
                            $("#inject-time-time-days [value=" + v + "]").prop("checked", true);
                        });
                    }
                } else {
                    repeattype = "interval-time";
                    // interval - time period
                    var minutes = cronparts[0].slice(2);
                    if (minutes === "") { minutes = "0"; }
                    $("#inject-time-interval-time-units").val(minutes);
                    if (days == "*") {
                        $("#inject-time-interval-time-days input[type=checkbox]").prop("checked",true);
                    } else {
                        $("#inject-time-interval-time-days input[type=checkbox]").removeAttr("checked");
                        days.split(",").forEach(function(v) {
                            $("#inject-time-interval-time-days [value=" + v + "]").prop("checked", true);
                        });
                    }
                    var time = cronparts[1];
                    var timeparts = time.split(",");
                    var start;
                    var end;
                    if (timeparts.length == 1) {
                        // 0 or 0-10
                        var hours = timeparts[0].split("-");
                        if (hours.length == 1) {
                            if (hours[0] === "") {
                                start = "0";
                                end = "0";
                            }
                            else {
                                start = hours[0];
                                end = Number(hours[0])+1;
                            }
                        } else {
                            start = hours[0];
                            end = Number(hours[1])+1;
                        }
                    } else {
                        // 23,0 or 17-23,0-10 or 23,0-2 or 17-23,0
                        var startparts = timeparts[0].split("-");
                        start = startparts[0];

                        var endparts = timeparts[1].split("-");
                        if (endparts.length == 1) {
                            end = Number(endparts[0])+1;
                        } else {
                            end = Number(endparts[1])+1;
                        }
                    }
                    $("#inject-time-interval-time-end").val(end);
                    $("#inject-time-interval-time-start").val(start);

                }
            } else {
                $("#inject-time-type-select").val("none");
            }

            $(".inject-time-row").hide();
            $("#inject-time-type-select").val(repeattype);
            $("#inject-time-row-"+repeattype).show();

            /* */

            var eList = $('#node-input-property-container').css('min-height','120px').css('min-width','450px');

            eList.editableList({
                buttons: [
                    {
                        id: "node-inject-test-inject-button",
                        label: node._("inject.injectNow"),
                        click: function(e) {
                            var items = eList.editableList('items');
                            var props = getProps(items);
                            var m = {__user_inject_props__: props.props};
                            doInject(node, m);
                        }
                    }
                ],
                addItem: function(container,i,opt) {
                    var prop = opt;
                    if (!prop.hasOwnProperty('p')) {
                        prop = {p:"",v:"",vt:"str"};
                    }
                    container.css({
                        overflow: 'hidden',
                        whiteSpace: 'nowrap'
                    });
                    var row = $('<div/>').appendTo(container);

                    var propertyName = $('<input/>',{class:"node-input-prop-property-name",type:"text"})
                        .css("width","30%")
                        .appendTo(row)
                        .typedInput({types:['msg']});

                    $('<div/>',{style: 'display:inline-block; padding:0px 6px;'})
                        .text('=')
                        .appendTo(row);

                    var propertyValue = $('<input/>',{class:"node-input-prop-property-value",type:"text"})
                        .css("width","calc(70% - 30px)")
                        .appendTo(row)
                        .typedInput({default:prop.vt || 'str',types:['flow','global','str','num','bool','json','bin','date','jsonata','env','msg']});

                    propertyName.typedInput('value',prop.p);
                    propertyValue.typedInput('value',prop.v);
                },
                removable: true,
                sortable: true
            });
            $('#node-inject-test-inject-button').css("float", "right").css("margin-right", "unset");

            if (RED.nodes.subflow(node.z)) {
                $('#node-inject-test-inject-button').attr("disabled",true);
            }

            if (!node.props) {
                var payload = {
                    p:'payload',
                    v: node.payload ? node.payload : '',
                    vt:payloadType ? payloadType : 'date'
                };
                var topic = {
                    p:'topic',
                    v: node.topic ? node.topic : '',
                    vt:'str'
                }
                node.props = [payload,topic];
            }

            for (var i=0; i<node.props.length; i++) {
                var prop = node.props[i];
                var newProp = { p: prop.p, v: prop.v, vt: prop.vt };
                if (newProp.v === undefined) {
                    if (prop.p === 'payload') {
                        newProp.v = node.payload ? node.payload : '';
                        newProp.vt = payloadType ? payloadType : 'date';
                    } else if (prop.p === 'topic' && prop.vt === "str") {
                        newProp.v =  node.topic ? node.topic : '';
                    }
                }
                if (newProp.vt === "string") {
                    // Fix bug in pre 2.1 where an old Inject node might have
                    // a migrated rule with type 'string' not 'str'
                    newProp.vt = "str";
                }
                eList.editableList('addItem',newProp);
            }

            $("#inject-time-type-select").trigger("change");
            $("#inject-time-interval-time-start").trigger("change");

        },
        oneditsave: function() {
            var repeat = "";
            var crontab = "";
            var type = $("#inject-time-type-select").val();
            if (type == "none") {
                // nothing
            } else if (type == "interval") {
                var count = $("#inject-time-interval-count").val();
                var units = $("#inject-time-interval-units").val();
                if (units == "s") {
                    repeat = count;
                } else {
                    if (units == "m") {
                        //crontab = "*/"+count+" * * * "+days;
                        repeat = count * 60;
                    } else if (units == "h") {
                        //crontab = "0 */"+count+" * * "+days;
                        repeat = count * 60 * 60;
                    }
                }
            } else if (type == "interval-time") {
                repeat = "";
                var count = $("#inject-time-interval-time-units").val();
                var startTime = Number($("#inject-time-interval-time-start").val());
                var endTime = Number($("#inject-time-interval-time-end").val());
                var days = $('#inject-time-interval-time-days input[type=checkbox]:checked').map(function(_, el) {
                    return $(el).val()
                }).get();
                if (days.length == 0) {
                    crontab = "";
                } else {
                    if (days.length == 7) {
                        days="*";
                    } else {
                        days = days.join(",");
                    }
                    var timerange = "";
                    if (endTime == 0) {
                        timerange = startTime+"-23";
                    } else if (startTime+1 < endTime) {
                        timerange = startTime+"-"+(endTime-1);
                    } else if (startTime+1 == endTime) {
                        timerange = startTime;
                    } else {
                        var startpart = "";
                        var endpart = "";
                        if (startTime == 23) {
                            startpart = "23";
                        } else {
                            startpart = startTime+"-23";
                        }
                        if (endTime == 1) {
                            endpart = "0";
                        } else {
                            endpart = "0-"+(endTime-1);
                        }
                        timerange = startpart+","+endpart;
                    }
                    if (count === "0") {
                        crontab = count+" "+timerange+" * * "+days;
                    } else {
                        crontab = "*/"+count+" "+timerange+" * * "+days;
                    }
                }
            } else if (type == "time") {
                var time = $("#inject-time-time").val();
                var days = $('#inject-time-time-days  input[type=checkbox]:checked').map(function(_, el) {
                    return $(el).val()
                }).get();
                if (days.length == 0) {
                    crontab = "";
                } else {
                    if (days.length == 7) {
                        days="*";
                    } else {
                        days = days.join(",");
                    }
                    var parts = time.split(":");
                    if (parts.length === 2) {
                        repeat = "";
                        parts[1] = ("00" + (parseInt(parts[1]) % 60)).substr(-2);
                        parts[0] = ("00" + (parseInt(parts[0]) % 24)).substr(-2);
                        crontab = parts[1]+" "+parts[0]+" * * "+days;
                    }
                    else { crontab = ""; }
                }
            }

            $("#node-input-repeat").val(repeat);
            $("#node-input-crontab").val(crontab);

            /* Gather the properties */
            var items = $("#node-input-property-container").editableList('items');
            delete this.payloadType;
            delete this.payload;
            this.topic = "";
            var result = getProps(items, true);
            this.props = result.props;
            if(result.hasOwnProperty('payloadType')) { this.payloadType = result.payloadType; };
            if(result.hasOwnProperty('payload')) { this.payload = result.payload; };
            if(result.hasOwnProperty('topic')) { this.topic = result.topic; };
        },
        button: {
            enabled: function() {
                return !this.changed
            },
            onclick: function () {
                if (this.changed) {
                    return RED.notify(RED._("notification.warning", { message: RED._("notification.warnings.undeployedChanges") }), "warning");
                }
                doInject(this);
            }
        },
        oneditresize: resizeDialog
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="inject">
<p>Injeta uma mensagem em um fluxo manualmente ou em intervalos regulares. A carga til da mensagem
  pode ser de vrios tipos, incluindo cadeia de caracteres, objetos JavaScript ou a hora atual.</p>
<h3>Sadas</h3>
<dl class="message-properties">
    <dt>carga til<span class="property-type">vrios</span></dt>
    <dd>A carga til configurada da mensagem.</dd>
    <dt class="optional">tpico <span class="property-type">cadeia de caracteres</span></dt>
    <dd>Uma propriedade opcional que pode ser configurada no n.</dd>
</dl>
<h3>Detalhes</h3>
<p>O n Inject pode iniciar um fluxo com um valor de carga til especfico.
A carga til padro  um carimbo de data/hora da hora atual em milissegundos desde 1 de janeiro de 1970.</p>
<p>O n tambm oferece suporte  injeo de cadeia de caracteres, nmeros, boolianos, objetos JavaScript ou valores de contexto de fluxo/global.</p>
<p>Por padro, o n  acionado manualmente clicando em seu boto no editor. Tambm pode ser configurado para
injetar em intervalos regulares ou de acordo com um cronograma.</p>
<p>tambm pode ser configurado para injetar uma unica vez cada vez que os fluxos forem iniciados.</p>
<p>O <i>Intervalo</i> mximo que pode ser especificado  de cerca de 596 horas / 24 dias. No entanto, se forem observados intervalos
maiores do que um dia, voc deve considerar o uso de um n organizador que possa lidar com quedas de energia e reinicializaes.</p>
<p><b>Nota</b>: As opes<i>"Intervalo entre os tempos"</i> e <i>"em um horrio especfico"</i> usam o sistema cron padro.
Isso significa que 20 minutos estaro na prxima hora, 20 minutos atrs e 40 minutos atrs - no em tempos de 20 minutos.
Se voc quiser cada 20 minutos a partir de agora - use a opo <i> "intervalo"</i>.</p>
<p><b>Nota</b>: para incluir uma nova linha em uma cadeia de caracteres, voc deve usar um n de Funo para criar a carga til.</p>
</script>

</div><script src="./Global.solution02_files/debug-utils.js.download"></script><div><!-- --- [red-module:node-red/debug] --- -->

<script type="text/html" data-template-name="debug">
    <div class="form-row">
        <label for="node-input-typed-complete"><i class="fa fa-list"></i> <span data-i18n="debug.output"></span></label>
        <input id="node-input-typed-complete" type="text" style="width: 70%">
        <input id="node-input-complete" type="hidden">
        <input id="node-input-targetType" type="hidden">
    </div>
    <div class="form-row">
        <label for="node-input-tosidebar"><i class="fa fa-random"></i> <span data-i18n="debug.to"></span></label>
        <label for="node-input-tosidebar" style="width:70%">
        <input type="checkbox" id="node-input-tosidebar" style="display:inline-block; width:22px; vertical-align:top;"><span data-i18n="debug.toSidebar"></span>
        </label>
    </div>
    <div class="form-row">
        <label for="node-input-console"> </label>
        <label for="node-input-console" style="width:70%">
        <input type="checkbox" id="node-input-console" style="display:inline-block; width:22px; vertical-align:top;"><span data-i18n="debug.toConsole"></span>
        </label>
    </div>
    <div class="form-row">
    <label for="node-input-tostatus"> </label>
    <label for="node-input-tostatus" style="width:70%">
        <input type="checkbox" id="node-input-tostatus" style="display:inline-block; width:22px; vertical-align:top;"><span data-i18n="debug.toStatus"></span>
    </label>
    </div>
    <div class="form-row" id="node-tostatus-line">
        <label for="node-input-typed-status"></label>
        <input id="node-input-typed-status" type="text" style="width: 70%">
        <input id="node-input-statusVal" type="hidden">
        <input id="node-input-statusType" type="hidden">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>



<script type="text/javascript">
(function() {
    var subWindow = null;

    function activateAjaxCall(node, active, successCallback) {
        var url;
        var body;

        if (Array.isArray(node)) {
            url = "debug/"+(active?"enable":"disable");
            body = {nodes: node.map(function(n) { return n.id})}
            node = node[0];
        } else {
            url = "debug/"+node.id+"/"+(active?"enable":"disable");
        }
        $.ajax({
            url: url,
            type: "POST",
            data: body,
            success: successCallback,
            error: function(jqXHR,textStatus,errorThrown) {
                if (jqXHR.status == 404) {
                    RED.notify(node._("common.notification.error", {message: node._("common.notification.errors.not-deployed")}),"error");
                } else if (jqXHR.status === 0) {
                    RED.notify(node._("common.notification.error", {message: node._("common.notification.errors.no-response")}),"error");
                } else {
                    // TODO where is the err.status comming from?
                    RED.notify(node._("common.notification.error",{message:node._("common.notification.errors.unexpected",{status:err.status,message:err.response})}),"error");
                }
            }
        });
    }

    RED.nodes.registerType('debug',{
        category: 'common',
        defaults: {
            name: {value:"_DEFAULT_"},
            active: {value:true},
            tosidebar: {value:true},
            console: {value:false},
            tostatus: {value:false},
            complete: {value:"false", required:true},
            targetType: {value:undefined},
            statusVal: {value:""},
            statusType: {value:"auto"}
        },
        label: function() {
            var suffix = "";
            if (this.console === true || this.console === "true") { suffix = " "; }
            if (this.targetType === "jsonata") {
                return (this.name || "JSONata") + suffix;
            }
            if (this.complete === true || this.complete === "true") {
                return (this.name||"msg") + suffix;
            } else {
                return (this.name || "msg." + ((!this.complete || this.complete === "false") ? "payload" : this.complete)) + suffix;
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        color:"#87a980",
        inputs:1,
        outputs:0,
        icon: "debug.svg",
        align: "right",
        button: {
            toggle: "active",
            visible: function() { return this.tosidebar; },
            onclick: function() {
                var label = RED.utils.sanitize(this.name||"debug");
                var node = this;
                activateAjaxCall(node, node.active, function(resp, textStatus, xhr) {
                    var historyEvent = {
                        t:'edit',
                        node:node,
                        changes:{
                            active:!node.active
                        },
                        dirty:node.dirty,
                        changed:node.changed,
                        callback: function(ev) {
                            activateAjaxCall(ev.node, ev.node.active);
                        }
                    };
                    node.changed = true;
                    node.dirty = true;
                    RED.nodes.dirty(true);
                    RED.history.push(historyEvent);
                    RED.view.redraw();
                    if (xhr.status == 200) {
                        RED.notify(node._("debug.notification.activated",{label:label}),{type: "success", timeout: 2000});
                    } else if (xhr.status == 201) {
                        RED.notify(node._("debug.notification.deactivated",{label:label}),{type: "success", timeout: 2000});
                    }
                });
            }
        },
        onpaletteadd: function() {
            var options = {
                messageMouseEnter: function(sourceId) {
                    if (sourceId) {
                        var n = RED.nodes.node(sourceId);
                        if (n) {
                            n.highlighted = true;
                            n.dirty = true;
                        }
                        RED.view.redraw();
                    }
                },
                messageMouseLeave: function(sourceId) {
                    if (sourceId) {
                        var n = RED.nodes.node(sourceId);
                        if (n) {
                            n.highlighted = false;
                            n.dirty = true;
                        }
                        RED.view.redraw();
                    }
                },
                messageSourceClick: function(sourceId, aliasId, path) {
                    // Get all of the nodes that could have logged this message
                    if (RED.nodes.workspace(sourceId)) {
                        RED.view.reveal(sourceId);
                        return
                    }
                    var candidateNodes = [RED.nodes.node(sourceId)]
                    if (path) {
                        for (var i=2;i<path.length;i++) {
                            candidateNodes.push(RED.nodes.node(path[i]))
                        }
                    }
                    if (aliasId) {
                        candidateNodes.push(RED.nodes.node(aliasId));
                    }
                    if (candidateNodes.length > 1) {
                        // The node is in a subflow. Check to see if the active
                        // workspace is a subflow in the node's parentage. If
                        // so, reveal the relevant subflow instance node.
                        var ws = RED.workspaces.active();
                        for (var i=0;i<candidateNodes.length;i++) {
                            if (candidateNodes[i].z === ws) {
                                RED.view.reveal(candidateNodes[i].id);
                                return
                            }
                        }
                        // The active workspace is unrelated to the node. So
                        // fall back to revealing the top most node
                    }
                    RED.view.reveal(candidateNodes[0].id);
                },
                clear: function() {
                    RED.nodes.eachNode(function(node) {
                        node.highlighted = false;
                        node.dirty = true;
                    });
                    RED.view.redraw();
                }
            };

            var uiComponents = RED.debug.init(options);

            RED.sidebar.addTab({
                id: "debug",
                label: this._("debug.sidebar.label"),
                name: this._("debug.sidebar.name"),
                content: uiComponents.content,
                toolbar: uiComponents.footer,
                enableOnEdit: true,
                pinned: true,
                iconClass: "fa fa-bug",
                action: "core:show-debug-tab"
            });
            RED.actions.add("core:show-debug-tab",function() { RED.sidebar.show('debug'); });

            var that = this;
            RED._debug = function(msg) {
                that.handleDebugMessage("", {
                    name:"debug",
                    msg:msg
                });
            };

            this.refreshMessageList = function() {
                RED.debug.refreshMessageList(RED.workspaces.active());
                if (subWindow) {
                    try {
                        subWindow.postMessage({event:"workspaceChange",activeWorkspace:RED.workspaces.active()},"*");
                    } catch(err) {
                        console.log(err);
                    }
                }
            };
            RED.events.on("workspace:change", this.refreshMessageList);

            this.handleDebugMessage = function(t,o) {
                // console.log("->",o.id,o.z,o._alias);
                //
                // sourceNode should be the top-level node - one that is on a flow.
                var sourceNode;
                var pathParts;
                var pathHierarchy;
                if (o.path) {
                    // Path is a `/`-separated list of ids that identifies the
                    // complete parentage of the node that generated this message.
                    //    flow-id/subflow-A-instance/subflow-B-instance

                    // If it has one id, that is a top level flow or config node/global
                    // each subsequent id is the instance id of a subflow node
                    //
                    pathParts = o.path.split("/");
                    if (pathParts.length === 1) {
                        // The source node is on a flow or is a global/config - so can use its id to find
                        sourceNode = RED.nodes.node(o.id);
                    } else if (pathParts.length > 1) {
                        // Highlight the subflow instance node.
                        sourceNode = RED.nodes.node(pathParts[1]);
                    }
                    const getNodeLabel = (n) => n.name || (typeof n.label === "function" && n.label())  || (typeof n.label === "string" && n.label) || (n.type + ":" + n.id);
                    pathHierarchy = pathParts.map((id,index) => {
                        if (index === 0) {
                            if (id === "global") {
                                return { id: sourceNode.id, label: getNodeLabel(sourceNode) }
                            } 
                            return { id: id, label: RED.nodes.workspace(id).label } //flow id + name
                        } else {
                            const instanceNode = RED.nodes.node(id)
                            const pathLabel = (instanceNode.name || RED.nodes.subflow(instanceNode.type.substring(8)).name)
                            return { id: id, label: pathLabel }
                        }
                    })
                    if (pathParts.length === 1 && pathParts[0] !== "global") {
                        pathHierarchy.push({ id: o.id, label: getNodeLabel(sourceNode) })
                    }
                    if (o._alias) {
                        let aliasNode = RED.nodes.node(o._alias)
                        if (aliasNode) {
                            pathHierarchy.push({ id: o._alias, label: getNodeLabel(aliasNode) })
                        }
                    }
                } else {
                    // This is probably redundant...
                    sourceNode = RED.nodes.node(o.id) || RED.nodes.node(o.z);
                }
                if (sourceNode) {
                    var sourceFlow = RED.nodes.workspace(sourceNode.z)
                    o._source = {
                        id:sourceNode.id,
                        z:sourceNode.z,
                        name:sourceNode.name,
                        type:sourceNode.type,
                        // _alias identifies the actual logging node. This is
                        // not necessarily the same as sourceNode, which will be
                        // the top-level subflow instance node.
                        // This means the node's name is displayed in the sidebar.
                        _alias:o._alias,
                        flowName: sourceFlow?(sourceFlow.label||sourceNode.z):sourceNode.z,
                        path: pathParts,
                        pathHierarchy: pathHierarchy
                    };
                }
                RED.debug.handleDebugMessage(o);
                if (subWindow) {
                    try {
                        subWindow.postMessage({event:"message",msg:o},"*");
                    } catch(err) {
                        console.log(err);
                    }
                }
            };
            RED.comms.subscribe("debug",this.handleDebugMessage);

            this.clearMessageList = function() {
                RED.debug.clearMessageList(true);
                if (subWindow) {
                    try {
                        subWindow.postMessage({event:"projectChange"},"*");
                    } catch(err) {
                        console.log(err);
                    }
                }
            };
            RED.events.on("project:change", this.clearMessageList);
            RED.actions.add("core:clear-debug-messages", function() { RED.debug.clearMessageList(true) });
            RED.actions.add("core:clear-filtered-debug-messages", function() { RED.debug.clearMessageList(true, true) });

            RED.actions.add("core:activate-selected-debug-nodes", function() { setDebugNodeState(getSelectedDebugNodes(true), true); });
            RED.actions.add("core:activate-all-debug-nodes", function() { setDebugNodeState(getMatchingDebugNodes(true, true),true); });
            RED.actions.add("core:activate-all-flow-debug-nodes", function() { setDebugNodeState(getMatchingDebugNodes(true, false),true); });

            RED.actions.add("core:deactivate-selected-debug-nodes", function() { setDebugNodeState(getSelectedDebugNodes(false), false); });
            RED.actions.add("core:deactivate-all-debug-nodes", function() { setDebugNodeState(getMatchingDebugNodes(false, true),false); });
            RED.actions.add("core:deactivate-all-flow-debug-nodes", function() { setDebugNodeState(getMatchingDebugNodes(false, false),false); });

            function getSelectedDebugNodes(state) {
                var nodes = [];
                var selection = RED.view.selection();
                if (selection.nodes) {
                    selection.nodes.forEach(function(n) {
                        if (RED.nodes.subflow(n.z)) {
                            return;
                        }
                        if (n.type === 'debug' && n.active !== state) {
                            nodes.push(n);
                        } else if (n.type === 'group') {
                            nodes = nodes.concat( RED.group.getNodes(n,true).filter(function(n) {
                                return n.type === 'debug' && n.active !== state
                            }));
                        }
                    });
                }
                return nodes;

            }
            function getMatchingDebugNodes(state,globally) {
                var nodes = [];
                var filter = {type:"debug"};
                if (!globally) {
                    filter.z = RED.workspaces.active();
                }
                var candidateNodes = RED.nodes.filterNodes(filter);
                nodes = candidateNodes.filter(function(n) {
                    return n.active !== state && !RED.nodes.subflow(n.z)
                })
                return nodes;
            }

            function setDebugNodeState(nodes,state) {
                var historyEvents = [];
                if (nodes.length > 0) {
                    activateAjaxCall(nodes,false, function(resp, textStatus, xhr) {
                        nodes.forEach(function(n) {
                            historyEvents.push({
                                t: "edit",
                                node: n,
                                changed: n.changed,
                                changes: {
                                    active: n.active
                                }
                            });
                            n.active = state;
                            n.changed = true;
                            n.dirty = true;
                        })
                        RED.history.push({
                            t: "multi",
                            events: historyEvents,
                            dirty: RED.nodes.dirty(),
                            callback: function() {
                                activateAjaxCall(nodes,nodes[0].active);
                            }
                        });
                        RED.nodes.dirty(true);
                        RED.view.redraw();
                    });
                }
            }

            $("#red-ui-sidebar-debug-open").on("click", function(e) {
                e.preventDefault();
                subWindow = window.open(document.location.toString().replace(/[?#].*$/,"")+"debug/view/view.html"+document.location.search,"nodeREDDebugView","menubar=no,location=no,toolbar=no,chrome,height=500,width=600");
                subWindow.onload = function() {
                    subWindow.postMessage({event:"workspaceChange",activeWorkspace:RED.workspaces.active()},"*");
                };
            });
            RED.popover.tooltip($("#red-ui-sidebar-debug-open"),RED._('node-red:debug.sidebar.openWindow'));



            $(window).on('beforeunload',function() {
                if (subWindow) {
                    try {
                        subWindow.close();
                    } catch(err) {
                        console.log(err);
                    }
                }
            });

            this.handleWindowMessage = function(evt) {
                var msg = evt.data;
                if (msg.event === "mouseEnter") {
                    options.messageMouseEnter(msg.id);
                } else if (msg.event === "mouseLeave") {
                    options.messageMouseLeave(msg.id);
                } else if (msg.event === "mouseClick") {
                    options.messageSourceClick(msg.id,msg._alias,msg.path);
                } else if (msg.event === "clear") {
                    options.clear();
                }
            };
            window.addEventListener('message',this.handleWindowMessage);
        },
        onpaletteremove: function() {
            RED.comms.unsubscribe("debug",this.handleDebugMessage);
            RED.sidebar.removeTab("debug");
            RED.events.off("workspace:change", this.refreshMessageList);
            window.removeEventListener("message",this.handleWindowMessage);
            RED.actions.remove("core:show-debug-tab");
            RED.actions.remove("core:clear-debug-messages");
            delete RED._debug;
        },
        oneditprepare: function() {
            var autoType = {
                value: "auto",
                label: RED._("node-red:debug.autostatus"),
                hasValue: false
            };

            var counter = {
                value: "counter",
                label: RED._("node-red:debug.messageCount"),
                hasValue: false
            };

            $("#node-input-typed-status").typedInput({
                default: "auto",
                types:[autoType, "msg", "jsonata", counter],
                typeField: $("#node-input-statusType")
            });
            var that = this;
            var none = {
                value: "none",
                label: RED._("node-red:debug.none"),
                hasValue: false
            };
            if (this.tosidebar === undefined) {
                this.tosidebar = true;
                $("#node-input-tosidebar").prop('checked', true);
            }
            if (this.statusVal === undefined) {
                this.statusVal = (this.complete === "false") ? "payload" : ((this.complete === "true") ? "payload" : this.complete+"");
                $("#node-input-typed-status").typedInput('value',this.statusVal || "");
            }
            if (this.statusType === undefined) {
                this.statusType = "auto";
                $("#node-input-typed-status").typedInput('type',this.statusType || "auto");
            }
            if (typeof this.console === "string") {
                this.console = (this.console == 'true');
                $("#node-input-console").prop('checked', this.console);
                $("#node-input-tosidebar").prop('checked', true);
            }
            var fullType = {
                value: "full",
                label: RED._("node-red:debug.msgobj"),
                hasValue: false
            };

            $("#node-input-typed-complete").typedInput({
                default: "msg",
                types:['msg', fullType, "jsonata"],
                typeField: $("#node-input-targetType")
            });
            if (this.targetType === "jsonata") {
                var property = this.complete || "";
                $("#node-input-typed-complete").typedInput('type','jsonata');
                $("#node-input-typed-complete").typedInput('value',property);
            } else if ((this.targetType === "full") || this.complete === "true" || this.complete === true) {
                // show complete message object
                $("#node-input-typed-complete").typedInput('type','full');
            } else {
                var property = (!this.complete||(this.complete === "false")) ? "payload" : this.complete+"";
                $("#node-input-typed-complete").typedInput('type','msg');
                $("#node-input-typed-complete").typedInput('value',property);
            }
            $("#node-input-typed-complete").on('change',function() {
                if ($("#node-input-typed-complete").typedInput('type') === 'msg' &&
                    $("#node-input-typed-complete").typedInput('value') === ''
                ) {
                    $("#node-input-typed-complete").typedInput('value','payload');
                }
            });

            $("#node-input-tostatus").on('change',function() {
                if ($(this).is(":checked")) {
                    if (that.statusType === "counter") {
                        that.statusVal = "";
                    }
                    else if (!that.hasOwnProperty("statusVal") || that.statusVal === "") {
                        var type = $("#node-input-typed-complete").typedInput('type');
                        var comp = "payload";
                        if (type !== 'full') {
                            comp = $("#node-input-typed-complete").typedInput('value');
                        }
                        that.statusType = "auto";
                        that.statusVal = comp;
                    }
                    $("#node-input-typed-status").typedInput('type',that.statusType);
                    $("#node-input-typed-status").typedInput('value',that.statusVal);
                    $("#node-tostatus-line").show();
                }
                else {
                    $("#node-tostatus-line").hide();
                    that.statusType = "auto";
                    that.statusVal = "";
                    $("#node-input-typed-status").typedInput('type',that.statusType);
                    $("#node-input-typed-status").typedInput('value',that.statusVal);
                }
            });
        },
        oneditsave: function() {
            var type = $("#node-input-typed-complete").typedInput('type');
            if (type === 'full') {
                $("#node-input-complete").val("true");
            } else {
                $("#node-input-complete").val($("#node-input-typed-complete").typedInput('value'));
            }
            $("#node-input-statusVal").val($("#node-input-typed-status").typedInput('value'));
        },
        onadd: function() {
            if (this.name === '_DEFAULT_') {
                this.name = ''
                RED.actions.invoke("core:generate-node-names", this, {generateHistory: false})
            }
        }
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="debug">
    <p>Exibe as propriedades da mensagem selecionada na guia de depurao da barra lateral e, opcionalmente, o log do tempo de execuo. Por padro, ele exibe <code> msg.payload </code>, mas pode ser configurado para exibir qualquer propriedade, a mensagem completa ou o resultado de uma expresso JSONata.</p>
    <h3>Detalhes</h3>
  <p>A barra lateral de depurao fornece uma viso estruturada das mensagens enviadas, facilitando o entendimento de sua estrutura.</p>
  <p>Objetos e matrizes JavaScript podem ser recolhidos e expandidos conforme necessrio. Objetos de aramazenamento temporrio podem ser exibidos como dados brutos ou como uma cadeia de caracteres, se possvel.</p>
  <p>Juntamente com cada mensagem, a barra lateral de depurao inclui informaes sobre a hora em que a mensagem foi recebida, o n que a enviou e o tipo da mensagem.
      Clicar no id do n de origem revelar esse n no espao de trabalho.</p>
  <p>O boto no n pode ser usado para habilitar ou desabilitar sua sada.  recomendado desativar ou remover quaisquer ns de depurao que no estejam sendo usados.</p>
  <p>O n tambm pode ser configurado para enviar todas as mensagens para o log de tempo de execuo ou para enviar mensagens curtas (32 caracteres) para o texto de estado sob o n de depurao.</p> 
</script>

</div><div><!-- --- [red-module:node-red/complete] --- -->
<script type="text/html" data-template-name="complete">
    <div class="form-row node-input-target-row">
        <button type="button" id="node-input-complete-target-select" class="red-ui-button" data-i18n="common.label.selectNodes"></button>
    </div>
    <div class="form-row node-input-target-row node-input-target-list-row" style="position: relative; min-height: 100px">
        <div style="position: absolute; top: -30px; right: 0;"><input type="text" id="node-input-complete-target-filter"></div>
        <div id="node-input-complete-target-container-div"></div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>
<script type="text/javascript">
    RED.nodes.registerType('complete',{
        category: 'common',
        color:"#c0edc0",
        defaults: {
            name: {value:""},
            scope: {
                value: [],
                type: "*[]",
                validate: function (v, opt) {
                    if (v.length > 0) {
                        return true;
                    }
                    return RED._("node-red:complete.errors.scopeUndefined");
                }
            },
            uncaught: {value:false}
        },
        inputs:0,
        outputs:1,
        icon: "alert.svg",
        label: function() {
            if (this.name) {
                return this.name;
            }
            return this._("complete.completeNodes",{number:this.scope.length});
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            var scope = node.scope || [];

            this._resize = function() {
                var rows = $("#dialog-form>div:not(.node-input-target-list-row)");
                var height = $("#dialog-form").height();
                for (var i=0;i<rows.length;i++) {
                    height -= $(rows[i]).outerHeight(true);
                }
                var editorRow = $("#dialog-form>div.node-input-target-list-row");
                editorRow.css("height",height+"px");
            };
            var search = $("#node-input-complete-target-filter").searchBox({
                style: "compact",
                delay: 300,
                change: function() {
                    var val = $(this).val().trim().toLowerCase();
                    if (val === "") {
                        dirList.treeList("filter", null);
                        search.searchBox("count","");
                    } else {
                        var count = dirList.treeList("filter", function(item) {
                            return item.label.toLowerCase().indexOf(val) > -1 || item.node.type.toLowerCase().indexOf(val) > -1
                        });
                        search.searchBox("count",count+" / "+candidateNodes.length);
                    }
                }
            });

            var dirList = $("#node-input-complete-target-container-div").css({width: "100%", height: "100%"})
                .treeList({multi:true}).on("treelistitemmouseover", function(e, item) {
                    item.node.highlighted = true;
                    item.node.dirty = true;
                    RED.view.redraw();
                }).on("treelistitemmouseout", function(e, item) {
                    item.node.highlighted = false;
                    item.node.dirty = true;
                    RED.view.redraw();
                })
            var candidateNodes = RED.nodes.filterNodes({z:node.z});
            var allChecked = true;
            var items = [];
            var nodeItemMap = {};

            candidateNodes.forEach(function(n) {
                if (n.id === node.id) {
                    return;
                }
                var isChecked = scope.indexOf(n.id) !== -1;

                allChecked = allChecked && isChecked;

                var nodeDef = RED.nodes.getType(n.type);
                var label;
                var sublabel;
                if (nodeDef) {
                    var l = nodeDef.label;
                    label = (typeof l === "function" ? l.call(n) : l)||"";
                    sublabel = n.type;
                    if (sublabel.indexOf("subflow:") === 0) {
                        var subflowId = sublabel.substring(8);
                        var subflow = RED.nodes.subflow(subflowId);
                        sublabel = "subflow : "+subflow.name;
                    }
                }
                if (!nodeDef || !label) {
                    label = n.type;
                }
                nodeItemMap[n.id] = {
                    node: n,
                    label: label,
                    sublabel: sublabel,
                    selected: isChecked,
                    checkbox: true
                };
                items.push(nodeItemMap[n.id]);
            });
            dirList.treeList('data',items);

            $("#node-input-complete-target-select").on("click", function(e) {
                e.preventDefault();
                var preselected = dirList.treeList('selected').map(function(n) {return n.node.id});
                RED.tray.hide();
                RED.view.selectNodes({
                    selected: preselected,
                    onselect: function(selection) {
                        RED.tray.show();
                        var newlySelected = {};
                        selection.forEach(function(n) {
                            newlySelected[n.id] = true;
                            if (nodeItemMap[n.id]) {
                                nodeItemMap[n.id].treeList.select(true);
                            }
                        })
                        preselected.forEach(function(id) {
                            if (!newlySelected[id]) {
                                nodeItemMap[id].treeList.select(false);
                            }
                        })
                    },
                    oncancel: function() {
                        RED.tray.show();
                    },
                    filter: function(n) {
                        return n.id !== node.id;
                    }
                });
            })

        },
        oneditsave: function() {
            this.scope = $("#node-input-complete-target-container-div").treeList('selected').map(function(i) { return i.node.id})
        },
        oneditresize: function(size) {
            this._resize();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="complete">
    <p>Aciona um fluxo quando outro n concluir o tratamento de uma mensagem.</p>
    <h3>Detalhes</h3>
    <p>Se um n informar o tempo de execuo quando terminar de lidar com uma mensagem,
        este n pode ser usado para acionar um segundo fluxo.</p>
    <p>Por exemplo, isso pode ser usado junto com um n sem porta de sada,
        como o n de envio de e-mail, para continuar o fluxo.</p>
    <p>Este n deve ser configurado para lidar com o evento para ns selecionados no
        fluxo. Ao contrrio do n de captura, ele no fornece um modo 'manipular todos' automaticamente
        que se aplica a todos os ns no fluxo.</p>
    <p>Nem todos os ns iro acionar este evento - vai depender se eles
        foram implementados para oferecer suporte a esse recurso, conforme introduzido no Node-RED 1.0.</p>
</script>

</div><div><!-- --- [red-module:node-red/catch] --- -->

<script type="text/html" data-template-name="catch">
    <div class="form-row">
        <label style="width: auto" for="node-input-scope" data-i18n="catch.label.source"></label>
        <select id="node-input-scope-select">
            <option value="all" data-i18n="catch.scope.all"></option>
            <option value="group" data-i18n="catch.scope.group"></option>
            <option value="target" data-i18n="catch.scope.selected"></option>
        </select>
    </div>
    <div class="form-row node-input-uncaught-row">
        <input type="checkbox" id="node-input-uncaught" style="display: inline-block; width: auto; vertical-align: top; margin-left: 30px; margin-right: 5px;">
        <label for="node-input-uncaught" style="width: auto" data-i18n="catch.label.uncaught"></label>
    </div>
    <div class="form-row node-input-target-row">
        <button type="button" id="node-input-catch-target-select" class="red-ui-button" data-i18n="common.label.selectNodes"></button>
    </div>
    <div class="form-row node-input-target-row node-input-target-list-row" style="position: relative; min-height: 100px">
        <div style="position: absolute; top: -30px; right: 0;"><input type="text" id="node-input-catch-target-filter"></div>
        <div id="node-input-catch-target-container-div"></div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>
<script type="text/javascript">
    RED.nodes.registerType('catch',{
        category: 'common',
        color:"#e49191",
        defaults: {
            name: {value:""},
            scope: {value:null, type:"*[]"},
            uncaught: {value:false}
        },
        inputs:0,
        outputs:1,
        icon: "alert.svg",
        label: function() {
            if (this.name) {
                return this.name;
            }
            if (this.scope === "group") {
                return this._("catch.catchGroup");
            } else if (Array.isArray(this.scope)) {
                return this._("catch.catchNodes",{number:this.scope.length});
            }
            return this.uncaught?this._("catch.catchUncaught"):this._("catch.catch")
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            var scope = node.scope || [];

            this._resize = function() {
                var rows = $("#dialog-form>div:not(.node-input-target-list-row)");
                var height = $("#dialog-form").height();
                for (var i=0;i<rows.length;i++) {
                    height -= $(rows[i]).outerHeight(true);
                }
                var editorRow = $("#dialog-form>div.node-input-target-list-row");
                editorRow.css("height",height+"px");
            };
            var search = $("#node-input-catch-target-filter").searchBox({
                style: "compact",
                delay: 300,
                change: function() {
                    var val = $(this).val().trim().toLowerCase();
                    if (val === "") {
                        dirList.treeList("filter", null);
                        search.searchBox("count","");
                    } else {
                        var count = dirList.treeList("filter", function(item) {
                            return item.label.toLowerCase().indexOf(val) > -1 || item.node.type.toLowerCase().indexOf(val) > -1
                        });
                        search.searchBox("count",count+" / "+candidateNodes.length);
                    }
                }
            });
            var dirList = $("#node-input-catch-target-container-div").css({width: "100%", height: "100%"})
                .treeList({multi:true}).on("treelistitemmouseover", function(e, item) {
                    item.node.highlighted = true;
                    item.node.dirty = true;
                    RED.view.redraw();
                }).on("treelistitemmouseout", function(e, item) {
                    item.node.highlighted = false;
                    item.node.dirty = true;
                    RED.view.redraw();
                })
            var candidateNodes = RED.nodes.filterNodes({z:node.z});
            var allChecked = true;
            var items = [];
            var nodeItemMap = {};

            candidateNodes.forEach(function(n) {
                if (n.id === node.id) {
                    return;
                }
                var isChecked = scope.indexOf(n.id) !== -1;

                allChecked = allChecked && isChecked;

                var nodeDef = RED.nodes.getType(n.type);
                var label;
                var sublabel;
                if (nodeDef) {
                    var l = nodeDef.label;
                    label = (typeof l === "function" ? l.call(n) : l)||"";
                    sublabel = n.type;
                    if (sublabel.indexOf("subflow:") === 0) {
                        var subflowId = sublabel.substring(8);
                        var subflow = RED.nodes.subflow(subflowId);
                        sublabel = "subflow : "+subflow.name;
                    }
                }
                if (!nodeDef || !label) {
                    label = n.type;
                }
                nodeItemMap[n.id] = {
                    node: n,
                    label: label,
                    sublabel: sublabel,
                    selected: isChecked,
                    checkbox: true
                };
                items.push(nodeItemMap[n.id]);
            });
            dirList.treeList('data',items);

            $("#node-input-catch-target-select").on("click", function(e) {
                e.preventDefault();
                var preselected = dirList.treeList('selected').map(function(n) {return n.node.id});
                RED.tray.hide();
                RED.view.selectNodes({
                    selected: preselected,
                    onselect: function(selection) {
                        RED.tray.show();
                        var newlySelected = {};
                        selection.forEach(function(n) {
                            newlySelected[n.id] = true;
                            if (nodeItemMap[n.id]) {
                                nodeItemMap[n.id].treeList.select(true);
                            }
                        })
                        preselected.forEach(function(id) {
                            if (!newlySelected[id]) {
                                nodeItemMap[id].treeList.select(false);
                            }
                        })
                    },
                    oncancel: function() {
                        RED.tray.show();
                    },
                    filter: function(n) {
                        return n.id !== node.id;
                    }
                });
            })

            $("#node-input-scope-select").on("change", function(e) {
                var scope = $(this).val();
                if (scope === "target") {
                    $(".node-input-target-row").show();
                    $(".node-input-uncaught-row").hide();
                } else {
                    $(".node-input-target-row").hide();
                    $(".node-input-uncaught-row").show();
                }
                node._resize();
            });
            if (this.scope === null) {
                $("#node-input-scope-select").val("all");
            } else if(this.scope === "group"){
                $("#node-input-scope-select").val("group");
            } else {
                $("#node-input-scope-select").val("target");
            }
            $("#node-input-scope-select").trigger("change");
        },
        oneditsave: function() {
            var scope = $("#node-input-scope-select").val();
            if (scope === 'all') {
                this.scope = null;
            } else if(scope === 'group') {
                this.scope = "group";
            } else {
                $("#node-input-uncaught").prop("checked",false);
                this.scope = $("#node-input-catch-target-container-div").treeList('selected').map(function(i) { return i.node.id})
            }
        },
        oneditresize: function(size) {
            this._resize();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="catch">
    <p>Capture erros lanados por ns na mesma guia.</p>
    <h3>Sadas</h3>
    <dl class = "message-properties">
          <dt>error.message <span class="property-type">cadeia de caracteres</span></dt>
          <dd>a mensagem de erro.</dd>
          <dt>error.source.id <span class="property-type">cadeia de caracteres</span></dt>
          <dd>o id do n que gerou o erro.</dd>
          <dt>error.source.type <span class="property-type">cadeia de caracteres</span></dt>
          <dd>o tipo de n que gerou o erro.</dd>
          <dt>error.source.name <span class="property-type">cadeia de caracteres</span></dt>
          <dd>o nome, se definido, do n que gerou o erro.</dd>
      </dl>
      <h3>Detalhes</h3>
      <p>Se um n lanar um erro ao lidar com uma mensagem, o fluxo normalmente
         para. Este n pode ser usado para capturar esses erros e trat-los com um
         fluxo dedicado.</p>
      <p>Por padro, o n ir capturar erros gerados por qualquer n na mesma guia. Alternativamente
      pode ser direcionado a ns especficos ou configurado para detectar apenas erros que
      ainda no foram capturados por um n de captura 'direcionado'.</p>
      <p>Quando um erro  gerado, todos os ns de captura correspondentes recebero a mensagem.</p>
      <p>Se um erro for gerado em um subfluxo, o erro ser tratado por quaisquer
         ns de captura dentro do subfluxo. Se nenhum existir, o erro ser propagado
         at a guia, a instncia do subfluxo est ativada.</p>
     <p>Se a mensagem j tiver uma propriedade <code>error</code>, ela ser copiada para <code>_error</code>.</p> 
</script>

</div><div><!-- --- [red-module:node-red/status] --- -->

<script type="text/html" data-template-name="status">
    <div class="form-row">
        <label style="width: auto" for="node-input-scope" data-i18n="status.label.source"></label>
        <select id="node-input-scope-select">
            <option value="all" data-i18n="status.scope.all"></option>
            <option value="group" data-i18n="status.scope.group"></option>
            <option value="target" data-i18n="status.scope.selected"></option>
        </select>
    </div>
    <div class="form-row node-input-target-row">
        <button type="button" id="node-input-status-target-select" class="red-ui-button" data-i18n="common.label.selectNodes"></button>
    </div>
    <div class="form-row node-input-target-row node-input-target-list-row" style="position: relative; min-height: 100px">
        <div style="position: absolute; top: -30px; right: 0;"><input type="text" id="node-input-status-target-filter"></div>
        <div id="node-input-status-target-container-div"></div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('status',{
        category: 'common',
        color:"#94c1d0",
        defaults: {
            name: {value:""},
            scope: {value:null, type:"*[]"}
        },
        inputs:0,
        outputs:1,
        icon: "status.svg",
        label: function() {
            if (this.name) {
                return this.name;
            }
            if (this.scope === "group") {
                return this._("status.statusGroup");
            } else if (Array.isArray(this.scope)) {
                return this._("status.statusNodes",{number:this.scope.length});
            }
            return this._("status.status")
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            var scope = node.scope || [];
            this._resize = function() {
                var rows = $("#dialog-form>div:not(.node-input-target-list-row)");
                var height = $("#dialog-form").height();
                for (var i=0;i<rows.length;i++) {
                    height -= $(rows[i]).outerHeight(true);
                }
                var editorRow = $("#dialog-form>div.node-input-target-list-row");
                editorRow.css("height",height+"px");
            };
            var search = $("#node-input-status-target-filter").searchBox({
                style: "compact",
                delay: 300,
                change: function() {
                    var val = $(this).val().trim().toLowerCase();
                    if (val === "") {
                        dirList.treeList("filter", null);
                        search.searchBox("count","");
                    } else {
                        var count = dirList.treeList("filter", function(item) {
                            return item.label.toLowerCase().indexOf(val) > -1 || item.node.type.toLowerCase().indexOf(val) > -1
                        });
                        search.searchBox("count",count+" / "+candidateNodes.length);
                    }
                }
            });

            var dirList = $("#node-input-status-target-container-div").css({width: "100%", height: "100%"})
                .treeList({multi:true}).on("treelistitemmouseover", function(e, item) {
                    item.node.highlighted = true;
                    item.node.dirty = true;
                    RED.view.redraw();
                }).on("treelistitemmouseout", function(e, item) {
                    item.node.highlighted = false;
                    item.node.dirty = true;
                    RED.view.redraw();
                })
            var candidateNodes = RED.nodes.filterNodes({z:node.z});
            var allChecked = true;
            var items = [];
            var nodeItemMap = {};

            candidateNodes.forEach(function(n) {
                if (n.id === node.id) {
                    return;
                }
                var isChecked = scope.indexOf(n.id) !== -1;

                allChecked = allChecked && isChecked;

                var nodeDef = RED.nodes.getType(n.type);
                var label;
                var sublabel;
                if (nodeDef) {
                    var l = nodeDef.label;
                    label = (typeof l === "function" ? l.call(n) : l)||"";
                    sublabel = n.type;
                    if (sublabel.indexOf("subflow:") === 0) {
                        var subflowId = sublabel.substring(8);
                        var subflow = RED.nodes.subflow(subflowId);
                        sublabel = "subflow : "+subflow.name;
                    }
                }
                if (!nodeDef || !label) {
                    label = n.type;
                }
                nodeItemMap[n.id] = {
                    node: n,
                    label: label,
                    sublabel: sublabel,
                    selected: isChecked,
                    checkbox: true
                };
                items.push(nodeItemMap[n.id]);
            });
            dirList.treeList('data',items);

            $("#node-input-status-target-select").on("click", function(e) {
                e.preventDefault();
                var preselected = dirList.treeList('selected').map(function(n) {return n.node.id});
                RED.tray.hide();
                RED.view.selectNodes({
                    selected: preselected,
                    onselect: function(selection) {
                        RED.tray.show();
                        var newlySelected = {};
                        selection.forEach(function(n) {
                            newlySelected[n.id] = true;
                            if (nodeItemMap[n.id]) {
                                nodeItemMap[n.id].treeList.select(true);
                            }
                        })
                        preselected.forEach(function(id) {
                            if (!newlySelected[id]) {
                                nodeItemMap[id].treeList.select(false);
                            }
                        })
                    },
                    oncancel: function() {
                        RED.tray.show();
                    },
                    filter: function(n) {
                        return n.id !== node.id;
                    }
                });
            })

            $("#node-input-scope-select").on("change", function(e) {
                var scope = $(this).val();
                if (scope === "target") {
                    $(".node-input-target-row").show();
                } else {
                    $(".node-input-target-row").hide();
                }
                node._resize();
            });
            if (this.scope === null) {
                $("#node-input-scope-select").val("all");
            } else if(this.scope === "group"){
                $("#node-input-scope-select").val("group");
            } else {
                $("#node-input-scope-select").val("target");
            }
            $("#node-input-scope-select").trigger("change");
        },
        oneditsave: function() {
            var scope = $("#node-input-scope-select").val();
            if (scope === 'all') {
                this.scope = null;
            } else if(scope === 'group') {
                this.scope = "group";
            } else {
                this.scope = $("#node-input-status-target-container-div").treeList('selected').map(function(i) { return i.node.id})
            }
        },
        oneditresize: function(size) {
            this._resize();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="status">
    <p>Reportar mensagens de estado de outros ns na mesma guia.</p>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>status.text <span class="property-type">string</span></dt>
        <dd>o texto do estado.</dd>
        <dt>status.source.type <span class="property-type">string</span></dt>
        <dd>o tipo de n que relatou o estado.</dd>
        <dt>status.source.id <span class="property-type">string</span></dt>
        <dd>o id do n que relatou o estado.</dd>
        <dt>status.source.name <span class="property-type">string</span></dt>
        <dd>o nome, se definido, do n que relatou o estado.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Este n no produz uma <code>carga til</code>.</p>
    <p>Por padro, o n relata o estado de todos os ns na mesma guia da rea de trabalho.
    Pode ser configurado para relatar seletivamente o estado de ns individuais.</p>
</script>

</div><div><!-- --- [red-module:node-red/link] --- -->
<script type="text/html" data-template-name="link in">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div style="position:relative; height: 30px; text-align: right;"><div style="display:inline-block"><input type="text" id="node-input-link-target-filter"></div></div>
    <div class="form-row node-input-link-row"></div>
</script>
<script type="text/html" data-template-name="link out">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <label for="node-input-mode"><span data-i18n="link.outMode"></span></label>
        <select id="node-input-mode" style="width: 70%">
            <option value="link" selected data-i18n="link.sendToAll"></option>
            <option value="return" data-i18n="link.returnToCaller"></option>
        </select>
    </div>
    <div class="node-input-link-rows" style="position:relative; height: 30px; text-align: right;"><div style="display:inline-block"><input type="text" id="node-input-link-target-filter"></div></div>
    <div class="form-row node-input-link-row node-input-link-rows"></div>
</script>

<script type="text/html" data-template-name="link call">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <label for="node-input-timeout"><i class="fa fa-clock-o"></i> <span data-i18n="exec.label.timeout"></span></label>
        <input type="text" id="node-input-timeout" placeholder="30" style="width: 70px; margin-right: 5px;"><span data-i18n="inject.seconds"></span>
    </div>
    <div class="form-row">
        <label for="node-input-linkType" data-i18n="link.linkCallType"></label>
        <select id="node-input-linkType" style="width: 70%">
            <option value="static" data-i18n="link.staticLinkCall"></option>
            <option value="dynamic" data-i18n="link.dynamicLinkCall"></option>
        </select>
    </div>
    <div class="link-call-target-tree" style="position:relative; height: 30px; text-align: right;">
        <div style="display:inline-block"><input type="text" id="node-input-link-target-filter"></div>
    </div>
    <div class="form-row node-input-link-row link-call-target-tree"></div>
</script>

<script type="text/javascript">
(function() {

    let treeList;

    function onEditPrepare(node,targetType) {
        if (!node.links) {
            node.links = [];
        }
        node.oldLinks = [];

        const activeSubflow = RED.nodes.subflow(node.z);

        treeList = $("<div>")
            .css({width: "100%", height: "100%"})
            .appendTo(".node-input-link-row")
            .treeList({autoSelect:false})
            .on('treelistitemmouseover',function(e,item) {
                if (item.node) {
                    item.node.highlighted = true;
                    item.node.dirty = true;
                    RED.view.redraw();
                }
            })
            .on('treelistitemmouseout',function(e,item) {
                if (item.node) {
                    item.node.highlighted = false;
                    item.node.dirty = true;
                    RED.view.redraw();
                }
            });
        const candidateNodes = RED.nodes.filterNodes({type:targetType});
        let candidateNodesCount = 0;

        const search = $("#node-input-link-target-filter").searchBox({
            style: "compact",
            delay: 300,
            change: function() {
                var val = $(this).val().trim().toLowerCase();
                if (val === "") {
                    treeList.treeList("filter", null);
                    search.searchBox("count","");
                } else {
                    const count = treeList.treeList("filter", function(item) {
                        return item.label.toLowerCase().indexOf(val) > -1 || (item.node && item.node.type.toLowerCase().indexOf(val) > -1)
                    });
                    search.searchBox("count",count+" / "+candidateNodesCount);
                }
            }
        });

        const flows = [];
        const flowMap = {};

        if (activeSubflow) {
            flowMap[activeSubflow.id] = {
                id: activeSubflow.id,
                class: 'red-ui-palette-header',
                label: "Subflow : " + (activeSubflow.name || activeSubflow.id),
                expanded: true,
                children: []
            };
            flows.push(flowMap[activeSubflow.id])
        }
        if (!activeSubflow || node.type === "link call") {
            // Only "Link Call" can look outside of its own subflow
            // Link In and Link Out nodes outside of a subflow should be ignored
            RED.nodes.eachWorkspace(function (ws) {
                flowMap[ws.id] = {
                    id: ws.id,
                    class: 'red-ui-palette-header',
                    label: (ws.label || ws.id) + (node.z === ws.id ? " *" : ""),
                    expanded: true,
                    children: []
                }
                flows.push(flowMap[ws.id])
            })
        }

        candidateNodes.forEach(function (n) {
            if (flowMap[n.z]) {
                if (targetType === "link out" && n.mode === 'return') {
                    // Link In nodes looking for Link Out nodes should not
                    // include return-mode nodes.
                    return;
                }
                const isChecked = (node.links.indexOf(n.id) !== -1) || (n.links || []).indexOf(node.id) !== -1;
                if (isChecked) {
                    node.oldLinks.push(n.id);
                }
                flowMap[n.z].children.push({
                    id: n.id,
                    node: n,
                    label: n.name || n.id,
                    selected: isChecked,
                    checkbox: node.type !== "link call",
                    radio: node.type === "link call"
                })
                candidateNodesCount++;
            }
        });
        const flowsFiltered = flows.filter(function(f) { return f.children.length > 0 })
        treeList.treeList('data',flowsFiltered);
        setTimeout(function() {
            treeList.treeList('show',node.z);
        },100);
    }

    function resizeNodeList() {
        var rows = $("#dialog-form>div:not(.node-input-link-row)");
        var height = $("#dialog-form").height();
        for (var i=0;i<rows.length;i++) {
            height -= $(rows[i]).outerHeight(true);
        }
        var editorRow = $("#dialog-form>div.node-input-link-row");
        height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
        $(".node-input-link-row").css("height",height+"px");
    }

    function onEditSave(node) {
        var flows = treeList.treeList('data');
        node.links = [];
        if (node.type !== "link out" || $("#node-input-mode").val() === 'link') {
            flows.forEach(function(f) {
                f.children.forEach(function(n) {
                    if (n.selected) {
                        node.links.push(n.id);
                    }
                })
            })
        }
        node.oldLinks.sort();
        node.links.sort();

        if (node.type === "link call") {
            return
        }

        var nodeMap = {};
        var length = Math.max(node.oldLinks.length,node.links.length);
        for (var i=0;i<length;i++) {
            if (i<node.oldLinks.length) {
                nodeMap[node.oldLinks[i]] = nodeMap[node.oldLinks[i]]||{};
                nodeMap[node.oldLinks[i]].old = true;
            }
            if (i<node.links.length) {
                nodeMap[node.links[i]] = nodeMap[node.links[i]]||{};
                nodeMap[node.links[i]].new = true;
            }
        }
        var n;
        for (var id in nodeMap) {
            if (nodeMap.hasOwnProperty(id)) {
                n = RED.nodes.node(id);
                if (n) {
                    if (nodeMap[id].old && !nodeMap[id].new) {
                        // Removed id
                        i = n.links.indexOf(node.id);
                        if (i > -1) {
                            n.links.splice(i,1);
                        }
                    } else if (!nodeMap[id].old && nodeMap[id].new) {
                        // Added id
                        i = n.links.indexOf(id);
                        if (i === -1) {
                            n.links.push(node.id);
                        }
                    }
                }
            }
        }
    }

    function onAdd() {
        if (this.name === '_DEFAULT_') {
            this.name = ''
            RED.actions.invoke("core:generate-node-names", this, {generateHistory: false})
        }
        for (var i=0;i<this.links.length;i++) {
            var n = RED.nodes.node(this.links[i]);
            if (n && n.links.indexOf(this.id) === -1) {
                n.links.push(this.id);
            }
        }
    }

    RED.nodes.registerType('link in',{
        category: 'common',
        color:"#ddd",//"#87D8CF",
        defaults: {
            name: { value: "_DEFAULT_" },
            links: { value: [], type:"link out[]" }
        },
        inputs:0,
        outputs:1,
        icon: "link-out.svg",
        outputLabels: function(i) {
            return this.name||this._("link.linkIn");
        },
        showLabel: false,
        label: function() {
            return this.name||this._("link.linkIn");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            onEditPrepare(this,"link out");
        },
        oneditsave: function() {
            onEditSave(this);
            // In case the name has changed, ensure any link call nodes on this
            // tab are redrawn with the updated name
            var localCallNodes = RED.nodes.filterNodes({z:RED.workspaces.active(), type:"link call"});
            localCallNodes.forEach(function(node) {
                node.dirty = true;
            });
        },
        onadd: onAdd,
        oneditresize: resizeNodeList
    });

    RED.nodes.registerType('link call',{
        category: 'common',
        color:"#ddd",//"#87D8CF",
        defaults: {
            name: { value: "" },
            links: {
                value: [],
                type: "link in[]",
                validate: function (v, opt) {
                    if ((this.linkType === "static" && v.length > 0)
                      || this.linkType === "dynamic") {
                        return true;
                    }
                    return RED._("node-red:link.errors.linkUndefined");
                }
            },
            linkType: { value:"static" },
            timeout: {
                value: "30",
                label: RED._("node-red:link.timeout"),
                validate:RED.validators.number(true)
            }
        },
        inputs: 1,
        outputs: 1,
        icon: "link-call.svg",
        inputLabels: function(i) {
            return this.name||this._("link.linkCall");
        },
        label: function() {
            if (this.name) {
                return this.name;
            }
            if (this.linkType === "dynamic") {
                return this._("link.dynamicLinkLabel");
            } else if (this.links.length > 0) {
                var targetNode = RED.nodes.node(this.links[0]);
                return targetNode && (targetNode.name || this._("link.linkCall"));
            }
            return this._("inject.none");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            const updateVisibility = function() {
                const static = $('#node-input-linkType').val() !== "dynamic";
                if(static) {
                    $("div.link-call-target-tree").show();
                } else {
                    $("div.link-call-target-tree").hide();
                }
            }
            $("#node-input-linkType").on("change",function(d){
                updateVisibility();
            });
            if (["static","dynamic"].indexOf(this.linkType) < 0) {
                $("#node-input-linkType").val('static');
            }
            updateVisibility();
            onEditPrepare(this,"link in");
        },
        oneditsave: function() {
            onEditSave(this);
        },
        oneditresize: resizeNodeList
    });

    RED.nodes.registerType('link out',{
        category: 'common',
        color:"#ddd",//"#87D8CF",
        defaults: {
            name: { value:"_DEFAULT_" },
            mode: { value: "link" },// link || return
            links: { value: [], type:"link in[]" }
        },
        align:"right",
        inputs:1,
        outputs:0,
        icon: function() {
            if (this.mode === "return") {
                return "link-return.svg";
            } else {
                return "link-out.svg";
            }
        },
        inputLabels: function(i) {
            return this.name||(this.mode === "return" ?this._("link.linkOutReturn"):this._("link.linkOut"));
        },
        showLabel: false,
        label: function() {
            return this.name||(this.mode === "return" ?this._("link.linkOutReturn"):this._("link.linkOut"));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            onEditPrepare(this,"link in");
            $("#node-input-mode").on("change", function() {
                $(".node-input-link-rows").toggle(this.value === "link")
            })
            if (!this.mode) {
                $("#node-input-mode").val('link').trigger("change");
            }

        },
        oneditsave: function() {
            onEditSave(this);
        },
        onadd: onAdd,
        oneditresize: resizeNodeList
    });



})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="link in">
   <p>Crie fios virtuais entre fluxos. </p>
   <h3>Detalhes</h3>
   <p>O n pode ser conectado a qualquer n de <code>ligao de sada</code> que exista em qualquer guia.
      Uma vez conectados, eles agem como se tivessem sido ligados em conjunto.</p>
   <p>Os fios entre os ns de ligao so exibidos apenas quando um n de ligao  selecionado.
      Se existir quaisquer outros fios para outras guias; um n virtual  exibido, onde pode-se clicar
      e ser direcionado para a guia apropriada.</p>
   <p><b>Observao:</b> as ligaes no podem ser criadas entrando ou saindo de um subfluxo.</p>
</script>

<script type="text/html" data-help-name="link out">
    <p>Crie conexes virtuais entre fluxos.</p>
    <h3>Detalhes</h3>
    <p>Este n pode ser configurado para enviar mensagens para todos os ns de <code>ligao de entradas</code>
       aos quais est conectado ou para enviar uma resposta de volta para o n de <code>ligao de chamada</code>
       que acionou o fluxo.</p>
    <p>No modo 'enviar para todos', os fios entre os ns da ligao so exibidos apenas quando
       o n  selecionado. Se houver ligaes para outras guias, um n virtual
        mostrado; podendo ser clicado para se deslocar at a guia apropriada.</p>
    <p><b>Observao:</b>As ligaes no podem ser criadas em direao ao, ou saindo de, um subfluxo.</p>
</script>

<script type="text/html" data-help-name="link call">
    <p>Chama um fluxo que comea com um n de <code>ligao de entrada</code> e passa adiante a resposta.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
      <dt class="opcional">destino<span class="property-type">cadeia de caracteres</span></dt>
      <dd>Quando a opo <b>Tipo de ligao</b> estiver definida como "Destino dinmico", defina <code>msg.target</code> como o nome do
         n de <code>ligao de entrada</code> que voc deseja chamar.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Este n pode ser conectado a um n de <code>ligao de entrada</code> que exista em qualquer guia.
       O fluxo conectado a esse n deve terminar com um n de <code>ligao de sada</code> configurado
       no modo 'retorno'.</p>
    <p>Quando este n recebe uma mensagem, ela  passada para o n de <code>ligao de entrada</code> conectado.
       Em seguida, aguarda uma resposta que este ento envia.</p>
    <p>Se nenhuma resposta for recebida dentro do tempo limite configurado, padro de 30 segundos, o n
       registrar um erro que pode ser detectado usando o n de <code>captura</code>.</p>
    <p>Quando a opo <b>Tipo de ligao</b>  definida como "Destino dinmico", <code>msg.target</code> pode ser usado para chamar uma
       <code>ligao de entrada</code> por nome ou id.
    <ul>
      <li>Se houver um n de <code>ligao de entrada</code> com o mesmo id, este ser chamado</li>
      <li>Se houverem dois ou mais ns de <code>ligao de entrada</code> com o mesmo nome, um erro ser gerado</li>
      <li>Uma <code>chamada de ligao</code>no pode chamar um n de <code>ligao de entrada</code> dentro de um subfluxo</li>
    </ul>
    </p>
    O fluxo conectado a esse n deve terminar com um n de <code>ligao de sada</code> configurado
    no modo 'retorno'.</p>
</script>

</div><div><!-- --- [red-module:node-red/comment] --- -->

<script type="text/html" data-template-name="comment">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row node-text-editor-row">
        <input type="hidden" id="node-input-info" autofocus="autofocus">
        <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-info-editor"></div>
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('comment',{
        category: 'common',
        color:"#ffffff",
        defaults: {
            name: {value:""},
            info: {value:""}
        },
        inputs:0,
        outputs:0,
        icon: "comment.svg",
        label: function() {
            return this.name||this._("comment.comment");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        info: function() {
            return this.name?"# "+this.name+"\n\n---\n\n":"";
        },
        oneditprepare: function() {
            var that = this;
            this.editor = RED.editor.createEditor({
                id: 'node-input-info-editor',
                mode: 'ace/mode/markdown',
                value: $("#node-input-info").val()
            });
            this.editor.focus();
        },
        oneditsave: function() {
            $("#node-input-info").val(this.editor.getValue());
            this.editor.destroy();
            delete this.editor;
        },
        oneditcancel: function() {
            this.editor.destroy();
            delete this.editor;
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-text-editor-row)");
            var height = $("#dialog-form").height();
            for (var i=0; i<rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-text-editor-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $(".node-text-editor").css("height",height+"px");
            this.editor.resize();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="comment">
    <p>Um n que voc pode usar para adicionar comentrios aos seus fluxos.</p>
    <h3>Detalhes</h3>
    <p>O painel de edio aceitar a sintaxe Markdown. O texto ser renderizado neste
    painel lateral de informaes.</p>
</script>

</div><div><!-- --- [red-module:node-red/global-config] --- -->
<script type="text/html" data-template-name="global-config">
<div class="form-row">
        <label style="width: 100%"><span data-i18n="global-config.label.open-conf"></span>:</label>
    </div>
    <div class="form-row">
        <button class="red-ui-button" type="button" id="node-input-edit-env-var" data-i18n="editor:env-var.header" style="margin-left: 20px"></button>
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('global-config',{
        category: 'config',
        defaults: {
            name: { value: "" },
            env: { value: [] },
        },
        credentials: {
            map: { type: "map" }
        },
        oneditprepare: function() {
            $('#node-input-edit-env-var').on('click', function(evt) {
                RED.actions.invoke('core:show-user-settings', 'envvar')
            });
        },
        hasUsers: false
    });
</script>
<script type="text/html" data-help-name="global-config">
    <p>A node for holding global configuration of flows.</p>
</script>

</div><div><!-- --- [red-module:node-red/unknown] --- -->

<script type="text/html" data-template-name="unknown">
    <div class="form-tips"><span data-i18n="[html]unknown.tip"></span></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('unknown',{
        category: 'unknown',
        color:"#fff0f0",
        defaults: {
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "",
        label: function() {
            return "("+this.name+")"||this._("unknown.label.unknown");
        },
        labelStyle: function() {
            return "node_label_unknown";
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="unknown">
    <p>Este n  de um tipo desconhecido para a sua instalao do Node-RED.</p>
    <h3>Detalhes</h3>
    <p><i>Se voc decidir implementar com o n neste estado, sua configurao ser preservada, mas
    o fluxo no ser iniciado at que o tipo ausente seja instalado.</i></p>
    <p>Use a opo <code>Menu - Gerenciar paleta</code>
    para pesquisar e instalar ns, ou <b>npm install &lt;module&gt;</b> para
    instalar todos os mdulos ausentes, reiniciar o Node-RED e reimportar os ns.</p>
    <p> possvel que este tipo de n j esteja instalado, mas que esteja faltando alguma dependncia para sua correta execuo. Verifique o log de inicializao do Node-RED
    para quaisquer mensagens de erro associadas ao tipo de n ausente.</p>
    <p>Caso contrrio, voc deve entrar em contato com o autor do fluxo para obter uma cpia do tipo de n ausente.</p>
</script>

</div><div><!-- --- [red-module:node-red/function] --- -->
<script type="text/html" data-template-name="function">
    <style>
        .func-tabs-row {
            margin-bottom: 0;
        }
        #node-input-libs-container-row .red-ui-editableList-container {
            padding: 0px;
        }
        #node-input-libs-container-row .red-ui-editableList-container li {
            padding:0px;
        }
        #node-input-libs-container-row .red-ui-editableList-item-remove {
            right: 5px;
        }

        #node-input-libs-container-row .red-ui-editableList-header {
            display: flex;
            background: var(--red-ui-tertiary-background);
            padding-right: 75px;
            border-top-left-radius: 3px;
            border-top-right-radius: 3px;
        }
        #node-input-libs-container-row .red-ui-editableList-header > div {
            flex-grow: 1;
        }

        .node-libs-entry {
            display: flex;
        }

        .node-libs-entry .red-ui-typedInput-container {
            border-radius: 0;
            border: none;
        }
        .node-libs-entry .red-ui-typedInput-type-select {
            border-radius: 0 !important;
            height: 34px;
        }
        .node-libs-entry > span > input[type=text] {
            border-radius: 0;
            border-top-color: var(--red-ui-form-background);
            border-bottom-color: var(--red-ui-form-background);
            border-right-color: var(--red-ui-form-background);
        }
        .node-libs-entry > span > input[type=text].input-error {
        }
        .node-libs-entry > span {
            flex-grow: 1;
            width: 50%;
            position: relative;
        }
        .node-libs-entry span .node-input-libs-var, .node-libs-entry span .red-ui-typedInput-container {
            width: 100%;
        }
        .node-libs-entry > span > span > i {
            display: none;
        }
        .node-libs-entry > span > span.input-error > i {
            display: inline;
        }

    </style>
    <input type="hidden" id="node-input-func">
    <input type="hidden" id="node-input-noerr">
    <input type="hidden" id="node-input-finalize">
    <input type="hidden" id="node-input-initialize">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></div>
    </div>


    <div class="form-row func-tabs-row">
        <ul style="min-width: 600px; margin-bottom: 20px;" id="func-tabs"></ul>
    </div>
    <div id="func-tabs-content" style="min-height: calc(100% - 95px);">

        <div id="func-tab-config" style="display:none">
            <div>
                <div class="form-row" style="display: inline-block; margin-right: 50px;">
                    <label for="node-input-outputs"><i class="fa fa-random"></i> <span data-i18n="function.label.outputs"></span></label>
                    <input id="node-input-outputs" style="width: 60px;" value="1">
                </div>
                <div class="form-row" style="display: inline-block;">
                    <label for="node-input-timeout"><i class="fa fa-clock-o"></i> <span data-i18n="function.label.timeout"></span></label>
                    <input id="node-input-timeout" style="width: 60px;" data-i18n="[placeholder]join.seconds">
                </div>
            </div>

            <div class="form-row node-input-libs-row hide" style="margin-bottom: 0px;">
                <label><i class="fa fa-cubes"></i> <span data-i18n="function.label.modules"></span></label>
            </div>
            <div class="form-row node-input-libs-row hide" id="node-input-libs-container-row">
                <ol id="node-input-libs-container"></ol>
            </div>
        </div>

        <div id="func-tab-init" style="display:none">
            <div class="form-row node-text-editor-row" style="position:relative">
                <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-init-editor" ></div>
                <div style="position: absolute; right:0; bottom: calc(100% - 20px); z-Index: 10;"><button type="button" id="node-init-expand-js" class="red-ui-button red-ui-button-small"><i class="fa fa-expand"></i></button></div>
            </div>
        </div>

        <div id="func-tab-body" style="display:none">
            <div class="form-row node-text-editor-row" style="position:relative">
                <div style="height: 220px; min-height:150px;" class="node-text-editor" id="node-input-func-editor" ></div>
                <div style="position: absolute; right:0; bottom: calc(100% - 20px); z-Index: 10;"><button type="button" id="node-function-expand-js" class="red-ui-button red-ui-button-small"><i class="fa fa-expand"></i></button></div>
            </div>
        </div>

        <div id="func-tab-finalize" style="display:none">
            <div class="form-row node-text-editor-row" style="position:relative">
                <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-finalize-editor" ></div>
                <div style="position: absolute; right:0; bottom: calc(100% - 20px); z-Index: 10;"><button type="button" id="node-finalize-expand-js" class="red-ui-button red-ui-button-small"><i class="fa fa-expand"></i></button></div>
            </div>
        </div>

    </div>
</script>

<script type="text/javascript">

(function() {

    var invalidModuleVNames = [
        'console',
        'util',
        'Buffer',
        'Date',
        'RED',
        'node',
        '__node__',
        'context',
        'flow',
        'global',
        'env',
        'setTimeout',
        'clearTimeout',
        'setInterval',
        'clearInterval',
        'promisify'
    ]

    var knownFunctionNodes = {};
    RED.events.on("nodes:add", function(n) {
        if (n.type === "function") {
            knownFunctionNodes[n.id] = n;
        }
    })
    RED.events.on("nodes:remove", function(n) {
        if (n.type === "function") {
            delete knownFunctionNodes[n.id];
        }
    })

    var missingModules = [];
    var missingModuleReasons = {};
    RED.events.on("runtime-state", function(event) {
        if (event.error === "missing-modules") {
            missingModules = event.modules.map(function(m) { missingModuleReasons[m.module] = m.error; return m.module });
            for (var id in knownFunctionNodes) {
                if (knownFunctionNodes.hasOwnProperty(id) && knownFunctionNodes[id].libs && knownFunctionNodes[id].libs.length > 0) {
                    RED.editor.validateNode(knownFunctionNodes[id])
                }
            }
        } else if (!event.text) {
            missingModuleReasons = {};
            missingModules = [];
            for (var id in knownFunctionNodes) {
                if (knownFunctionNodes.hasOwnProperty(id) && knownFunctionNodes[id].libs && knownFunctionNodes[id].libs.length > 0) {
                    RED.editor.validateNode(knownFunctionNodes[id])
                }
            }
        }
        RED.view.redraw();
    });

    var installAllowList = ['*'];
    var installDenyList = [];

    var modulesEnabled = true;
    if (RED.settings.get('externalModules.modules.allowInstall', true) === false) {
        modulesEnabled = false;
    }
    var settingsAllowList = RED.settings.get("externalModules.modules.allowList")
    var settingsDenyList = RED.settings.get("externalModules.modules.denyList")
    if (settingsAllowList || settingsDenyList) {
        installAllowList = settingsAllowList;
        installDenyList = settingsDenyList
    }
    installAllowList = RED.utils.parseModuleList(installAllowList);
    installDenyList = RED.utils.parseModuleList(installDenyList);


    // object that maps from library name to its descriptor
    var allLibs = [];

    function moduleName(module) {
        var match = /^([^@]+)@(.+)/.exec(module);
        if (match) {
            return [match[1], match[2]];
        }
        return [module, undefined];
    }

    function getAllUsedModules() {
        var moduleSet = new Set();
        for (var id in knownFunctionNodes) {
            if (knownFunctionNodes.hasOwnProperty(id)) {
                if (knownFunctionNodes[id].libs) {
                    for (var i=0, l=knownFunctionNodes[id].libs.length; i<l; i++) {
                        if (RED.utils.checkModuleAllowed(knownFunctionNodes[id].libs[i].module,null,installAllowList,installDenyList)) {
                            moduleSet.add(knownFunctionNodes[id].libs[i].module);
                        }
                    }
                }
            }
        }
        var modules = Array.from(moduleSet);
        modules.sort();
        return modules;
    }

    function prepareLibraryConfig(node) {
        $(".node-input-libs-row").show();
        var usedModules = getAllUsedModules();
        var typedModules = usedModules.map(function(l) {
            return {icon:"fa fa-cube", value:l,label:l,hasValue:false}
        })
        typedModules.push({
            value:"_custom_", label:RED._("editor:subflow.licenseOther"), icon:"red/images/typedInput/az.svg"
        })

        var libList = $("#node-input-libs-container").css('min-height','100px').css('min-width','450px').editableList({
            header: $('<div><div data-i18n="node-red:function.require.moduleName"></div><div data-i18n="node-red:function.require.importAs"></div></div>'),
            addItem: function(container,i,opt) {
                var parent = container.parent();
                var row0 = $("<div/>").addClass("node-libs-entry").appendTo(container);
                var fmoduleSpan = $("<span>").appendTo(row0);
                var fmodule = $("<input/>", {
                    class: "node-input-libs-val",
                    placeholder: RED._("node-red:function.require.module"),
                    type: "text"
                }).css({
                }).appendTo(fmoduleSpan).typedInput({
                    types: typedModules,
                    default: usedModules.indexOf(opt.module) > -1 ? opt.module : "_custom_"
                });
                if (usedModules.indexOf(opt.module) === -1) {
                    fmodule.typedInput('value', opt.module);
                }
                var moduleWarning = $('<span style="position: absolute;right:2px;top:7px; display:inline-block; width: 16px;"><i class="fa fa-warning"></i></span>').appendTo(fmoduleSpan);
                RED.popover.tooltip(moduleWarning.find("i"),function() {
                    var val = fmodule.typedInput("type");
                    if (val === "_custom_") {
                        val = fmodule.val();
                    }
                    var errors = [];

                    if (!RED.utils.checkModuleAllowed(val,null,installAllowList,installDenyList)) {
                        return RED._("node-red:function.error.moduleNotAllowed",{module:val});
                    } else {
                        return RED._("node-red:function.error.moduleLoadError",{module:val,error:missingModuleReasons[val]});
                    }
                })

                var fvarSpan = $("<span>").appendTo(row0);

                var fvar = $("<input/>", {
                    class: "node-input-libs-var red-ui-font-code",
                    placeholder: RED._("node-red:function.require.var"),
                    type: "text"
                }).css({
                }).appendTo(fvarSpan).val(opt.var);
                var vnameWarning = $('<span style="position: absolute; right:2px;top:7px;display:inline-block; width: 16px;"><i class="fa fa-warning"></i></span>').appendTo(fvarSpan);
                RED.popover.tooltip(vnameWarning.find("i"),function() {
                    var val = fvar.val();
                    if (invalidModuleVNames.indexOf(val) !== -1) {
                        return RED._("node-red:function.error.moduleNameReserved",{name:val})
                    } else {
                        return RED._("node-red:function.error.moduleNameError",{name:val})
                    }
                })



                fvar.on("change keyup paste", function (e) {
                    var v = $(this).val().trim();
                    if (v === "" || / /.test(v) || invalidModuleVNames.indexOf(v) !== -1) {
                        fvar.addClass("input-error");
                        vnameWarning.addClass("input-error");
                    } else {
                        fvar.removeClass("input-error");
                        vnameWarning.removeClass("input-error");
                    }
                });

                fmodule.on("change keyup paste", function (e) {
                    var val = $(this).typedInput("type");
                    if (val === "_custom_") {
                        val = $(this).val();
                    }
                    var varName = val.trim().replace(/^@/,"").replace(/@.*$/,"").replace(/[-_/\.].?/g, function(v) { return v[1]?v[1].toUpperCase():"" });
                    fvar.val(varName);
                    fvar.trigger("change");

                    if (RED.utils.checkModuleAllowed(val,null,installAllowList,installDenyList) && (missingModules.indexOf(val) === -1)) {
                        fmodule.removeClass("input-error");
                        moduleWarning.removeClass("input-error");
                    } else {
                        fmodule.addClass("input-error");
                        moduleWarning.addClass("input-error");
                    }
                });
                if (RED.utils.checkModuleAllowed(opt.module,null,installAllowList,installDenyList) && (missingModules.indexOf(opt.module) === -1)) {
                    fmodule.removeClass("input-error");
                    moduleWarning.removeClass("input-error");
                } else {
                    fmodule.addClass("input-error");
                    moduleWarning.addClass("input-error");
                }
                if (opt.var) {
                    fvar.trigger("change");
                }
            },
            removable: true
        });

        var libs = node.libs || [];
        for (var i=0,l=libs.length;i<l; i++) {
            libList.editableList('addItem',libs[i])
        }

    }

    function getLibsList() {
        var _libs = [];
        if (RED.settings.functionExternalModules !== false) {
            var libs = $("#node-input-libs-container").editableList("items");
            libs.each(function(i) {
                var item = $(this);
                var v = item.find(".node-input-libs-var").val();
                var n = item.find(".node-input-libs-val").typedInput("type");
                if (n === "_custom_") {
                    n = item.find(".node-input-libs-val").val();
                }
                if ((!v || (v === "")) ||
                    (!n || (n === ""))) {
                    return;
                }
                _libs.push({
                    var: v,
                    module: n
                });
            });
        }
        return _libs;
    }

    RED.nodes.registerType('function',{
        color:"#fdd0a2",
        category: 'function',
        defaults: {
            name: {value:"_DEFAULT_"},
            func: {value:"\nreturn msg;"},
            outputs: {value:1},
            timeout:{value:RED.settings.functionTimeout || 0},
            noerr: {value:0,required:true,
                    validate: function(v, opt) {
                        if (!v) {
                            return true;
                        }
                        return RED._("node-red:function.error.invalid-js");
                    }},
            initialize: {value:""},
            finalize: {value:""},
            libs: {value: [], validate: function(v, opt) {
                if (!v) { return true; }
                for (var i=0,l=v.length;i<l;i++) {
                    var m = v[i];
                    if (!RED.utils.checkModuleAllowed(m.module,null,installAllowList,installDenyList)) {
                        return RED._("node-red:function.error.moduleNotAllowed", {
                            module: m.module
                        });
                    }
                    if (m.var === "" || / /.test(m.var)) {
                        return RED._("node-red:function.error.moduleNameError", {
                            name: m.var
                        });
                    }
                    if (missingModules.indexOf(m.module) > -1) {
                        return RED._("node-red:function.error.missing-module", {
                            module: m.module
                        });
                    }
                    if (invalidModuleVNames.indexOf(m.var) !== -1){
                        return RED._("node-red:function.error.moduleNameError", {
                            name: m.var
                        });
                    }
                }
                return true;
            }}
        },
        inputs:1,
        outputs:1,
        icon: "function.svg",
        label: function() {
            return this.name||this._("function.function");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var that = this;

            var tabs = RED.tabs.create({
                id: "func-tabs",
                onchange: function(tab) {
                    $("#func-tabs-content").children().hide();
                    $("#" + tab.id).show();
                    let editor = $("#" + tab.id).find('.monaco-editor').first();
                    if(editor.length) {
                        if(that.editor.nodered && that.editor.type == "monaco") {
                            that.editor.nodered.refreshModuleLibs(getLibsList());
                        }
                        RED.tray.resize();
                        //auto focus editor on tab switch
                        if (that.initEditor.getDomNode() == editor[0]) {
                            that.initEditor.focus();
                        } else if (that.editor.getDomNode() == editor[0]) {
                            that.editor.focus();
                        } else if (that.finalizeEditor.getDomNode() == editor[0]) {
                            that.finalizeEditor.focus();
                        }
                    }
                }
            });
            tabs.addTab({
                id: "func-tab-config",
                iconClass: "fa fa-cog",
                label: that._("function.label.setup")
            });

            tabs.addTab({
                id: "func-tab-init",
                label: that._("function.label.initialize")
            });
            tabs.addTab({
                id: "func-tab-body",
                label: that._("function.label.function")
            });
            tabs.addTab({
                id: "func-tab-finalize",
                label: that._("function.label.finalize")
            });

            tabs.activateTab("func-tab-body");

            $( "#node-input-outputs" ).spinner({
                min: 0,
                max: 500,
                change: function(event, ui) {
                    var value = parseInt(this.value);
                    value = isNaN(value) ? 1 : value;
                    value = Math.max(value, parseInt($(this).attr("aria-valuemin")));
                    value = Math.min(value, parseInt($(this).attr("aria-valuemax")));
                    if (value !== this.value) { $(this).spinner("value", value); }
                }
            });

            // 4294967 is max in node.js timeout.
            $( "#node-input-timeout" ).spinner({
                min: 0,
                max: 4294967,
                change: function(event, ui) {
                    var value = this.value;
                    if(value == ""){
                        value = 0;
                    }
                    else
                    {
                        value = parseInt(value);
                    }
                    value = isNaN(value) ? 1 : value;
                    value = Math.max(value, parseInt($(this).attr("aria-valuemin")));
                    value = Math.min(value, parseInt($(this).attr("aria-valuemax")));
                    if (value !== this.value) { $(this).spinner("value", value); }
                }
            });

            var buildEditor = function(id, stateId, focus, value, defaultValue, extraLibs, offset) {
                var editor = RED.editor.createEditor({
                    id: id,
                    mode: 'ace/mode/nrjavascript',
                    value: value || defaultValue || "",
                    stateId: stateId,
                    focus: true,
                    globals: {
                        msg:true,
                        context:true,
                        RED: true,
                        util: true,
                        flow: true,
                        global: true,
                        console: true,
                        Buffer: true,
                        setTimeout: true,
                        clearTimeout: true,
                        setInterval: true,
                        clearInterval: true
                    },
                    extraLibs: extraLibs
                });
                if (defaultValue && value === "") {
                    editor.moveCursorTo(defaultValue.split("\n").length +offset, 0);
                }
                editor.__stateId = stateId;
                return editor;
            }
            this.initEditor = buildEditor('node-input-init-editor', this.id + "/" + "initEditor", false, $("#node-input-initialize").val(), RED._("node-red:function.text.initialize"), undefined, 0);
            this.editor = buildEditor('node-input-func-editor', this.id + "/" + "editor", true, $("#node-input-func").val(), undefined, that.libs || [], undefined, -1);
            this.finalizeEditor = buildEditor('node-input-finalize-editor', this.id + "/" + "finalizeEditor", false, $("#node-input-finalize").val(), RED._("node-red:function.text.finalize"), undefined, 0);

            RED.library.create({
                url:"functions", // where to get the data from
                type:"function", // the type of object the library is for
                editor:this.editor, // the field name the main text body goes to
                mode:"ace/mode/nrjavascript",
                fields:[
                    'name', 'outputs', 'timeout',
                    {
                        name: 'initialize',
                        get: function() {
                            return that.initEditor.getValue();
                        },
                        set: function(v) {
                            that.initEditor.setValue(v||RED._("node-red:function.text.initialize"), -1);
                        }
                    },
                    {
                        name: 'finalize',
                        get: function() {
                            return that.finalizeEditor.getValue();
                        },
                        set: function(v) {
                            that.finalizeEditor.setValue(v||RED._("node-red:function.text.finalize"), -1);
                        }
                    },
                    {
                        name: 'info',
                        get: function() {
                            return that.infoEditor.getValue();
                        },
                        set: function(v) {
                            that.infoEditor.setValue(v||"", -1);
                        }
                    }
                ],
                ext:"js"
            });

            var expandButtonClickHandler = function(editor) {
                return function (e) {
                    e.preventDefault();
                    var value = editor.getValue();
                    editor.saveView(`inside function-expandButtonClickHandler ${editor.__stateId}`);
                    var extraLibs = that.libs || [];
                    RED.editor.editJavaScript({
                        value: value,
                        width: "Infinity",
                        stateId: editor.__stateId,
                        mode: "ace/mode/nrjavascript",
                        focus: true,
                        cancel: function () {
                            setTimeout(function () {
                                editor.focus();
                            }, 250);
                        },
                        complete: function (v, cursor) {
                            editor.setValue(v, -1);
                            setTimeout(function () {
                                editor.restoreView();
                                editor.focus();
                            }, 250);
                        },
                        extraLibs: extraLibs
                    });
                }
            }
            $("#node-init-expand-js").on("click", expandButtonClickHandler(this.initEditor));
            $("#node-function-expand-js").on("click", expandButtonClickHandler(this.editor));
            $("#node-finalize-expand-js").on("click", expandButtonClickHandler(this.finalizeEditor));

            RED.popover.tooltip($("#node-init-expand-js"), RED._("node-red:common.label.expand"));
            RED.popover.tooltip($("#node-function-expand-js"), RED._("node-red:common.label.expand"));
            RED.popover.tooltip($("#node-finalize-expand-js"), RED._("node-red:common.label.expand"));

            if (RED.settings.functionExternalModules !== false) {
                prepareLibraryConfig(that);
            }
        },
        oneditsave: function() {
            var node = this;
            var noerr = 0;
            $("#node-input-noerr").val(0);

            var disposeEditor = function(editorName,targetName,defaultValue) {
                var editor = node[editorName];
                var annot = editor.getSession().getAnnotations();
                for (var k=0; k < annot.length; k++) {
                    if (annot[k].type === "error") {
                        noerr += annot.length;
                        break;
                    }
                }
                var val = editor.getValue();
                if (defaultValue) {
                    if (val.trim() == defaultValue.trim()) {
                        val = "";
                    }
                }
                editor.destroy();
                delete node[editorName];
                $("#"+targetName).val(val);
            }
            disposeEditor("editor","node-input-func");
            disposeEditor("initEditor","node-input-initialize", RED._("node-red:function.text.initialize"));
            disposeEditor("finalizeEditor","node-input-finalize", RED._("node-red:function.text.finalize"));

            $("#node-input-noerr").val(noerr);
            this.noerr = noerr;
            node.libs = getLibsList();
        },
        oneditcancel: function() {
            var node = this;

            node.editor.destroy();
            delete node.editor;

            node.initEditor.destroy();
            delete node.initEditor;

            node.finalizeEditor.destroy();
            delete node.finalizeEditor;
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-text-editor-row)");
            var height = $("#dialog-form").height();
            for (var i=0; i<rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-text-editor-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $("#dialog-form .node-text-editor").css("height",height+"px");

            var height = size.height;
            $("#node-input-init-editor").css("height", (height - 83)+"px");
            $("#node-input-func-editor").css("height", (height - 83)+"px");
            $("#node-input-finalize-editor").css("height", (height - 83)+"px");

            this.initEditor.resize();
            this.editor.resize();
            this.finalizeEditor.resize();

            $("#node-input-libs-container").css("height", (height - 192)+"px");
        },
        onadd: function() {
            if (this.name === '_DEFAULT_') {
                this.name = ''
                RED.actions.invoke("core:generate-node-names", this, {generateHistory: false})
            }
        }
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="function">
  <p> Uma funo JavaScript para abordar as mensagens recebidas pelo n. </p>
      <p> As mensagens so passadas como um objeto JavaScript chamado <code>msg</code>.</p>
      <p> Por conveno, estas iro possuir uma propriedade <code>msg.payload</code> contendo
         o corpo da mensagem.</p>
      <p>Espera-se que a funo retorne um objeto do tipo mensagem (ou vrios objetos do tipo mensagem), mas a funo pode escolher
         no retornar nada visando interromper um fluxo.</p>
      <p>A guia <b>On Start</b> contm um cdigo que ser executado sempre que o n for iniciado.
          A guia <b>On Stop</b> contm um cdigo que ser executado quando o n for parado.</p>
      <p>Se o cdigo <b>On Start</b> retornar um objeto do tipo promessa, o n no comear a tratar as mensagens
          at que a promessa seja resolvida.</p>
      <h3>Detalhes</h3>
      <p>Consulte a <a target="_blank" href="https://nodered.org/docs/writing-functions.html">documentao online</a>
      para obter maiores informaes sobre funes de escrita.</p>
      <h4>Enviando mensagens</h4>
      <p>A funo pode retornar as mensagens que deseja passar para os prximos ns
      no fluxo ou pode chamar <code>node.send(messages)</code>.</p>
      <p>A funo pode retornar/enviar:</p>
      <ul>
        <li>um nico objeto do tipo mensagem - passado para os ns conectados  primeira sada</li>
        <li>uma matriz de objetos do tipo mensagem - passada para ns conectados s sadas correspondentes</li>
      </ul>
      <p>Nota: O cdigo de configurao  executado durante a inicializao dos ns. Portanto, se <code>node.send</code> for chamado na guia de configurao, os ns subsequentes podem no serem capazes de receber a mensagem. </p>
      <p>Se qualquer elemento da matriz  ele prprio uma matriz do tipo mensagens, mltiplas
            mensagens so enviadas para a sada correspondente.</p>
      <p>Se nulo for retornado, por si s ou como um elemento da matriz, nnehuma
      mensagem  passada adiante.</p>
      <h4>Registro e tratamento de erros</h4>
      <p>Para registrar qualquer informao ou relatar um erro, as seguintes funes esto disponveis: </p>
        <ul>
            <li> <code>node.log("Log message")</code> </li>
            <li><code>node.warn("Warning"</code> </li>
            <li><code>node.error("Error")</code> </li>
        </ul>
      </p>
      <p> O n de Captura tambm pode ser usado para lidar com erros. Para invocar um n de Captura,
      passe <code>msg</code> como um segundo argumento para <code>node.error</code>: </p>
      <pre> node.error ("Erro", msg); </pre>
      <h4>Acessando informaes do n</h4>
      <p>As seguintes propriedades esto disponveis para acessar informaes sobre o n:</p>
      <ul>
          <li> <code> node.id </code> - id do n</li>
          <li> <code> node.name </code> - nome do n</li>
          <li> <code> node.outputCount </code> - nmero de sadas de ns</li>
      </ul>
      <h4>Usando variveis de ambiente </h4>
      <p> Variveis de ambiente podem ser acessadas usando <code>env.get("MY_ENV_VAR")</code>.</p> 
</script>

</div><div><!-- --- [red-module:node-red/switch] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="switch">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" style="width: calc(100% - 105px)" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="switch.label.property"></span></label>
        <input type="text" id="node-input-property" style="width: calc(100% - 105px)"/>
        <input type="hidden" id="node-input-outputs"/>
    </div>
    <div class="form-row node-input-rule-container-row">
        <ol id="node-input-rule-container"></ol>
    </div>
    <div class="form-row">
        <select id="node-input-checkall" style="width:100%; margin-right:5px;">
            <option value="true" data-i18n="switch.checkall"></option>
            <option value="false" data-i18n="switch.stopfirst"></option>
        </select>
    </div>
    <div class="form-row">
        <input type="checkbox" id="node-input-repair" style="display: inline-block; width: auto; vertical-align: top;">
        <label style="width: auto;" for="node-input-repair"><span data-i18n="switch.label.repair"></span></label></input>
    </div>
</script>

<script type="text/javascript">
(function() {
    var operators = [
        {v:"eq",t:"==",kind:'V'},
        {v:"neq",t:"!=",kind:'V'},
        {v:"lt",t:"<",kind:'V'},
        {v:"lte",t:"<=",kind:'V'},
        {v:"gt",t:">",kind:'V'},
        {v:"gte",t:">=",kind:'V'},
        {v:"hask",t:"switch.rules.hask",kind:'V'},
        {v:"btwn",t:"switch.rules.btwn",kind:'V'},
        {v:"cont",t:"switch.rules.cont",kind:'V'},
        {v:"regex",t:"switch.rules.regex",kind:'V'},
        {v:"true",t:"switch.rules.true",kind:'V'},
        {v:"false",t:"switch.rules.false",kind:'V'},
        {v:"null",t:"switch.rules.null",kind:'V'},
        {v:"nnull",t:"switch.rules.nnull",kind:'V'},
        {v:"istype",t:"switch.rules.istype",kind:'V'},
        {v:"empty",t:"switch.rules.empty",kind:'V'},
        {v:"nempty",t:"switch.rules.nempty",kind:'V'},
        {v:"head",t:"switch.rules.head",kind:'S'},
        {v:"index",t:"switch.rules.index",kind:'S'},
        {v:"tail",t:"switch.rules.tail",kind:'S'},
        {v:"jsonata_exp",t:"switch.rules.exp",kind:'O'},
        {v:"else",t:"switch.rules.else",kind:'O'}
    ];

    var previousValueType = {value:"prev",label:RED._("node-red:switch.previous"),hasValue:false};
    function clipValueLength(v) {
        if (v.length > 15) {
            return v.substring(0,15)+"...";
        }
        return v;
    }
    function prop2name(key) {
        var result = RED.utils.parseContextKey(key);
        return result.key;
    }
    function getValueLabel(t,v) {
        if (t === 'str') {
            return '"'+clipValueLength(v)+'"';
        } else if (t === 'msg') {
            return t+"."+clipValueLength(v);
        } else if (t === 'flow' || t === 'global') {
            return t+"."+clipValueLength(prop2name(v));
        }
        return clipValueLength(v);
    }

    function exportRule(rule) {
        var type = rule.find("select").val();
        var r = {t:type};
        if (!(type === "true" || type === "false" || type === "null" || type === "nnull" || type === "empty" || type === "nempty" || type === "else")) {
            if ((type === "btwn") || (type === "index")) {
                r.v = rule.find(".node-input-rule-btwn-value").typedInput('value');
                r.vt = rule.find(".node-input-rule-btwn-value").typedInput('type');
                r.v2 = rule.find(".node-input-rule-btwn-value2").typedInput('value');
                r.v2t = rule.find(".node-input-rule-btwn-value2").typedInput('type');
            } else if ((type === "head") || (type === "tail")) {
                r.v = rule.find(".node-input-rule-num-value").typedInput('value');
                r.vt = rule.find(".node-input-rule-num-value").typedInput('type');
            } else if (type === "istype") {
                r.v = rule.find(".node-input-rule-type-value").typedInput('type');
                r.vt = rule.find(".node-input-rule-type-value").typedInput('type');
            } else if (type === "jsonata_exp") {
                r.v = rule.find(".node-input-rule-exp-value").typedInput('value');
                r.vt = rule.find(".node-input-rule-exp-value").typedInput('type');
            } else {
                r.v = rule.find(".node-input-rule-value").typedInput('value');
                r.vt = rule.find(".node-input-rule-value").typedInput('type');
            }
            if (type === "regex") {
                r.case = rule.find(".node-input-rule-case").prop("checked");
            }
        }
        return r;
    }

    function createValueField(row, defaultType){
        return $('<input/>',{class:"node-input-rule-value",type:"text",style:"width: 100%;"}).appendTo(row)
            .typedInput({default:defaultType||'str',types:['msg','flow','global','str','num','jsonata','env',previousValueType]});
    }

    function createNumValueField(row, defaultType){
        return $('<input/>',{class:"node-input-rule-num-value",type:"text",style:"width: 100%;"}).appendTo(row)
            .typedInput({default:defaultType||'num',types:['flow','global','num','jsonata','env']});
    }

    function createExpValueField(row){
        return $('<input/>',{class:"node-input-rule-exp-value",type:"text",style:"width: 100%;"}).appendTo(row)
            .typedInput({default:'jsonata',types:['jsonata']});
    }

    function createBtwnValueField(row, defaultType){
        return $('<input/>',{class:"node-input-rule-btwn-value",type:"text",style:"width: 100%;"}).appendTo(row)
                .typedInput({default:defaultType||'num',types:['msg','flow','global','str','num','jsonata','env',previousValueType]});
    }

    function createBtwnValue2Field(row3, andLabel, defaultType){
        $('<div/>',{class:"node-input-rule-btwn-label", style:"width: 120px; text-align: right;"}).text(" "+andLabel+" ").appendTo(row3);
        var row3InputCell = $('<div/>',{style:"flex-grow:1; margin-left: 5px;"}).appendTo(row3);
        return $('<input/>',{class:"node-input-rule-btwn-value2",type:"text",style:"width: 100%"}).appendTo(row3InputCell)
            .typedInput({default:defaultType||'num',types:['msg','flow','global','str','num','jsonata','env',previousValueType]});
    }

    function createTypeValueField(row, defaultType){
        return $('<input/>',{class:"node-input-rule-type-value",type:"text",style:"width: 100%;"}).appendTo(row).typedInput({default:defaultType || 'string',types:[
            {value:"string",label:RED._("common.type.string"),hasValue:false,icon:"red/images/typedInput/az.svg"},
            {value:"number",label:RED._("common.type.number"),hasValue:false,icon:"red/images/typedInput/09.svg"},
            {value:"boolean",label:RED._("common.type.boolean"),hasValue:false,icon:"red/images/typedInput/bool.svg"},
            {value:"array",label:RED._("common.type.array"),hasValue:false,icon:"red/images/typedInput/json.svg"},
            {value:"buffer",label:RED._("common.type.buffer"),hasValue:false,icon:"red/images/typedInput/bin.svg"},
            {value:"object",label:RED._("common.type.object"),hasValue:false,icon:"red/images/typedInput/json.svg"},
            {value:"json",label:RED._("common.type.jsonString"),hasValue:false,icon:"red/images/typedInput/json.svg"},
            {value:"undefined",label:RED._("common.type.undefined"),hasValue:false},
            {value:"null",label:RED._("common.type.null"),hasValue:false}
        ]});
    }

    RED.nodes.registerType('switch', {
        color: "#E2D96E",
        category: 'function',
        defaults: {
            name: {value:""},
            property: {value:"payload", required:true,
                       label:RED._("node-red:common.label.payload"),
                       validate: RED.validators.typedInput("propertyType", false)},
            propertyType: { value:"msg" },
            rules: {value:[{t:"eq", v:"", vt:"str"}]},
            checkall: {value:"true", required:true},
            repair: {value:false},
            outputs: {value:1}
        },
        inputs: 1,
        outputs: 1,
        outputLabels: function(index) {
            var rule = this.rules[index];
            var label = "";
            if (rule) {
                for (var i=0;i<operators.length;i++) {
                    if (operators[i].v === rule.t) {
                        label = /^switch/.test(operators[i].t)?this._(operators[i].t):operators[i].t;
                        break;
                    }
                }
                if ((rule.t === 'btwn') || (rule.t === 'index')) {
                    label += " "+getValueLabel(rule.vt,rule.v)+" & "+getValueLabel(rule.v2t,rule.v2);
                } else if (rule.t !== 'true' && rule.t !== 'false' && rule.t !== 'null' && rule.t !== 'nnull' && rule.t !== 'empty' && rule.t !== 'nempty' && rule.t !== 'else' ) {
                    label += " "+getValueLabel(rule.vt,rule.v);
                }
                return label;
            }
        },
        icon: "switch.svg",
        label: function() {
            return this.name||this._("switch.switch");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;


            $("#node-input-property").typedInput({default:this.propertyType||'msg',types:['msg','flow','global','jsonata','env']});
            var outputCount = $("#node-input-outputs").val("{}");

            var andLabel = this._("switch.and");
            var caseLabel = this._("switch.ignorecase");

            $("#node-input-rule-container").css('min-height','150px').css('min-width','450px').editableList({
                addItem: function(container,i,opt) {
                    var focusValueField = false;
                    if (!opt.hasOwnProperty('r')) {
                        opt.r = {};
                        if (i > 0) {
                            var lastRule = $("#node-input-rule-container").editableList('getItemAt',i-1);
                            var exportedRule = exportRule(lastRule.element);
                            if (exportedRule.t === "istype") {
                                opt.r.vt = (exportedRule.vt === "number") ? "num" : "str";
                            } else {
                                opt.r.vt = exportedRule.vt;
                            }
                            opt.r.v = "";
                            // We could copy the value over as well and preselect it (see the 'activeElement' code below)
                            // But not sure that feels right. Is copying over the last value 'expected' behaviour?
                            // It would make sense for an explicit 'copy' action, but not sure where the copy button would
                            // go for each rule without being wasted space for most users.
                            // opt.r.v = exportedRule.v;
                            focusValueField = true;
                        }
                    }

                    opt.element = container;
                    var rule = opt.r;
                    if (!rule.hasOwnProperty('t')) {
                        rule.t = 'eq';
                    }
                    if (!opt.hasOwnProperty('i')) {
                        opt._i = Math.floor((0x99999-0x10000)*Math.random()).toString();
                    }
                    container.css({
                        overflow: 'hidden',
                        whiteSpace: 'nowrap',
                        display: "flex",
                        "align-items":"center"
                    });
                    var inputRows = $('<div></div>',{style:"flex-grow:1"}).appendTo(container);
                    var row = $('<div></div>',{style:"display: flex;"}).appendTo(inputRows);
                    var row2 = $('<div/>',{style:"display: flex; padding-top: 5px; padding-left: 175px;"}).appendTo(inputRows);
                    var row3 = $('<div/>',{style:"display: flex; padding-top: 5px; align-items: center"}).appendTo(inputRows);

                    var row4 = $('<div/>',{style:"visibility: hidden; height: 0px;"}).appendTo(inputRows);
                    var textSpan = $("<span/>").appendTo(row4);
                    var selectField = $('<select/>',{style:"width:120px; text-align: center;"}).appendTo(row);
                    var group0 = $('<optgroup/>', { label: RED._("node-red:switch.label.value-rules") }).appendTo(selectField);
                    for (var d in operators) {
                        if(operators[d].kind === 'V') {
                            group0.append($("<option></option>").val(operators[d].v).text(/^switch/.test(operators[d].t)?node._(operators[d].t):operators[d].t));
                        }
                    }
                    var group1 = $('<optgroup/>', { label: RED._("node-red:switch.label.sequence-rules") }).appendTo(selectField);
                    for (var d in operators) {
                        if(operators[d].kind === 'S') {
                            group1.append($("<option></option>").val(operators[d].v).text(/^switch/.test(operators[d].t)?node._(operators[d].t):operators[d].t));
                        }
                    }
                    for (var d in operators) {
                        if(operators[d].kind === 'O') {
                            selectField.append($("<option></option>").val(operators[d].v).text(/^switch/.test(operators[d].t)?node._(operators[d].t):operators[d].t));
                        }
                    }

                    var rowInputCell = $('<div>',{style:"flex-grow:1; margin-left: 5px;"}).appendTo(row);


                    var valueField = null;
                    var numValueField = null;
                    var expValueField = null;
                    var btwnAndLabel = null;
                    var btwnValueField = null;
                    var btwnValue2Field = null;
                    var typeValueField = null;

                    var finalspan = $('<span/>',{style:"margin-left: 5px;"}).appendTo(container);
                    finalspan.append(' &#8594; <span class="node-input-rule-index">'+(i+1)+'</span> ');

                    var caseSensitive = $('<input/>',{id:"node-input-rule-case-"+i,class:"node-input-rule-case",type:"checkbox",style:"width:auto;vertical-align:top"}).appendTo(row2);
                    $('<label/>',{for:"node-input-rule-case-"+i,style:"margin-left: 3px;"}).text(caseLabel).appendTo(row2);

                    selectField.on("change", function() {
                        var fieldToFocus;
                        var type = selectField.val();
                        if (valueField) { valueField.typedInput('hide'); }
                        if (expValueField) { expValueField.typedInput('hide'); }
                        if (numValueField) { numValueField.typedInput('hide'); }
                        if (typeValueField) { typeValueField.typedInput('hide'); }
                        if (btwnValueField) { btwnValueField.typedInput('hide'); }
                        if (btwnValue2Field) { btwnValue2Field.typedInput('hide'); }

                        if ((type === "btwn") || (type === "index")) {
                            if (!btwnValueField){
                                btwnValueField = createBtwnValueField(rowInputCell);
                            }
                            btwnValueField.typedInput('show');
                            fieldToFocus = btwnValueField;
                        } else if ((type === "head") || (type === "tail")) {
                            if (!numValueField){
                                numValueField = createNumValueField(rowInputCell);
                            }
                            numValueField.typedInput('show');
                            fieldToFocus = numValueField;
                        } else if (type === "jsonata_exp") {
                            if (!expValueField){
                                expValueField = createExpValueField(rowInputCell);
                            }
                            expValueField.typedInput('show');
                            fieldToFocus = expValueField;

                        } else if (type === "istype") {
                            if (!typeValueField){
                                typeValueField = createTypeValueField(rowInputCell);
                            }
                            typeValueField.typedInput('show');
                            fieldToFocus = typeValueField;
                        } else if (! (type === "true" || type === "false" || type === "null" || type === "nnull" || type === "empty" || type === "nempty" || type === "else" )) {
                                if (!valueField){
                                    valueField = createValueField(rowInputCell);
                                }
                                valueField.typedInput('show');
                                fieldToFocus = valueField;
                        }
                        if (type === "regex") {
                            row2.show();
                            row3.hide();
                        } else if ((type === "btwn") || (type === "index")) {
                            row2.hide();
                            row3.show();
                            if (!btwnValue2Field){
                                btwnValue2Field = createBtwnValue2Field(row3, andLabel);
                            }
                            btwnValue2Field.typedInput('show');
                        } else {
                            row2.hide();
                            row3.hide();
                        }
                        var selectedLabel = selectField.find("option:selected").text();

                        textSpan.text(selectedLabel);
                        var width = textSpan.width();
                        if (width <= 30) {
                            selectField.outerWidth(60);
                        } else if (width <= 85) {
                            selectField.outerWidth(120);
                        } else {
                            selectField.width("auto")
                        }
                        if (fieldToFocus) {
                            fieldToFocus.typedInput("focus");
                        }
                        // Preselect the contents of the element
                        // if (focusValueField && document.activeElement) {
                        //     document.activeElement.selectionStart = 0;
                        //     document.activeElement.selectionEnd = document.activeElement.value.length;
                        // }
                    });
                    selectField.val(rule.t);

                    if ((rule.t == "btwn") || (rule.t == "index")) {
                        btwnValueField = createBtwnValueField(rowInputCell,rule.vt||'num');
                        btwnValueField.typedInput('value',rule.v);
                        btwnValue2Field = createBtwnValue2Field(row3, andLabel,rule.v2t||'num');
                        btwnValue2Field.typedInput('value',rule.v2);
                    } else if ((rule.t === "head") || (rule.t === "tail")) {
                        numValueField = createNumValueField(rowInputCell,rule.vt||'num');
                        numValueField.typedInput('value',rule.v);
                    } else if (rule.t === "istype") {
                        typeValueField = createTypeValueField(rowInputCell,rule.vt);
                        typeValueField.typedInput('value',rule.vt);
                    } else if (rule.t === "jsonata_exp") {
                        expValueField = createExpValueField(rowInputCell,rule.vt||'jsonata');
                        expValueField.typedInput('value',rule.v);
                    } else if (typeof rule.v != "undefined") {
                        valueField = createValueField(rowInputCell,rule.vt||'str');
                        valueField.typedInput('value',rule.v);
                    }
                    caseSensitive.prop('checked',!!rule.case);
                    selectField.change();

                    var currentOutputs = JSON.parse(outputCount.val()||"{}");
                    currentOutputs[opt.hasOwnProperty('i')?opt.i:opt._i] = i;
                    outputCount.val(JSON.stringify(currentOutputs));
                },
                removeItem: function(opt) {
                    var currentOutputs = JSON.parse(outputCount.val()||"{}");
                    if (opt.hasOwnProperty('i')) {
                        currentOutputs[opt.i] = -1;
                    } else {
                        delete currentOutputs[opt._i];
                    }
                    var rules = $("#node-input-rule-container").editableList('items');
                    rules.each(function(i) {
                        $(this).find(".node-input-rule-index").html(i+1);
                        var data = $(this).data('data');
                        currentOutputs[data.hasOwnProperty('i')?data.i:data._i] = i;
                    });
                    outputCount.val(JSON.stringify(currentOutputs));
                },
                sortItems: function(rules) {
                    var currentOutputs = JSON.parse(outputCount.val()||"{}");
                    var rules = $("#node-input-rule-container").editableList('items');
                    rules.each(function(i) {
                        $(this).find(".node-input-rule-index").html(i+1);
                        var data = $(this).data('data');
                        currentOutputs[data.hasOwnProperty('i')?data.i:data._i] = i;
                    });
                    outputCount.val(JSON.stringify(currentOutputs));
                },
                sortable: true,
                removable: true
            });

            for (var i=0;i<this.rules.length;i++) {
                var rule = this.rules[i];
                $("#node-input-rule-container").editableList('addItem',{r:rule,i:i});
            }
        },
        oneditsave: function() {
            var rules = $("#node-input-rule-container").editableList('items');
            var node = this;
            node.rules = [];
            rules.each(function(i) {
                node.rules.push(exportRule($(this)));
            });
            this.propertyType = $("#node-input-property").typedInput('type');
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-input-rule-container-row)");
            var height = size.height;
            for (var i=0;i<rows.length;i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-input-rule-container-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            height += 16;
            $("#node-input-rule-container").editableList('height',height);
        }
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="switch">
    <p>Encaminhe mensagens com base em seus valores de propriedade ou posio de sequncia.</p>
    <h3>Detalhes</h3>
    <p>Quando chega uma mensagem, o n ir avaliar cada uma das regras definidas
    e encaminhar a mensagem para as sadas correspondentes de quaisquer regras que combinem . </p>
    <p>Opcionalmente, o n pode ser configurado para parar de avaliar as regras assim que encontrar uma
    que combine.</p>
    <p> As regras podem ser avaliadas em relao a uma propriedade da mensagem individual, um fluxo (ou uma
    propriedade de contexto global), varivel de ambiente ou o resultado de uma expresso JSONata.</p>
    <h4>Regras</h4>
    <p>Existem quatro tipos de regras:</p>
    <ol>
        <li>Regras de <b>valor</b> so avaliadas em relao  propriedade configurada</li>
        <li>Regras de <b>sequncia</b> podem ser usadas em sequncias de mensagens, como aquelas
            gerado pelo n Separador</li>
        <li>Uma <b>Expresso</b> JSONata pode ser fornecida e avaliada,
            em relao a toda mensagem; obtendo-se a correspondncia se a expresso retornar
            o valor booliano verdadeiro. </li>
        <li>Uma regra <b>Caso contrrio</b> pode ser usada para combinao se nenhuma das regras anteriores
            encontrarem correspondentes.</li>
    </ol>
    <h4>Notas</h4>
    <p> As regras <code> verdadeiro/falso</code> e <code> nulo</code> executam regras estritas
        na comparaao desses tipos e no fazem convero entre eles .</p>
    <p> As regras <code>est vazio</code> e <code> no est vazio</code> podem ser usadas para testar o comprimento de: cadeia de caracteres, matrizes e armazenamentos temporrios ou o nmero de propriedades que um Objeto possui. Nenhuma regra ser aprovada se a propriedade que est sendo testada tiver um <code>booliano</code>, <code>mulo</code>
        ou valor <code>indefinido</code>.</p>
    <h4>Lidando com sequncias de mensagens</h4>
    <p>Por padro, o n no modifica a propriedade <code>msg.parts</code> das mensagens
        que fazem parte de uma sequncia.</p>
    <p>A opo<b>recriar sequncias de mensagens</b> pode ser habilitada para gerar novas sequncias de mensagens
        para cada regra que corresponda. Neste modo, o n ir armazenar temporariamente toda a sequncia de entrada
        antes de enviar as novas sequncias. A configurao de tempo de execuo <code>nodeMessageBufferMaxLength</code>
        pode ser usada para limitar o nmero de mensagens que os ns iro armazenar temporariamente.</p> 
</script>

</div><div><!-- --- [red-module:node-red/change] --- -->

<script type="text/html" data-template-name="change">
    <style>
        ol#node-input-rule-container .red-ui-typedInput-container {
            flex:1;
        }
    </style>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" style="width: calc(100% - 105px)"  data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row" style="margin-bottom:0;">
        <label><i class="fa fa-list"></i> <span data-i18n="change.label.rules"></span></label>
    </div>
    <div class="form-row node-input-rule-container-row">
        <ol id="node-input-rule-container"></ol>
    </div>
</script>

<script type="text/javascript">
(function() {
    function isInvalidProperty(v,vt) {
        if (/msg|flow|global/.test(vt)) {
            if (!RED.utils.validatePropertyExpression(v)) {
                return RED._("node-red:change.errors.invalid-prop", {
                    property: v
                });
            }
        } else if (vt === "jsonata") {
            try{ jsonata(v); } catch(e) {
                return RED._("node-red:change.errors.invalid-expr", {
                    error: e.message
                });
            }
        } else if (vt === "json") {
            try{ JSON.parse(v); } catch(e) {
                return RED._("node-red:change.errors.invalid-json-data", {
                    error: e.message
                });
            }
        }
        return false;
    }

    RED.nodes.registerType('change', {
        color: "#E2D96E",
        category: 'function',
        defaults: {
            name: {value:""},
            rules:{value:[{t:"set",p:"payload",pt:"msg",to:"",tot:"str"}],validate: function(rules, opt) {
                var msg;
                if (!rules || rules.length === 0) { return true }
                for (var i=0;i<rules.length;i++) {
                    var r = rules[i];
                    if (r.t === 'set') {
                        if (msg = isInvalidProperty(r.p,r.pt)) {
                            return msg;
                        }
                        if (msg = isInvalidProperty(r.to,r.tot)) {
                            return msg;
                        }
                    } else if (r.t === 'change') {
                        if (msg = isInvalidProperty(r.p,r.pt)) {
                            return msg;
                        }
                        if(msg = isInvalidProperty(r.from,r.fromt)) {
                            return msg;
                        }
                        if(msg = isInvalidProperty(r.to,r.tot)) {
                            return msg;
                        }
                    } else if (r.t === 'delete') {
                        if (msg = isInvalidProperty(r.p,r.pt)) {
                            return msg;
                        }
                    } else if (r.t === 'move') {
                        if (msg = isInvalidProperty(r.p,r.pt)) {
                            return msg;
                        }
                        if (msg = isInvalidProperty(r.to,r.tot)) {
                            return msg;
                        }
                    }
                }
                return true;
            }},
            // legacy
            action: {value:""},
            property: {value:""},
            from: {value:""},
            to: {value:""},
            reg: {value:false}
        },
        inputs: 1,
        outputs: 1,
        icon: "swap.svg",
        label: function() {
            function prop2name(type, key) {
                var result = RED.utils.parseContextKey(key);
                return type +"." +result.key;
            }
            if (this.name) {
                return this.name;
            }
            if (!this.rules) {
                if (this.action === "replace") {
                    return this._("change.label.set",{property:"msg."+this.property});
                } else if (this.action === "change") {
                    return this._("change.label.change",{property:"msg."+this.property});
                } else if (this.action === "move") {
                    return this._("change.label.move",{property:"msg."+this.property});
                } else {
                    return this._("change.label.delete",{property:"msg."+this.property});
                }
            } else {
                if (this.rules.length == 1) {
                    if (this.rules[0].t === "set") {
                        return this._("change.label.set",{property:prop2name((this.rules[0].pt||"msg"), this.rules[0].p)});
                    } else if (this.rules[0].t === "change") {
                        return this._("change.label.change",{property:prop2name((this.rules[0].pt||"msg"), this.rules[0].p)});
                    } else if (this.rules[0].t === "move") {
                        return this._("change.label.move",{property:prop2name((this.rules[0].pt||"msg"), this.rules[0].p)});
                    } else {
                        return this._("change.label.delete",{property:prop2name((this.rules[0].pt||"msg"), this.rules[0].p)});
                    }
                } else {
                    return this._("change.label.changeCount",{count:this.rules.length});
                }
            }
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            var set = this._("change.action.set");
            var change = this._("change.action.change");
            var del = this._("change.action.delete");
            var move = this._("change.action.move");
            var to = this._("change.action.to");
            var toValueLabel = this._("change.action.toValue",to);
            var search = this._("change.action.search");
            var replace = this._("change.action.replace");
            var regex = this._("change.label.regex");
            var deepCopyLabel = this._("change.label.deepCopy");

            function createPropertyValue(row2_1, row2_2, defaultType) {
                var propValInput = $('<input/>',{class:"node-input-rule-property-value",type:"text"})
                    .appendTo(row2_1)
                    .typedInput({default:defaultType||'str',types:['msg','flow','global','str','num','bool','json','bin','date','jsonata','env']});

                var dcLabel = $('<label style="padding-left: 130px;"></label>').appendTo(row2_2);
                var deepCopy = $('<input type="checkbox" class="node-input-rule-property-deepCopy" style="width: auto; margin: 0 6px 0 0">').appendTo(dcLabel)
                $('<span>').text(deepCopyLabel).appendTo(dcLabel)

                propValInput.on("change", function(evt,type,val) {
                    row2_2.toggle(type === "msg" || type === "flow" || type === "global" || type === "env");
                })
                return [propValInput, deepCopy];
            }
            function createFromValue(row3_1, defaultType) {
                return $('<input/>',{class:"node-input-rule-property-search-value",type:"text"})
                .appendTo(row3_1)
                .typedInput({default:defaultType||'str',types:['msg','flow','global','str','re','num','bool','env']});
            }
            function createToValue(row3_2, defaultType) {
                return $('<input/>',{class:"node-input-rule-property-replace-value",type:"text"})
                .appendTo(row3_2)
                .typedInput({default:defaultType||'str',types:['msg','flow','global','str','num','bool','json','bin','env']});
            }
            function createMoveValue(row4, defaultType) {
                return $('<input/>',{class:"node-input-rule-property-move-value",type:"text"})
                .appendTo(row4)
                .typedInput({default:defaultType||'msg',types:['msg','flow','global']});
            }

            $('#node-input-rule-container').css('min-height','150px').css('min-width','450px').editableList({
                addItem: function(container,i,opt) {
                    var rule = opt;
                    if (!rule.hasOwnProperty('t')) {
                        rule = {t:"set",p:"payload",to:"",tot:"str"};
                    }
                    if (rule.t === "change" && rule.re) {
                        rule.fromt = 're';
                        delete rule.re;
                    }
                    if (rule.t === "set" && !rule.tot) {
                        if (rule.to.indexOf("msg.") === 0 && !rule.tot) {
                            rule.to = rule.to.substring(4);
                            rule.tot = "msg";
                        } else {
                            rule.tot = "str";
                        }
                    }
                    if (rule.t === "move" && !rule.tot) {
                        rule.tot = "msg";
                    }
                    container.css({
                        overflow: 'hidden',
                        whiteSpace: 'nowrap'
                    });
                    let fragment = document.createDocumentFragment();
                    var row1 = $('<div/>',{style:"display:flex; align-items: baseline"}).appendTo(fragment);
                    var row2 = $('<div/>',{style:"margin-top:8px;"}).appendTo(fragment);
                    var row3 = $('<div/>',{style:"margin-top:8px;"}).appendTo(fragment);
                    var row4 = $('<div/>',{style:"display:flex;margin-top:8px;align-items: baseline"}).appendTo(fragment);

                    var selectField = $('<select/>',{class:"node-input-rule-type",style:"width:110px; margin-right:10px;"}).appendTo(row1);
                    var selectOptions = [{v:"set",l:set},{v:"change",l:change},{v:"delete",l:del},{v:"move",l:move}];
                    for (var i=0; i<4; i++) {
                        selectField.append($("<option></option>").val(selectOptions[i].v).text(selectOptions[i].l));
                    }

                    var propertyName = $('<input/>',{class:"node-input-rule-property-name",type:"text"})
                        .appendTo(row1)
                        .typedInput({types:['msg','flow','global']});

                    var row2_1 = $('<div/>', {style:"display:flex;align-items: baseline"}).appendTo(row2);
                    $('<div/>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(toValueLabel)
                        .appendTo(row2_1);

                    var row2_2 = $('<div/>', {style:"margin-top: 4px;"}).appendTo(row2);

                    var row3_1 = $('<div/>', {style:"display:flex;align-items: baseline"}).appendTo(row3);
                    $('<div/>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(search)
                        .appendTo(row3_1);

                    var row3_2 = $('<div/>',{style:"display:flex;margin-top:8px;align-items: baseline"}).appendTo(row3);
                    $('<div/>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(replace)
                        .appendTo(row3_2);

                    $('<div/>',{style:"display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;"})
                        .text(to)
                        .appendTo(row4);

                    let propertyValue = null;
                    let fromValue = null;
                    let toValue = null;
                    let moveValue = null;

                    selectField.on("change", function() {
                        var type = $(this).val();
                        if (propertyValue) {
                            propertyValue.typedInput('hide');
                        }
                        if (fromValue) {
                            fromValue.typedInput('hide');
                        }
                        if (toValue) {
                            toValue.typedInput('hide');
                        }
                        if (moveValue) {
                            moveValue.typedInput('hide');
                        }

                        if (type == "set") {
                            if(!propertyValue) {
                                var parts = createPropertyValue(row2_1, row2_2);
                                propertyValue = parts[0];
                                deepCopy = parts[1];
                            }
                            propertyValue.typedInput('show');
                            row2.show();
                            row3.hide();
                            row4.hide();
                        } else if (type == "change") {
                            if(!fromValue) {
                                fromValue = createFromValue(row3_1);
                            }
                            fromValue.typedInput('show');
                            if(!toValue) {
                                toValue = createToValue(row3_2);
                            }
                            toValue.typedInput('show');
                            row2.hide();
                            row3.show();
                            row4.hide();
                        } else if (type == "delete") {
                            row2.hide();
                            row3.hide();
                            row4.hide();
                        } else if (type == "move") {
                            if(!moveValue) {
                                moveValue = createMoveValue(row4);
                            }
                            moveValue.typedInput('show');
                            row2.hide();
                            row3.hide();
                            row4.show();
                        }
                    });

                    selectField.val(rule.t);
                    propertyName.typedInput('value',rule.p);
                    propertyName.typedInput('type',rule.pt);
                    if (rule.t == "set") {
                        var parts = createPropertyValue(row2_1, row2_2, rule.tot);
                        propertyValue = parts[0];
                        deepCopy = parts[1];
                        propertyValue.typedInput('value',rule.to);
                        deepCopy.prop("checked", !!rule.dc);
                    }
                    if (rule.t == "move") {
                        moveValue = createMoveValue(row4,rule.tot);
                        moveValue.typedInput('value',rule.to);
                    }
                    if (rule.t == "change") {
                        fromValue = createFromValue(row3_1, rule.fromt);
                        fromValue.typedInput('value',rule.from);

                        toValue = createToValue(row3_2,rule.tot);
                        toValue.typedInput('value',rule.to);
                    }
                    selectField.change();
                    container[0].appendChild(fragment);
                },
                removable: true,
                sortable: true
            });

            if (!this.rules) {
                var rule = {
                    t:(this.action=="replace"?"set":this.action),
                    p:this.property,
                    pt:"msg"
                };

                if ((rule.t === "set")||(rule.t === "move")) {
                    rule.to = this.to;
                } else if (rule.t === "change") {
                    rule.from = this.from;
                    rule.to = this.to;
                    rule.re = this.reg;
                }

                delete this.to;
                delete this.from;
                delete this.reg;
                delete this.action;
                delete this.property;

                this.rules = [rule];
            }

            for (var i=0; i<this.rules.length; i++) {
                var rule = this.rules[i];
                $("#node-input-rule-container").editableList('addItem',rule);
            }
        },
        oneditsave: function() {
            var rules = $("#node-input-rule-container").editableList('items');
            var node = this;
            node.rules= [];
            rules.each(function(i) {
                var rule = $(this);
                var type = rule.find(".node-input-rule-type").val();
                var r = {
                    t:type,
                    p:rule.find(".node-input-rule-property-name").typedInput('value'),
                    pt:rule.find(".node-input-rule-property-name").typedInput('type')
                };
                if (type === "set") {
                    r.to = rule.find(".node-input-rule-property-value").typedInput('value');
                    r.tot = rule.find(".node-input-rule-property-value").typedInput('type');
                    if (rule.find(".node-input-rule-property-deepCopy").prop("checked")) {
                        r.dc = true;
                    }
                } else if (type === "move") {
                    r.to = rule.find(".node-input-rule-property-move-value").typedInput('value');
                    r.tot = rule.find(".node-input-rule-property-move-value").typedInput('type');
                } else if (type === "change") {
                    r.from = rule.find(".node-input-rule-property-search-value").typedInput('value');
                    r.fromt = rule.find(".node-input-rule-property-search-value").typedInput('type');
                    r.to = rule.find(".node-input-rule-property-replace-value").typedInput('value');
                    r.tot = rule.find(".node-input-rule-property-replace-value").typedInput('type');
                }
                node.rules.push(r);
            });
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-input-rule-container-row)");
            var height = size.height;
            for (var i=0; i<rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-input-rule-container-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            height += 16;
            $("#node-input-rule-container").editableList('height',height);
        }
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="change">
  <p>Definir, alterar, excluir ou mover propriedades de uma mensagem, contexto de fluxo ou contexto global.</p>
  <p> O n pode especificar vrias regras que sero aplicadas na ordem em que estiverem definidas.</p>
  <h3>Detalhes</h3>
  <p>As operaes disponveis so:</p>
  <dl class="message-properties">
  <dt>Definir</dt>
  <dd>define uma propriedade. O valor pode ser uma variedade de tipos diferentes ou
          pode ser obtido de uma mensagem existente ou propriedade de contexto. </dd>
  <dt>Mudar</dt>
  <dd>pesquisa &amp; substitui partes da propriedade. Se as expresses regulares
      estiverem ativadas, a propriedade "substituir por" pode incluir grupos de captura, para
      exemplo <code>$1</code>. Substituir s mudar o tipo se houver
      uma correspondncia completa.</dd>
  <dt>Excluir</dt>
  <dd>exclu uma propriedade.</dd>
  <dt>Mover</dt>
  <dd>move ou renomeia uma propriedade.</dd>
  </dl>
  <p> O tipo "expresso" usa a linguagem de consulta e
  expresso <a href="http://jsonata.org/" target="_new">JSONata</a>
  </p>
</script>

</div><div><!-- --- [red-module:node-red/range] --- -->

<script type="text/html" data-template-name="range">
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="common.label.property"></span></label>
        <input type="text" id="node-input-property" style="width:calc(70% - 1px)"/>
    </div>
    <div class="form-row">
        <label for="node-input-action"><i class="fa fa-dot-circle-o"></i> <span data-i18n="range.label.action"></span></label>
        <select id="node-input-action" style="width:70%;">
            <option value="scale" data-i18n="range.scale.payload"></option>
            <option value="clamp" data-i18n="range.scale.limit"></option>
            <option value="roll" data-i18n="range.scale.wrap"></option>
            <option value="drop" data-i18n="range.scale.drop"></option>
        </select>
    </div>
    <br/>
    <div class="form-row"><i class="fa fa-sign-in"></i> <span data-i18n="range.label.inputrange"></span>:</div>
    <div class="form-row"><label></label>
        <span data-i18n="range.label.from"></span>: <input type="text" id="node-input-minin" data-i18n="[placeholder]range.placeholder.min" style="width:100px;"/>
        &nbsp;&nbsp;<span data-i18n="range.label.to"></span>: <input type="text" id="node-input-maxin" data-i18n="[placeholder]range.placeholder.maxin" style="width:100px;"/>
    </div>
    <div class="form-row"><i class="fa fa-sign-out"></i> <span data-i18n="range.label.resultrange"></span>:</div>
    <div class="form-row"><label></label>
        <span data-i18n="range.label.from"></span>: <input type="text" id="node-input-minout" data-i18n="[placeholder]range.placeholder.min" style="width:100px;"/>
        &nbsp;&nbsp;<span data-i18n="range.label.to"></span>: <input type="text" id="node-input-maxout" data-i18n="[placeholder]range.placeholder.maxout" style="width:100px;"/>
    </div>
    <br/>
    <div class="form-row"><label></label>
        <input type="checkbox" id="node-input-round" style="display: inline-block; width: auto; vertical-align: top;">
        <label style="width: auto;" for="node-input-round"><span data-i18n="range.label.roundresult"></span></label></input>
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips" id="node-tip"><span data-i18n="range.tip"></span></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('range', {
        color: "#E2D96E",
        category: 'function',
        defaults: {
            minin: {value:"", required: true,
                    label:RED._("node-red:range.label.minin"),
                    validate:RED.validators.number(false)},
            maxin: {value:"", required: true,
                    label:RED._("node-red:range.label.maxin"),
                    validate:RED.validators.number(false)},
            minout: {value:"", required:true,
                     label:RED._("node-red:range.label.minout"),
                     validate:RED.validators.number(false)},
            maxout: {value:"", required:true,
                     label:RED._("node-red:range.label.maxout"),
                     validate:RED.validators.number(false)},
            action: {value:"scale"},
            round: {value:false},
            property: {value:"payload",required:true,
                       label:RED._("node-red:common.label.property")},
            name: {value:""}
        },
        inputs: 1,
        outputs: 1,
        icon: "range.svg",
        label: function() {
            if (this.minout !== "" && this.maxout !== "") { return this.name||this.minout + " - " + this.maxout; }
            else { return this.name||this._("range.range"); }
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            if (this.property === undefined) {
                $("#node-input-property").val("payload");
            }
            $("#node-input-property").typedInput({default:'msg',types:['msg']});
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="range">
<p>Mapeia um valor numrico para um intervalo diferente.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt><span class="property-type">nmero</span> da carga til</dt>
        <dd>A carga til <i>tem que</i> ser um nmero. Qualquer outra coisa tentar ser
        analisada gramaticalmente como nmero e rejeitada se falhar.</dd>
    </dl>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt><span class="property-type"> nmero</span> da carga til</dt>
        <dd> O valor mapeado para a novo intervalo.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Este n ir dimensionar linearmente o valor recebido. Por padro, o resultado
    no est restrito ao intervalo definido no n.</p>
    <p><i> Escala e limita ao intervalo de destino </i>significa que o resultado nunca estar fora
    do intervalo especificado dentro do intervalo que se quer alcanar.</p>
    <p><i>Escala e empacota dentro do intervalo de destino</i> significa que o resultado
    ser empacotado dentro do intervalo que se quer alcanar.</p>
    <p>Por exemplo, uma entrada de 0 - 10 mapeada para 0 - 100.</p>
    <table style="outline-width: #888 solid thin">
        <tr><th width="80px">modo</th><th width="80px"> entrada </th> <th width="80px"> sada </th></tr>
        <tr><td><center>escala</center></td><td><center>12</center></td><td><center>120</center> </td></tr>
        <tr><td><center>limite</center></td><td><center>12</center></td><td><center>100</center> </td></tr>
        <tr><td><center>empacotamento</center></td><td><center>12</center></td><td><center>20</center></td></tr>
    </table>
</script>

</div><div><!-- --- [red-module:node-red/template] --- -->

<script type="text/html" data-template-name="template">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></div>
    </div>
    <div class="form-row">
        <label for="node-input-field"><i class="fa fa-ellipsis-h"></i> <span data-i18n="template.label.property"></span></label>
        <input type="text" id="node-input-field" placeholder="payload" style="width:250px;">
        <input type="hidden" id="node-input-fieldType">
    </div>
    <div class="form-row" style="position: relative; margin-bottom: 0px;">
        <label for="node-input-template"><i class="fa fa-file-code-o"></i> <span data-i18n="template.label.template"></span></label>
        <input type="hidden" id="node-input-template" autofocus="autofocus">
        <div style="position: absolute; right:0;display:inline-block; text-align: right; font-size: 0.8em;">
            <span data-i18n="template.label.format"></span>:
            <select id="node-input-format" style="width:110px; font-size: 10px !important;  height: 24px; padding:0;">
                <option value="handlebars">mustache</option>
                <option value="html">HTML</option>
                <option value="json">JSON</option>
                <option value="javascript">JavaScript</option>
                <option value="css">CSS</option>
                <option value="markdown">Markdown</option>
                <option value="php">PHP</option>
                <option value="python">Python</option>
                <option value="sql">SQL</option>
                <option value="yaml">YAML</option>
                <option value="text" data-i18n="template.label.none"></option>
            </select>
            <button type="button" id="node-template-expand-editor" class="red-ui-button red-ui-button-small"><i class="fa fa-expand"></i></button>
        </div>
    </div>
    <div class="form-row node-text-editor-row">
        <div style="height: 250px; min-height:150px;" class="node-text-editor" id="node-input-template-editor" ></div>
    </div>
    <div class="form-row">
        <label for="node-input-syntax"><i class="fa fa-code"></i> <span data-i18n="template.label.syntax"></span></label>
        <select id="node-input-syntax" style="width:180px;">
            <option value="mustache" data-i18n="template.label.mustache"></option>
            <option value="plain" data-i18n="template.label.plain"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-output"><i class="fa fa-long-arrow-right"></i> <span data-i18n="template.label.output"></span></label>
        <select id="node-input-output" style="width:180px;">
            <option value="str" data-i18n="template.label.plain"></option>
            <option value="json" data-i18n="template.label.json"></option>
            <option value="yaml" data-i18n="template.label.yaml"></option>
        </select>
    </div>

</script>

<script type="text/javascript">
    RED.nodes.registerType('template',{
        color:"rgb(243, 181, 103)",
        category: 'function',
        defaults: {
            name: {value:""},
            field: {value:"payload",
                    label:"payload",
                    validate:RED.validators.typedInput("fieldType", false)},
            fieldType: {value:"msg"},
            format: {value:"handlebars"},
            syntax: {value:"mustache"},
            template: {value:"This is the payload: {{payload}} !"},
            output: {value:"str"}
        },
        inputs:1,
        outputs:1,
        icon: "template.svg",
        label: function() {
            return this.name||this._("template.template");;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            const that = this;
            const stateId = RED.editor.generateViewStateId("node", this, "");
            if (!this.field) {
                this.field = 'payload';
                $("#node-input-field").val("payload");
            }
            if (!this.fieldType) {
                this.fieldType = 'msg';
            }
            if (!this.syntax) {
                this.syntax = 'mustache';
                $("#node-input-syntax").val(this.syntax);
            }
            $("#node-input-field").typedInput({
                default: 'msg',
                types: ['msg','flow','global'],
                typeField: $("#node-input-fieldType")
            });
            this.editor = RED.editor.createEditor({
                id: 'node-input-template-editor',
                mode: 'ace/mode/html',
                stateId: stateId,
                value: $("#node-input-template").val()
            });
            RED.library.create({
                url:"templates", // where to get the data from
                type:"template", // the type of object the library is for
                editor:that.editor, // the field name the main text body goes to
                fields:['name','format','output','syntax'],
                ext: "txt"
            });

            $("#node-input-format").on("change", function() {
                var mod = "ace/mode/"+$("#node-input-format").val();
                that.editor.getSession().setMode({
                    path: mod,
                    v: Date.now()
                });
            });
            RED.popover.tooltip($("#node-template-expand-editor"), RED._("node-red:common.label.expand"));
            $("#node-template-expand-editor").on("click", function (e) {
                e.preventDefault();
                const value = that.editor.getValue();
                that.editor.saveView();
                RED.editor.editText({
                    mode: $("#node-input-format").val(),
                    value: value,
                    stateId: stateId,
                    width: "Infinity",
                    focus: true,
                    complete: function (v, cursor) {
                        that.editor.setValue(v, -1);
                        setTimeout(function () {
                            that.editor.restoreView();
                            that.editor.focus();
                        }, 250);
                    }
                })
            })
        },
        oneditsave: function() {
            $("#node-input-template").val(this.editor.getValue());
            this.editor.destroy();
            delete this.editor;
        },
        oneditcancel: function() {
            this.editor.destroy();
            delete this.editor;
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-text-editor-row)");
            var height = $("#dialog-form").height();
            for (var i=0; i<rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-text-editor-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $(".node-text-editor").css("height",height+"px");
            this.editor.resize();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="template">
  <p>Define uma propriedade com base no modelo fornecido.</p>
  <h3>Entradas</h3>
  <dl class="message-properties">
      <dt><span class="property-type">objeto</span>  msg</dt>
      <dd>Um objeto msg contendo informaes para preencher o modelo.</dd>
      <dt class="optional">modelo <span class="property-type">string</span></dt>
      <dd>Um modelo a ser preenchido em msg.payload. Se no estiver configurado no painel de edio,
       o modelo pode ser definido como uma propriedade de msg.</dd>
  </dl>
  <h3>Sadas</h3>
  <dl class="message-properties">
      <dt><span class="property-type">objeto</span> msg</dt>
      <dd>uma mensagem com uma propriedade definida preenchendo o modelo configurado com as propriedades da mensagem recebida.</dd>
  </dl>
  <h3>Detalhes</h3>
  <p>Por padro, usa o formato <i> <a href="http://mustache.github.io/mustache.5.html" target="_blank">bigode</a></i>
  , mas pode ser desativado, se for necessrio.</p>
  <p>Por exemplo, quando um modelo de: 
  <pre>Ol {{payload.name}}. Hoje  {{date}}</pre>
  <p> recebe uma mensagem contendo: 
  <pre> {
date: "segunda-feira",
payload:{
  nome: "Fred"
    }
} </pre>
  <p>A propriedade resultante ser:
  <pre> Ol Fred. Hoje  segunda-feira</pre>
  <p>  possvel usar uma propriedade do contexto de fluxo ou contexto global. Basta usar <code>{{flow.name}}</code> ou
  <code>{{global.name}}</code>, ou para armazenamento persistente <code>armazenar</code> usando <code>{{flow [store] .name}}</code> ou
  <code>{{global [store] .name}}</code>.
  <p><b>Nota: </b>Por padro, <i>bigode</i> usar cdigos de escape de quaisquer entidades no alfanumricas ou HTML nos valores que ele substitui. 
  Para evitar isso, use colchetes <code>{{{triplos}}}</code>.</p>
    <p>Se precisar usar <code>{{ }}</code> em seu contedo, voc poder alterar os caracteres
        usados para marcar as sees do modelo. Por exemplo, ao invs de utilizar <code>[[ ]]</code>;
        adicione a seguinte linha ao topo do modelo:</p>
    <pre>{{=[[ ]]=}}</pre>
</script>

</div><div><!-- --- [red-module:node-red/delay] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="delay">
    <div class="form-row">
        <label for="node-input-delay-action"><i class="fa fa-tasks"></i> <span data-i18n="delay.action"></span></label>
        <select id="node-input-delay-action" style="width:270px !important">
            <option value="delay" data-i18n="delay.delaymsg"></option>
            <option value="rate" data-i18n="delay.limitrate"></option>
        </select>
    </div>

    <div id="delay-details">
        <div class="form-row">
            <label></label>
            <select id="node-input-delay-type" style="width:270px !important">
                <option value="delay" data-i18n="delay.delayfixed"></option>
                <option value="random" data-i18n="delay.randomdelay"></option>
                <option value="delayv" data-i18n="delay.delayvarmsg"></option>
            </select>
        </div>
        <div class="form-row" id="delay-details-for">
            <label for="node-input-timeout"><i class="fa fa-clock-o"></i> <span data-i18n="delay.for"></span></label>
            <input type="text" id="node-input-timeout" style="text-align:end; width:50px !important">
            <select id="node-input-timeoutUnits" style="width:200px !important">
              <option value="milliseconds" data-i18n="delay.milisecs"></option>
              <option value="seconds" data-i18n="delay.secs"></option>
              <option value="minutes" data-i18n="delay.mins"></option>
              <option value="hours" data-i18n="delay.hours"></option>
              <option value="days" data-i18n="delay.days"></option>
            </select>
        </div>
        <div id="random-details" class="form-row">
            <label for="node-input-randomFirst"><i class="fa fa-clock-o"></i> <span data-i18n="delay.between"></span></label>
            <input type="text" id="node-input-randomFirst" placeholder="" style="text-align:end; width:50px !important">
            &nbsp;<span data-i18n="delay.and"></span>&nbsp;
            <input type="text" id="node-input-randomLast" placeholder="" style="text-align:end; width:50px !important">
            <select id="node-input-randomUnits" style="width:140px !important">
              <option value="milliseconds" data-i18n="delay.milisecs"></option>
              <option value="seconds" data-i18n="delay.secs"></option>
              <option value="minutes" data-i18n="delay.mins"></option>
              <option value="hours" data-i18n="delay.hours"></option>
              <option value="days" data-i18n="delay.days"></option>
            </select>
        </div>
    </div>

    <div id="rate-details">
        <div class="form-row">
            <label></label>
            <select id="node-input-rate-type" style="width:270px !important">
                <option value="all" data-i18n="delay.limitall"></option>
                <option value="topic" data-i18n="delay.limittopic"></option>
            </select>
        </div>
        <div class="form-row">
            <label for="node-input-rate"><i class="fa fa-clock-o"></i> <span data-i18n="delay.rate"></span></label>
            <input type="text" id="node-input-rate" placeholder="1" style="text-align:end; width:40px !important">
            <label for="node-input-rateUnits"><span data-i18n="delay.msgper"></span></label>
            <input type="text" id="node-input-nbRateUnits" placeholder="1" style="text-align:end; width:40px !important">
            <select id="node-input-rateUnits" style="width:90px !important">
              <option value="second" data-i18n="delay.label.units.second.singular"></option>
              <option value="minute" data-i18n="delay.label.units.minute.singular"></option>
              <option value="hour" data-i18n="delay.label.units.hour.singular"></option>
              <option value="day" data-i18n="delay.label.units.day.singular"></option>
            </select>
        </div>
        <div class="form-row" id="rate-override" style="display: flex; align-items: center">
            <label></label><input style="width:30px; margin:0" type="checkbox" id="node-input-allowrate"><label style="margin:0;width: auto;" for="node-input-allowrate" data-i18n="delay.allowrate"></label>
        </div>
        <div class="form-row" id="rate-details-drop">
            <input type="hidden" id="node-input-outputs" value="1">
            <label></label>
            <select id="node-input-drop-select" style="width: 70%">
                <option id="node-input-drop-select-queue" value="queue" data-i18n="delay.queuemsg"></option>
                <option value="drop" data-i18n="delay.dropmsg"></option>
                <option value="emit" data-i18n="delay.sendmsg"></option>
            </select>
        </div>
        <div class="form-row" id="rate-details-per-topic">
            <label></label>
            <select id="node-input-rate-topic-type" style="width:270px !important">
                <option value="queue" data-i18n="delay.fairqueue"></option>
                <option value="timed" data-i18n="delay.timedqueue"></option>
            </select>
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('delay',{
        category: 'function',
        color:"#E6E0F8",
        defaults: {
            name: {value:""},
            pauseType: {value:"delay", required:true},
            timeout: {
                value:"5", required:true,
                label:RED._("node-red:delay.label.delay"),
                validate:function(v,opt) {
                    if (RED.validators.number(v) && (v >= 0)) {
                        return true;
                    }
                    return RED._("node-red:delay.errors.invalid-timeout");
                }},
            timeoutUnits: {value:"seconds"},
            rate: {
                value:"1",
                required:true,
                label:RED._("node-red:delay.label.rate"),
                validate:function(v,opt) {
                    if (RED.validators.number(v) && (v >= 0)) {
                        return true;
                    }
                    return RED._("node-red:delay.errors.invalid-rate");
                }
            },
            nbRateUnits: {
                value:"1",
                required:false,
                validate:function(v,opt) {
                    if (v === undefined || (RED.validators.number(v) && (v >= 0))) {
                        return true;
                    }
                    return RED._("node-red:delay.errors.invalid-rate-unit");
                }
            },
            rateUnits: {value: "second"},
            randomFirst: {
                value:"1", required:true,
                validate:function(v,opt) {
                    if (RED.validators.number(v) && (v >= 0)) {
                        return true;
                    }
                    return RED._("node-red:delay.errors.invalid-random-first");
                }},
            randomLast: {
                value:"5", required:true,
                validate:function(v,opt) {
                    if (RED.validators.number(v) && (v >= 0)) {
                        return true;
                    }
                    return RED._("node-red:delay.errors.invalid-random-last");
                }},
            randomUnits: {value: "seconds"},
            drop: {value:false},
            allowrate: {value:false},
            outputs: { value: 1},
        },
        inputs:1,
        outputs:1,
        icon: "timer.svg",
        label: function() {
            if (this.name) {
                return this.name;
            }
            if (this.pauseType == "delayv") {
                return this._("delay.label.variable");
            } else if (this.pauseType == "delay") {
                var units = this.timeoutUnits ? this.timeoutUnits.charAt(0) : "s";
                if (this.timeoutUnits == "milliseconds") { units = "ms"; }
                return this._("delay.label.delay")+" "+this.timeout+units;
            } else if (this.pauseType == "random") {
                return this._("delay.label.random");
            } else {
                var rate = this.rate+" msg/"+(this.rateUnits ? (this.nbRateUnits > 1 ? this.nbRateUnits : '') + this.rateUnits.charAt(0) : "s");
                if (this.pauseType == "rate") {
                    return this._("delay.label.limit")+" "+rate;
                } else if (this.pauseType == "timed") {
                    return this._("delay.label.limitTopic")+" "+rate;
                } else {
                    return this._("delay.label.limitTopic")+" "+rate;
                }
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            $( "#node-input-timeout" ).spinner({min:1});
            $( "#node-input-rate" ).spinner({min:1});
            $( "#node-input-nbRateUnits" ).spinner({min:1});

            $( "#node-input-randomFirst" ).spinner({min:0});
            $( "#node-input-randomLast" ).spinner({min:1});

            $('.ui-spinner-button').on("click", function() {
                $(this).siblings('input').trigger("change");
            });

            $( "#node-input-nbRateUnits" ).on('change keyup', function() {
                var $this = $(this);
                var val = parseInt($this.val());
                var type = "singular";
                if (val > 1) {
                    type = "plural";
                }
                if ($this.attr("data-type") == type) {
                    return;
                }
                $this.attr("data-type", type);
                $("#node-input-rateUnits option").each(function () {
                    var $option = $(this);
                    var key = "delay.label.units." + $option.val() + "." + type;
                    $option.attr('data-i18n', 'node-red:' + key);
                    $option.html(node._(key));
                });
            });

            if (this.pauseType == "delay") {
                $("#node-input-delay-action").val('delay');
                $("#node-input-delay-type").val('delay');
            } else if (this.pauseType == "delayv") {
                $("#node-input-delay-action").val('delay');
                $("#node-input-delay-type").val('delayv');
            } else if (this.pauseType == "random") {
                $("#node-input-delay-action").val('delay');
                $("#node-input-delay-type").val('random');
            } else if (this.pauseType == "rate") {
                $("#node-input-delay-action").val('rate');
                $("#node-input-rate-type").val('all');
            } else if (this.pauseType == "queue") {
                $("#node-input-delay-action").val('rate');
                $("#node-input-rate-type").val('topic');
                $("#node-input-rate-topic-type").val('queue');
            } else if (this.pauseType == "timed") {
                $("#node-input-delay-action").val('rate');
                $("#node-input-rate-type").val('topic');
                $("#node-input-rate-topic-type").val('timed');
            }

            if (!this.timeoutUnits) {
                $("#node-input-timeoutUnits option").filter(function() {
                    return $(this).val() == 'seconds';
                }).attr('selected', true);
            }

            if (!this.randomUnits) {
                $("#node-input-randomUnits option").filter(function() {
                    return $(this).val() == 'seconds';
                }).attr('selected', true);
            }

            $("#node-input-delay-action").on("change",function() {
                if (this.value === "delay") {
                    $("#delay-details").show();
                    $("#rate-details").hide();
                } else if (this.value === "rate") {
                    $("#delay-details").hide();
                    $("#rate-details").show();
                }
            }).trigger("change");

            $("#node-input-delay-type").on("change", function() {
                if (this.value === "delay") {
                    $("#delay-details-for").show();
                    $("#random-details").hide();
                } else if (this.value === "delayv") {
                    $("#delay-details-for").show();
                    $("#random-details").hide();
                } else if (this.value === "random") {
                    $("#delay-details-for").hide();
                    $("#random-details").show();
                }
            }).trigger("change");

            if (this.outputs === 2) {
                $("#node-input-drop-select").val("emit");
            } else if (this.drop) {
                $("#node-input-drop-select").val("drop");
            } else {
                $("#node-input-drop-select").val("queue");
            }

            $("#node-input-rate-type").on("change", function() {
                if (this.value === "all") {
                    $("#rate-details-per-topic").hide();
                    $("#node-input-drop-select-queue").attr('disabled', false);
                } else if (this.value === "topic") {
                    if ($("#node-input-drop-select").val() === "queue") {
                        $("#node-input-drop-select").val("drop");
                    }
                    $("#node-input-drop-select-queue").attr('disabled', true);
                    $("#rate-details-per-topic").show();
                }
            }).trigger("change");
        },
        oneditsave: function() {
            var action = $("#node-input-delay-action").val();
            if (action === "delay") {
                this.pauseType = $("#node-input-delay-type").val();
                $("#node-input-outputs").val(1);
            } else if (action === "rate") {
                action = $("#node-input-rate-type").val();
                if (action === "all") {
                    this.pauseType = "rate";
                } else {
                    this.pauseType = $("#node-input-rate-topic-type").val();
                }
                var dropType = $("#node-input-drop-select").val();
                this.drop = dropType !== "queue";
                $("#node-input-outputs").val(dropType === "emit"?2:1);
            }
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="delay">
    <p> Atrasa a passagem de cada mensagem pelo n ou limita a taxa de transmisso. </p>
    <h3> Entradas </h3>
    <dl class="message-properties">
        <dt class="optional">atraso<span class = "property-type"> nmero </span> </dt>
        <dd> Define o atraso, em milissegundos, a ser aplicado  mensagem. este
            opo s se aplica se o n estiver configurado para permitir a mensagem para
            sobrescrever o intervalo de atraso padro configurado. </dd>
        <dt class="optional">taxa<span class="property-type"> nmero</span> </dt>
        <dd> Define o valor da taxa em milissegundos entre as mensagens.
            Este n sobrescreve o valor da taxa existente definido na configurao do n
            quando recebe a mensagem que contm o valor <code> msg.rate </code> em miliSegundos.
            Esta opo s se aplica se o n estiver configurado para permitir a mensagem para
            sobrescrever o intervalo de taxa padro configurado. </dd>
        <dt class="optional">redefinir</dt>
        <dd> Se a mensagem recebida tiver esta propriedade definida para qualquer valor, todos
            as mensagens pendentes mantidas pelo n so apagadas sem serem enviadas. </dd>
        <dt class="optional">descarrergar</dt>
        <dd> Se a mensagem recebida tiver esta propriedade definida para um valor numrico, ento essa quantidade de mensagens
            ser liberada imediatamente. Se definida para qualquer outro tipo (por exemplo, booliano), ento todas as
            mensagens pendentes mantidas pelo n so enviadas imediatamente.</dd>
        <dt class="optional">paraFrente</dt>
        <dd>Quando em modo de limite de taxa, se a mensagem recebida tiver esta propriedade definida como booliana <code>verdadeira</code>,
             ento a mensagem  empurrada para a frente da fila e ser liberada em seguida.
             Isso pode ser usado em combinao com <code>msg.flush=1</code> para reenviar imediatamente.
        </dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Quando configurada para atrasar mensagens, o intervalo de atraso pode ser um valor fixo,
        um valor aleatrio dentro de um intervalo ou definido dinamicamente para cada mensagem.
        Cada mensagem  atrasada independentemente de qualquer outra mensagem, com base em
        a hora de sua chegada.
    </p>
    <p> Quando configurada para mensagens de limite de taxa, sua entrega  distribuda
        pelo perodo de tempo configurado. O status mostra o nmero de mensagens atualmente na fila.
        pode-se, opcionalmente, descartar mensagens intermedirias assim que chegarem. </p>
    </p>
    <p> Se configurada para permitir a substituio da taxa, a nova taxa ser aplicada imediatamente,
        e permanecer em vigor at que seja alterada novamente, o n seja redefinido ou o fluxo seja reiniciado. </p>
    <p> A limitao de taxa pode ser aplicada a todas as mensagens ou agrup-las de acordo com
        seu valor <code> msg.topic </code>. Ao agrupar, as mensagens intermedirias so
        caiu automaticamente. A cada intervalo de tempo, o n pode liberar
        a mensagem mais recente para todos os tpicos ou libere a mensagem mais recente
        para o prximo tpico.
    </p>
     <p><b>Nota</b>: Em modo de limite de taxa, a profundidade mxima da fila pode ser configurar por uma propriedade no seu arquivo
        <i>settings.js</i>. Por exemplo <code>nodeMessageBufferMaxLength: 1000</code></p>
</script>

</div><div><!-- --- [red-module:node-red/trigger] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="trigger">
    <div class="form-row">
        <label data-i18n="trigger.send" for="node-input-op1"></label>
        <input type="hidden" id="node-input-op1type">
        <input style="width:70%" type="text" id="node-input-op1" placeholder="1">
    </div>
    <div class="form-row">
        <label data-i18n="trigger.then"></label>
        <select id="node-then-type" style="width:70%;">
            <option value="block" data-i18n="trigger.wait-reset"></option>
            <option value="wait" data-i18n="trigger.wait-for"></option>
            <option id="node-trigger-wait-loop" value="loop" data-i18n="trigger.wait-loop"></option>
        </select>
    </div>
    <div class="form-row node-type-duration">
        <label></label>
        <input type="text" id="node-input-duration" style="text-align:end; width:70px !important">
        <select id="node-input-units" style="width:140px !important">
            <option value="ms" data-i18n="trigger.duration.ms"></option>
            <option value="s" data-i18n="trigger.duration.s"></option>
            <option value="min" data-i18n="trigger.duration.m"></option>
            <option value="hr" data-i18n="trigger.duration.h"></option>
        </select>
    </div>
    <div class="form-row node-type-wait">
    <label></label>
        <input type="checkbox" id="node-input-extend" style="margin-left:0px; vertical-align:top; width:auto !important;"> <label style="width:auto !important;" for="node-input-extend" data-i18n="trigger.extend"></label>
    </div>
    <div class="form-row node-type-override">
    <label></label>
        <input type="checkbox" id="node-input-overrideDelay" style="margin-left:0px; vertical-align:top; width:auto !important;"> <label style="width:auto !important;" for="node-input-overrideDelay" data-i18n="trigger.override"></label>
    </div>
    <div class="form-row node-type-wait">
        <label data-i18n="trigger.then-send"></label>
        <input type="hidden" id="node-input-op2type">
        <input style="width:70%" type="text" id="node-input-op2" placeholder="0">
    </div>
    <div class="form-row" id="node-second-output">
        <label></label>
            <input type="checkbox" id="node-input-second" style="margin-left: 0px; vertical-align: top; width: auto !important;"> <label style="width:auto !important;" for="node-input-second" data-i18n="trigger.second"></label>
        </div>
    <div class="form-row">
        <label data-i18n="trigger.label.reset" style="width:auto"></label>
        <div style="display:inline-block; width:70%;vertical-align:top">
        <ul>
            <li data-i18n="trigger.label.resetMessage"></li>
            <li><span data-i18n="trigger.label.resetPayload"></span> <input type="text" id="node-input-reset" style="width:150px" data-i18n="[placeholder]trigger.label.resetprompt"></li>
        </ul>
    </div>
    <br/>
    <div class="form-row">
        <label data-i18n="trigger.for" for="node-input-bytopic"></label>
        <select id="node-input-bytopic" style="width:120px;">
            <option value="all" data-i18n="trigger.alltopics"></option>
            <option value="topic" data-i18n="trigger.bytopics"></option>
        </select>
        <span class="form-row" id="node-stream-topic">
            <input type="text" id="node-input-topic" style="width:46%;"/>
        </span>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></input>
        <input type="hidden" id="node-input-outputs" value="1">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('trigger',{
        category: 'function',
        color:"#E6E0F8",
        defaults: {
            name: {value:""},
            op1: {value:"1",
                  label: RED._("node-red:trigger.send"),
                  validate: RED.validators.typedInput("op1type", false)},
            op2: {value:"0",
                  label: RED._("node-red:trigger.then-send"),
                  validate: RED.validators.typedInput("op2type", false)},
            op1type: {value:"val"},
            op2type: {value:"val"},
            duration: {
                value:"250", required:true,
                label:RED._("node-red:trigger.label.duration"),
                validate:RED.validators.number(false)},
            extend: {value:"false"},
            overrideDelay: {value:"false"},
            units: {value:"ms"},
            reset: {value:""},
            bytopic: {value:"all"},
            topic: {value:"topic", required:true,
                    label:RED._("node-red:trigger.label.topic")},
            outputs: {value:1}
        },
        inputs:1,
        outputs:1,
        icon: "trigger.svg",
        label: function() {
            if (this.duration > 0) {
                return this.name|| this._("trigger.label.trigger")+" "+this.duration+this.units;
            }
            if (this.duration < 0) {
                return this.name|| this._("trigger.label.trigger-loop")+" "+(this.duration * -1)+this.units;
            }
            else {
                return this.name|| this._("trigger.label.trigger-block");
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var that = this;
            if (this.topic === undefined) { $("#node-input-topic").val("topic"); }
            $("#node-input-topic").typedInput({default:'msg',types:['msg']});
            $("#node-input-bytopic").on("change", function() {
                if ($("#node-input-bytopic").val() === "all") {
                    $("#node-stream-topic").hide();
                } else {
                    $("#node-stream-topic").show();
                }
            });

            if (this.outputs == 2) { $("#node-input-second").prop('checked', true) }
            else { $("#node-input-second").prop('checked', false) }

            $("#node-input-second").change(function() {
                if ($("#node-input-second").is(":checked")) {
                    $("#node-input-outputs").val(2);
                }
                else  {
                    $("#node-input-outputs").val(1);
                }
            });
            $("#node-then-type").on("change", function() {
                if ($(this).val() == "block") {
                    $(".node-type-wait").hide();
                    $(".node-type-override").hide();
                    $(".node-type-duration").hide();
                    $("#node-second-output").hide();
                    $("#node-input-second").prop('checked', false);
                    $("#node-input-outputs").val(1);
                }
                else if ($(this).val() == "loop") {
                    if ($("#node-input-duration").val() == 0) { $("#node-input-duration").val(250); }
                    $(".node-type-wait").hide();
                    $(".node-type-override").show();
                    $(".node-type-duration").show();
                    $("#node-second-output").hide();
                    $("#node-input-second").prop('checked', false);
                    $("#node-input-outputs").val(1);
                } else {
                    if ($("#node-input-duration").val() == 0) { $("#node-input-duration").val(250); }
                    $(".node-type-wait").show();
                    $(".node-type-override").show();
                    $(".node-type-duration").show();
                    $("#node-second-output").show();
                }
            });

            if (this.op1type === 'val') {
                $("#node-input-op1type").val('str');
            }
            if (this.op2type === 'val') {
                $("#node-input-op2type").val('str');
            }

            $("#node-input-op1").on("change", function() {
                if ($("#node-input-op1type").val() === "nul") {
                    $("#node-trigger-wait-loop").hide();
                }
                else { $("#node-trigger-wait-loop").show(); }
            });

            var optionNothing = {value:"nul",label:this._("trigger.output.nothing"),hasValue:false};
            var optionPayload = {value:"pay",label:this._("trigger.output.existing"),hasValue:false};
            var optionOriginalPayload = {value:"pay",label:this._("trigger.output.original"),hasValue:false};
            var optionLatestPayload = {value:"payl",label:this._("trigger.output.latest"),hasValue:false};

            $("#node-input-op1").typedInput({
                default: 'str',
                typeField: $("#node-input-op1type"),
                types:['flow','global','str','num','bool','json','bin','date','env',
                    optionPayload,
                    optionNothing
                ]
            });
            $("#node-input-op2").typedInput({
                default: 'str',
                typeField: $("#node-input-op2type"),
                types:['flow','global','str','num','bool','json','bin','date','env',
                    optionOriginalPayload,
                    optionLatestPayload,
                    optionNothing
                ]
            });

            if (this.bytopic === undefined) {
                $("#node-input-bytopic").val("all");
            }

            if (this.duration == "0") {
                $("#node-then-type").val("block");
            }
            else if ((this.duration * 1) < 0) {
                $("#node-then-type").val("loop");
                $("#node-input-duration").val(this.duration*-1);
            } else {
                $("#node-then-type").val("wait");
            }
            $("#node-then-type").trigger("change");

            if (this.extend === "true" || this.extend === true) {
                $("#node-input-extend").prop("checked",true);
            } else {
                $("#node-input-extend").prop("checked",false);
            }
            if (this.overrideDelay === "true" || this.overrideDelay === true) {
                $("#node-input-overrideDelay").prop("checked",true);
            } else {
                $("#node-input-overrideDelay").prop("checked",false);
            }
        },
        oneditsave: function() {
            if ($("#node-then-type").val() == "block") {
                $("#node-input-duration").val("0");
            }
            if ($("#node-then-type").val() == "loop") {
                $("#node-input-duration").val($("#node-input-duration").val() * -1);
            }
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="trigger">
  <p>Quando acionado, pode enviar uma mensagem e, opcionalmente, uma segunda mensagem, a menos que seja estendida ou redefinida.</p>

  <h3>Entradas</h3>
  <dl class="message-properties">
      <dt class="optional">atraso<span class = "property-type"> nmero</span></dt>
      <dd>Define o atraso, em milissegundos, a ser aplicado  mensagem. Esta opo se aplica apenas se o n estiver configurado para permitir que a mensagem substitua o intervalo de atraso padro configurado.</dd>
      <dt class="optional">redefinir</dt>
      <dd>Se for recebida uma mensagem com esta propriedade, qualquer tempo limite ou repetio
      atualmente em andamento ser apagado e nenhuma mensagem ser acionada.</dd>
  </dl>

  <h3>Detalhes</h3>
  <p>Este n pode ser usado para criar um tempo limite dentro de um fluxo. Por padro, quando
  ele recebe uma mensagem, ele envia uma mensagem com uma <code>carga til</code> de<code> 1</code>.
  Em seguida, espera 250 ms antes de enviar uma segunda mensagem com uma <code>carga til</code> de<code> 0</code>.
  Isso pode ser usado, por exemplo, para piscar um LED conectado a um pino GPIO Raspberry Pi.</p>
  <p>As cargas teis de cada mensagem enviada podem ser configuradas com uma variedade de valores, incluindo
  a opo de no enviar nada. Por exemplo, definir a mensagem inicial como <i>nada</i> e
  selecionando a opo de estender o cronmetro com cada mensagem recebida, o n ir
  atuar como um cronmetro de vigilncia; apenas enviando uma mensagem se nada for recebido dentro do
  limite de intervalo.</p>
  <p>Se definido como um tipo <i>cadeia de caractere</i>, o n d suporte a sintaxe de modelo bigode.</p>
  <p>O atraso entre o envio de mensagens pode ser anulado por <code>msg.delay</code> se essa opo estiver habilitada no n. O valor deve ser fornecido em milissegundos. </p>
  <p>Se o n receber uma mensagem com uma propriedade <code>reset</code> ou uma <code>carga til</code>
  que corresponda ao configurado no n, qualquer tempo limite ou repetir atualmente em
  o progresso ser apagado e nenhuma mensagem ser acionada. </p>
  <p> O n pode ser configurado para reenviar uma mensagem em um intervalo regular at que
  seja redefinido por uma mensagem recebida.</p>
  <p>Opcionalmente, o n pode ser configurado para tratar as mensagens como se fossem fluxos separados,
  usando uma propriedade msg para identificar cada fluxo. <code>msg.topic</code> padro.</p>
  <p>O estado indica que o n est ativo no momento. Se vrios fluxos forem usados, o estado 
  indica o nmero de streams em espera.</p>
</script>

</div><div><!-- --- [red-module:node-red/exec] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="exec">
    <div class="form-row">
        <label for="node-input-command"><i class="fa fa-file"></i> <span data-i18n="exec.label.command"></span></label>
        <input type="text" id="node-input-command" data-i18n="[placeholder]exec.label.command">
    </div>
    <div class="form-row">
        <label><i class="fa fa-plus"></i> <span data-i18n="exec.label.append"></span></label>
        <input type="checkbox" id="node-input-addpay-cb" style="display:inline-block; width:auto;">
        <input type="text" id="node-input-addpay" style="margin-left: 5px; width:160px;">
    </div>
    <div class="form-row">
        <label for="node-input-append"> </label>
        <input type="text" id="node-input-append" data-i18n="[placeholder]exec.placeholder.extraparams">
    </div>
    <div class="form-row">
        <label><i class="fa fa-sign-out"></i> <span data-i18n="exec.label.return"></span></label>
        <select type="text" id="node-input-useSpawn" style="width:70%">
            <option value="false" data-i18n="exec.opt.exec"></option>
            <option value="true" data-i18n="exec.opt.spawn"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-timer"><i class="fa fa-clock-o"></i> <span data-i18n="exec.label.timeout"></span></label>
        <input type="text" id="node-input-timer" style="width:65px;" data-i18n="[placeholder]exec.label.timeoutplace">
        <span data-i18n="exec.label.seconds"></span>
    </div>
    <div class="form-row">
        <label for="node-input-winHide" style="width: auto !important; padding-right:10px"><i class="fa fa-windows"></i> <span data-i18n="exec.label.winHide"></span></label>
        <input type="checkbox" id="node-input-winHide" style="margin-top: 0; display:inline-block; width:auto;">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('exec',{
        category: 'function',
        color:"darksalmon",
        defaults: {
            command: {value:""},
            addpay: {value:""},
            append: {value:""},
            useSpawn: {value:"false"},
            timer: {value:""},
            winHide: {value:false},
            oldrc: {value:false},
            name: {value:""}
        },
        inputs:1,
        outputs:3,
        outputLabels: function(i) {
            return [
                this._("exec.label.stdout"),
                this._("exec.label.stderr"),
                this._("exec.label.retcode")
            ][i];
        },
        icon: "cog.svg",
        label: function() {
            return this.name||this.command.replace(/\\n /g,"\\\\n ")||(this.useSpawn=="true"?this._("exec.spawn"):this._("exec.exec"));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if ($("#node-input-useSpawn").val() === null) {
                $("#node-input-useSpawn").val(this.useSpawn.toString());
            }
            $("#node-input-addpay-cb").prop("checked", this.addpay === true || (this.addpay !== false && this.addpay !== ""))
            var addpayValue = (this.addpay === true)?"payload":((this.addpay === false || this.addpay === "")?"payload":this.addpay);
            $("#node-input-addpay-cb").on("change", function(evt) {
                $("#node-input-addpay").typedInput("disable",!$("#node-input-addpay-cb").prop("checked"));
            });

            $("#node-input-addpay").val(addpayValue);
            $("#node-input-addpay").typedInput({
                default: "msg",
                types: ["msg"]
            });

            $("#node-input-addpay-cb").trigger("change")

            if (this.winHide === "true" || this.winHide === true) {
                $("#node-input-winHide").prop("checked",true);
            } else {
                $("#node-input-winHide").prop("checked",false);
            }
        },
        oneditsave: function() {
            if (!$("#node-input-addpay-cb").prop("checked")) {
                $("#node-input-addpay").val("");
            }
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="exec">
    <p>Executa um comando do sistema e retorna sua sada.</p>
    <p>O n pode ser configurado ou para esperar at que o comando seja concludo ou para
    enviar sua sada conforme o comando vai gerando-a.</p>
    <p>O comando que  executado pode ser configurado no n ou fornecido pelo mensagem 
    recebida.</p>

    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt class="optional">carga til<span class="property-type"> cadeia de caracteres</span></dt>
        <dd>se configurado dessa forma, ser adicionado ao final do comando executado.</dd>
        <dt class="optional">matar<span class="property-type"> cadeia de caracteres</span></dt>
        <dd>o tipo de sinal de eliminao para ser enviado a um processo de n exec existente.</dd>
        <dt class="optional">pid<span class="property-type"> nmero | cadeia de caracteres</span> </dt>
        <dd>o ID do processo de um processo de n exec existente a ser eliminado.</dd>
    </dl>

    <h3>Sadas</h3>
    <ol class="node-ports">
        <li>Sada padro
            <dl class="message-properties">
                <dt>carga til<span class = "property-type"> cadeia de caracteres</span></dt>
                <dd>a sada padro do comando.</dd>
            </dl>
            <dl class="message-properties">
                <dt>rc<span class = "property-type"> objeto</span></dt>
                <dd>modo exec apenas, uma cpia do objeto de cdigo de retorno(tambm disponvel na porta 3)</dd>
            </dl>
        </li>
        <li> Erro padro
            <dl class="message-properties">
                <dt>carga til <span class = "property-type"> cadeia de caracteres</span></dt>
                <dd>o erro padro do comando.</dd>
            </dl>
            <dl class="message-properties">
                <dt>rc<span class="property-type"> objeto </span> </dt>
                <dd>modo exec apenas, uma cpia do objeto de cdigo de retorno(tambm disponvel na porta 3)</dd>
            </dl>
        </li>
        <li>Cdigo de retorno
            <dl class="message-properties">
                <dt>carga til<span class = "property-type"> objeto</span></dt>
                <dd>um objeto que contm o cdigo de retorno e, possivelmente,<code> mensagem</code>, propriedades de <code>sinal</code>.</dd>
            </dl>
        </li>
    </ol>
    <h3>Detalhes</h3>
    <p>Por padro, usa a chamada do sistema <code>exec</code> que chama o comando, espera que ele seja concludo e, em seguida,
    retorna a sada. Por exemplo, um comando bem-sucedido deve ter um cdigo de retorno de <code>{code: 0}</code>.</p>
    <p>Opcionalmente, pode usar <code>spawn</code>, que retorna a sada de stdout e stderr
    conforme o comando  executado, geralmente uma linha de cada vez. Na concluso, ele retorna um objeto
    na 3 porta. Por exemplo, um comando bem-sucedido deve retornar <code>{code: 0}</code>.</p>
    <p>Os erros podem retornar informaes extras na terceira porta <code>msg.payload</code>, como uma cadeia de caracteres do tipo <code>mensagem</code> ou
    cadeia de caracteres do tipo <code>sinal</code>.</p>
    <p>O comando executado  definido dentro do n, com uma opo para adicionar <code>msg.payload</code> e um outro conjunto de parmetros.</p>
    <p>Comandos ou parmetros com espaos devem ser colocados entre aspas - <code>"Este  um parmetro nico"</code></p>
    <p>A <code>carga til</code> retornada  geralmente uma <i> cadeia de caracteres </i>, a menos que caracteres no UTF8 sejam detectados, nesse caso ser  <i>armazenamento temporrio</i>.</p>
    <p>O cone de estado do n e o PID ficaro visveis enquanto o n estiver ativo. As alteraes podem ser lidas pelo n de <code>Estado</code>.</p>
    <p>A opo <code>Ocultar console</code> ocultar o console do processo normalmente mostrado em sistemas Windows.</p>
    <h4>Processos de morte</h4>
    <p> O envio de <code>msg.kill</code> eliminar um nico processo ativo. <code>msg.kill</code> deve ser uma cadeia de caracteres contendo
    o tipo de sinal a ser enviado, por exemplo, <code>SIGINT</code>, <code>SIGQUIT</code> ou <code>SIGHUP</code>.
    O padro  <code>SIGTERM</code> se definido como uma cadeia de caracteres vazia.</p>
    <p>Se o n tiver mais de um processo em execuo, <code>msg.pid</code> tambm deve ser definido com o valor do PID a ser eliminado.</p>
    <p>Se um valor for fornecido no campo <code>Tempo limite</code> ento, se o processo no for concludo quando o nmero especificado de segundos tiver decorrido, o processo ser encerrado automaticamente</p>
    <p>Dica: se estiver executando um aplicativo Python, voc pode precisar usar o parmetro <code>-u</code> para interromper o armazenamento temporrio da sada.</p>
</script>

</div><div><!-- --- [red-module:node-red/rbe] --- -->

<script type="text/html" data-template-name="rbe">
    <div class="form-row">
        <label for="node-input-func"><i class="fa fa-wrench"></i> <span data-i18n="rbe.label.func"></span></label>
        <select type="text" id="node-input-func" style="width:70%;">
            <option value="rbe" data-i18n="rbe.opts.rbe"></option>
            <option value="rbei" data-i18n="rbe.opts.rbei"></option>
            <option value="deadbandEq" data-i18n="rbe.opts.deadbandEq"></option>
            <option value="deadband" data-i18n="rbe.opts.deadband"></option>
            <option value="narrowbandEq" data-i18n="rbe.opts.narrowbandEq"></option>
            <option value="narrowband" data-i18n="rbe.opts.narrowband"></option>
        </select>
    </div>
    <div class="form-row" id="node-bandgap">
        <label for="node-input-gap">&nbsp;</label>
        <input type="text" id="node-input-gap" data-i18n="[placeholder]rbe.placeholder.bandgap" style="width:95px;">
        <select type="text" id="node-input-inout" style="width:54%;">
            <option value="out" data-i18n="rbe.opts.out"></option>
            <option value="in" data-i18n="rbe.opts.in"></option>
        </select>
    </div>
    <div class="form-row" id="node-startvalue">
        <label for="node-input-start"><i class="fa fa-thumb-tack"></i> <span data-i18n="rbe.label.start"></span></label>
        <input type="text" id="node-input-start" data-i18n="[placeholder]rbe.placeholder.start" style="width:70%;">
    </div>
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="node-red:common.label.property"></span></label>
        <input type="text" id="node-input-property" style="width:70%;"/>
    </div>
    <div class="form-row" style="margin-bottom: 0px;">
        <label> </label>
        <input type="checkbox" id="node-input-septopics" style="display:inline-block; width:20px; vertical-align:baseline;">
        <label style="width: auto" for="node-input-septopics" data-i18n="rbe.label.septopics"></label>
    </div>
    <div class="form-row">
        <label> </label>
        <input type="text" id="node-input-topi"  style="width:70%;"/>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="rbe.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]rbe.label.name" style="width:70%;">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType("rbe", {
        color:"#E2D96E",
        category: 'function',
        defaults: {
            name: {value:""},
            func: {value:"rbe"},
            gap: {value:"",
                  label: RED._("node-red:rbe.label.gap"),
                  validate:RED.validators.regex(/^(\d*[.]*\d*|)(%|)$/)},
            start: {value:""},
            inout: {value:"out"},
            septopics: {value:true},
            property: {value:"payload", required:true,
                       label:RED._("node-red:rbe.label.property")},
            topi: {value:"topic", required:true,
                   label:RED._("node-red:rbe.label.topic")}
        },
        inputs:1,
        outputs:1,
        icon: "rbe.png",
        paletteLabel: "filter",
        label: function() {
            var ll = (this.func||"").replace("Eq","").replace("rbei",this._("rbe.rbe")).replace("rbe",this._("rbe.rbe"))||this._("rbe.rbe");
            return this.name||ll||this._("rbe.rbe");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.property === undefined) {
                $("#node-input-property").val("payload");
            }
            if (this.septopics === undefined) {
                $("#node-input-septopics").prop('checked', true);
            }
            if (this.topi === undefined) {
                $("#node-input-topi").val("topic");
            }

            $("#node-input-property").typedInput({default:'msg',types:['msg']});
            $("#node-input-topi").typedInput({default:'msg',types:['msg']});
            //$( "#node-input-gap" ).spinner({min:0});
            if ($("#node-input-inout").val() === null) {
                $("#node-input-inout").val("out");
            }
            $("#node-input-func").on("change",function() {
                if (($("#node-input-func").val() === "rbe")||($("#node-input-func").val() === "rbei")) {
                    $("#node-bandgap").hide();
                } else {
                    $("#node-bandgap").show();
                }
                if (($("#node-input-func").val() === "narrowband")||($("#node-input-func").val() === "narrowbandEq")) {
                    $("#node-startvalue").show();
                } else {
                    $("#node-startvalue").hide();
                }
            });
            $("#node-input-septopics").on("change", function() {
                $("#node-input-topi").typedInput("disable",!this.checked);
            })
            $("#node-input-topi").typedInput("disable",!!!this.septopics);

        }
    });
</script>
<script type="text/html" data-help-name="rbe">
    <p>N Relatrio Por Excesso (RPE) - apenas repassa os dados se a carga til tiver mudado.
        tambm pode bloquear ao menos, ou ignorar, se o valor mudar devido a uma quantidade especfica(modo de banda estreita e morta).</p>
     <h3>Entradas</h3>
     <dl class="message-properties">
         <dt>carga til
             <span class="property-type"> nmero | cadeia de caracteres | (objeto)</span>
         </dt>
         <dd>O modo RPE aceita nmeros, cadeia de caracteres e objetos simples.
             Outros modos devem fornecer um nmero analisvel sintticamente.</dd>
         <dt class="optional">tpico<span class="property-type">cadeia de caracteres</span>
         </dt>
         <dd>se especificado, a funo funcionar por tpico. Esta propriedade pode ser definida por configurao.</dd>
         <dt class="optional">redefinir<span class="property-type">qualquer</span></dt>
         <dd>se definido, limpa o valor armazenado para o msg.topic especificado, ou
             todos os tpicos se msg.topic no for especificado.</dd>
     </dl>
     <h3>Sadas</h3>
     <dl class="message-properties">
         <dt>carga til
             <span class="property-type">conforme entrada</span>
         </dt>
         <dd>Se acionado, a sada ser igual  entrada.</dd>
     </dl>
     <h3>Detalhes</h3>
     <p>No modo RPE, este n ir bloquear at o valor de <code>msg.payload</code>,
        (ou propriedade selecionada) seja diferente do valor anterior.
        Se necessrio, ele pode ignorar o valor inicial para no enviar nada no incio.</p>
     <p>Os modos <a href="https://en.wikipedia.org/wiki/Deadband" target="_blank">Bandamorta</a> bloquearo o valor de entrada
        <i>a menos que</i> sua alterao seja maior ou maior-igual que &plusmn; a distncia da lacuna de banda de um valor anterior.</p>
     <p>Os modos de banda estreita bloquearo o valor de entrada,
        <i>se</i> sua alterao for maior ou maior-igual que &plusmn; a distncia da lacuna de banda de um valor anterior.
         til para ignorar casos atpicos de um sensor com defeito, por exemplo.</p>
     <p>Tanto nos modos de banda morta quanto no de banda estreita, o valor de entrada deve conter um nmero analisvel e
        ambos tambm suportam % - envio apenas se/a menos que a entrada difira em mais de x% do valor original.</p>
     <p>Tanto a banda morta quanto a banda estreita permitem a comparao ou com o valor de sada vlido anterior, ignorando desse modo 
     quaisquer valores fora do intervalo, ou com o valor de entrada anterior, que redefine o ponto de ativao, permitindo assim
     derivao gradual(banda morta) ou uma mudana de etapa(banda estreita).</p>
     <p><b>Nota:</b> isso funciona por base em  <code>msg.topic</code>, embora possa ser alterado para outra propriedade, se desejado.
        Isso significa que um nico n de filtro pode lidar com vrios tpicos diferentes ao mesmo tempo.</p>
</script>

</div><div><!-- --- [red-module:node-red/tls] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="tls-config">
    <div class="form-row" class="hide" id="node-config-row-uselocalfiles">
        <input type="checkbox" id="node-config-input-uselocalfiles" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-config-input-uselocalfiles" style="width: 70%;"><span data-i18n="tls.label.use-local-files"></label>
    </div>
    <div class="form-row">
        <label style="width: 120px;"><i class="fa fa-file-text-o"></i> <span data-i18n="tls.label.cert"></span></label>
        <span class="tls-config-input-data">
            <label class="red-ui-button" for="node-config-input-certfile"><i class="fa fa-upload"></i> <span data-i18n="tls.label.upload"></span></label>
            <input class="hide" type="file" id="node-config-input-certfile">
            <span id="tls-config-certname" style="width: calc(100% - 280px); overflow: hidden; line-height:34px; height:34px; text-overflow: ellipsis; white-space: nowrap; display: inline-block; vertical-align: middle;"> </span>
            <button type="button" class="red-ui-button red-ui-button-small" id="tls-config-button-cert-clear" style="margin-left: 10px"><i class="fa fa-times"></i></button>
        </span>
        <input type="hidden" id="node-config-input-certname">
        <input type="hidden" id="node-config-input-certdata">
        <input class="hide tls-config-input-path" style="width: calc(100% - 170px);" type="text" id="node-config-input-cert" data-i18n="[placeholder]tls.placeholder.cert">
    </div>
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-key"><i class="fa fa-file-text-o"></i> <span data-i18n="tls.label.key"></span></label>
        <span class="tls-config-input-data">
            <label class="red-ui-button" for="node-config-input-keyfile"><i class="fa fa-upload"></i> <span data-i18n="tls.label.upload"></span></label>
            <input class="hide" type="file" id="node-config-input-keyfile">
            <span id="tls-config-keyname" style="width: calc(100% - 280px); overflow: hidden; line-height:34px; height:34px; text-overflow: ellipsis; white-space: nowrap; display: inline-block; vertical-align: middle;"> </span>
            <button type="button" class="red-ui-button red-ui-button-small" id="tls-config-button-key-clear" style="margin-left: 10px"><i class="fa fa-times"></i></button>
        </span>
        <input type="hidden" id="node-config-input-keyname">
        <input type="hidden" id="node-config-input-keydata">
        <input class="hide tls-config-input-path" style="width: calc(100% - 170px);" type="text" id="node-config-input-key" data-i18n="[placeholder]tls.placeholder.key">
    </div>
    <div class="form-row">
        <label style="width: 100px; margin-left: 20px;" for="node-config-input-passphrase"> <span data-i18n="tls.label.passphrase"></span></label>
        <input type="password" style="width: calc(100% - 170px);" id="node-config-input-passphrase" data-i18n="[placeholder]tls.placeholder.passphrase">
    </div>
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-ca"><i class="fa fa-file-text-o"></i> <span data-i18n="tls.label.ca"></span></label>
        <span class="tls-config-input-data">
            <label class="red-ui-button" for="node-config-input-cafile"><i class="fa fa-upload"></i> <span data-i18n="tls.label.upload"></span></label>
            <input class="hide" type="file" title=" " id="node-config-input-cafile">
            <span id="tls-config-caname" style="width: calc(100% - 280px); overflow: hidden; line-height:34px; height:34px; text-overflow: ellipsis; white-space: nowrap; display: inline-block; vertical-align: middle;"> </span>
            <button type="button" class="red-ui-button red-ui-button-small" id="tls-config-button-ca-clear" style="margin-left: 10px"><i class="fa fa-times"></i></button>
        </span>
        <input type="hidden" id="node-config-input-caname">
        <input type="hidden" id="node-config-input-cadata">
        <input class="hide tls-config-input-path" style="width: calc(100% - 170px);" type="text" id="node-config-input-ca" data-i18n="[placeholder]tls.placeholder.ca">
    </div>
    <div class="form-row">
        <input type="checkbox" id="node-config-input-verifyservercert" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-config-input-verifyservercert" style="width: calc(100% - 170px);" data-i18n="tls.label.verify-server-cert"></label>
    </div>
    <div class="form-row">
        <label style="width: 126px;" for="node-config-input-servername"><i class="fa fa-server"></i> <span data-i18n="tls.label.servername"></span></label>
        <input style="width: calc(100% - 176px);" type="text" id="node-config-input-servername" data-i18n="[placeholder]tls.placeholder.servername">
    </div>
    <div class="form-row">
        <label style="width: 126px;" for="node-config-input-alpnprotocol"><i class="fa fa-cogs"></i> <span data-i18n="tls.label.alpnprotocol"></span></label>
        <input style="width: calc(100% - 176px);" type="text" id="node-config-input-alpnprotocol" data-i18n="[placeholder]tls.placeholder.alpnprotocol">
    </div>
    <hr>
    <div class="form-row">
        <label style="width: 120px;" for="node-config-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input style="width: calc(100% - 170px);" type="text" id="node-config-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('tls-config',{
        category: 'config',
        defaults: {
            name: {value:""},
            cert: {value:"", validate: function(v,opt) {
                var currentKey = $("#node-config-input-key").val();
                if (currentKey === undefined) {
                    currentKey = this.key;
                }
                if (currentKey === '' || v != '') {
                    return true;
                }
                return RED._("node-red:tls.error.invalid-cert");
            }},
            key: {value:"", validate: function(v,opt) {
                var currentCert = $("#node-config-input-cert").val();
                if (currentCert === undefined) {
                    currentCert = this.cert;
                }
                if (currentCert === '' || v != '') {
                    return true;
                }
                return RED._("node-red:tls.error.invalid-key");
            }},
            ca: {value:""},
            certname: {value:""},
            keyname: {value:""},
            caname: {value:""},
            servername: {value:""},
            verifyservercert: {value: true},
            alpnprotocol: {value: ""}
        },
        credentials: {
            certdata: {type:"text"},
            keydata: {type:"text"},
            cadata: {type:"text"},
            passphrase: {type:"password"}
        },
        label: function() {
            return this.name || this._("tls.tls");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            function updateFileUpload() {
                if ($("#node-config-input-uselocalfiles").is(':checked')) {
                    $(".tls-config-input-path").show();
                    $(".tls-config-input-data").hide();
                } else {
                    $(".tls-config-input-data").show();
                    $(".tls-config-input-path").hide();
                }
            }
            $("#node-config-input-uselocalfiles").on("click",function() {
                updateFileUpload();
            });

            function saveFile(property, file) {
                var dataInputId = "#node-config-input-"+property+"data";
                var filenameInputId = "#node-config-input-"+property+"name";
                var filename = file.name;
                var reader = new FileReader();
                reader.onload = function(event) {
                    $("#tls-config-"+property+"name").text(filename);
                    $(filenameInputId).val(filename);
                    $(dataInputId).val(event.target.result);
                }
                reader.readAsText(file,"UTF-8");
            }
            $("#node-config-input-certfile" ).on("change", function() {
                saveFile("cert", this.files[0]);
            });
            $("#node-config-input-keyfile" ).on("change", function() {
                saveFile("key", this.files[0]);
            });
            $("#node-config-input-cafile" ).on("change", function() {
                saveFile("ca", this.files[0]);
            });

            function clearNameData(prop) {
                $("#tls-config-"+prop+"name").text("");
                $("#node-config-input-"+prop+"data").val("");
                $("#node-config-input-"+prop+"name").val("");
            }
            $("#tls-config-button-cert-clear").on("click", function() {
                clearNameData("cert");
            });
            $("#tls-config-button-key-clear").on("click", function() {
                clearNameData("key");
            });
            $("#tls-config-button-ca-clear").on("click", function() {
                clearNameData("ca");
            });

            if (RED.settings.tlsConfigDisableLocalFiles) {
                $("#node-config-row-uselocalfiles").hide();
            } else {
                $("#node-config-row-uselocalfiles").show();
            }
            // in case paths were set from old TLS config
            if(this.cert || this.key || this.ca) {
                $("#node-config-input-uselocalfiles").prop('checked',true);
            }
            $("#tls-config-certname").text(this.certname);
            $("#tls-config-keyname").text(this.keyname);
            $("#tls-config-caname").text(this.caname);
            updateFileUpload();
        },
        oneditsave: function() {
            if ($("#node-config-input-uselocalfiles").is(':checked')) {
                clearNameData("ca");
                clearNameData("cert");
                clearNameData("key");
            } else {
                $("#node-config-input-ca").val("");
                $("#node-config-input-cert").val("");
                $("#node-config-input-key").val("");
            }
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="tls-config">
  <p>Opes de configurao para conexes TLS.</p>
</script>

</div><div><!-- --- [red-module:node-red/httpproxy] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="http proxy">
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-config-input-name">
    </div>
    <div class="form-row">
        <label for="node-config-input-url"><i class="fa fa-globe"></i> <span data-i18n="httpin.label.url"></span></label>
        <input type="text" id="node-config-input-url" placeholder="http://hostname:port">
    </div>
    <div class="form-row">
        <input type="checkbox" id="node-config-input-useAuth" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-config-input-useAuth" style="width: 70%;"><span data-i18n="httpin.use-proxyauth"></span></label>
        <div style="margin-left: 20px" class="node-config-input-useAuth-row hide">
            <div class="form-row">
                <label for="node-config-input-username"><i class="fa fa-user"></i> <span data-i18n="common.label.username"></span></label>
                <input type="text" id="node-config-input-username">
            </div>
            <div class="form-row">
                <label for="node-config-input-password"><i class="fa fa-lock"></i> <span data-i18n="common.label.password"></span></label>
                <input type="password" id="node-config-input-password">
            </div>
        </div>
    </div>
    <div class="form-row" style="margin-bottom:0;">
        <label><i class="fa fa-list"></i> <span data-i18n="httpin.noproxy-hosts"></span></label>
    </div>
    <div class="form-row node-config-input-noproxy-container-row">
        <ol id="node-config-input-noproxy-container"></ol>
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('http proxy', {
        category: 'config',
        defaults: {
            name: {value:''},
            url: {
                value:'',
                validate:function(v, opt) {
                    if ((v && (v.indexOf('://') !== -1) &&
                         (v.trim().indexOf('http') === 0))) {
                        return true;
                    }
                    return RED._("node-red:httpin.errors.invalid-url");
                }
            },
            noproxy: {value:[]}
        },
        credentials: {
            username: {type:'text'},
            password: {type:'password'}
        },
        label: function() {
            return this.name || this.url || ('http proxy:' + this.id);
        },
        oneditprepare: function() {
            $('#node-config-input-useAuth').on("change", function() {
                if ($(this).is(":checked")) {
                    $('.node-config-input-useAuth-row').show();
                } else {
                    $('.node-config-input-useAuth-row').hide();
                    $('#node-config-input-username').val('');
                    $('#node-config-input-password').val('');
                }
            });
            if (this.credentials.username || this.credentials.has_password) {
                $('#node-config-input-useAuth').prop('checked', true);
            } else {
                $('#node-config-input-useAuth').prop('checked', false);
            }
            $('#node-config-input-useAuth').change();

            var hostList = $('#node-config-input-noproxy-container')
                .css({'min-height':'150px','min-width':'450px'})
                .editableList({
                    addItem: function(container, index, data) {
                        var row = $('<div/>')
                            .css({overflow: 'hidden',whiteSpace: 'nowrap'})
                            .appendTo(container);

                        var hostField = $('<input/>',{class:'node-config-input-host',type:'text',placeholder:'hostname'})
                            .css({width:'100%'})
                            .appendTo(row);
                        if (data.host) {
                            hostField.val(data.host);
                        }
                    },
                    sortable: true,
                    removable: true
                });
            if (this.noproxy) {
                for (var i in this.noproxy) {
                    hostList.editableList('addItem', {host:this.noproxy[i]});
                }
            }
            if (hostList.editableList('items').length == 0) {
                hostList.editableList('addItem', {host:''});
            }
        },
        oneditsave: function() {
            var hosts = $('#node-config-input-noproxy-container').editableList('items');
            var node = this;
            node.noproxy = [];
            hosts.each(function(i) {
                var host = $(this).find('.node-config-input-host').val().trim();
                if (host) {
                    node.noproxy.push(host);
                }
            });
        },
        oneditresize: function(size) {
            var rows = $('#node-config-dialog-edit-form>div:not(.node-config-input-noproxy-container-row)');
            var height = size.height;
            for (var i = 0; i < rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }

            var editorRow = $('#node-config-dialog-edit-form>div.node-config-input-noproxy-container-row');
            height -= (parseInt(editorRow.css('margin-top')) + parseInt(editorRow.css('margin-bottom')));
            $('#node-config-input-noproxy-container').editableList('height',height);
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="http proxy">
  <p>Opes de configurao para proxy HTTP.</p>

  <h3>Detalhes</h3>
  <p>Ao acessar o servidor na lista de servidores ignorados, nenhum proxy ser usado.</p>
</script>

</div><div><!-- --- [red-module:node-red/mqtt] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<style>

    .mqtt-form-row-cols2 > input.mqtt-form-row-col1 {
        width: calc(35% - 75px);
    }
    .mqtt-form-row-cols2 > select.mqtt-form-row-col1 {
        width: calc(35% - 75px);
    }

    .mqtt-form-row-cols2 > label.mqtt-form-row-col2 {
        width: 100px;
        margin-left: 42px;
        display: inline-block;
    }
    .mqtt-form-row-cols2 > input.mqtt-form-row-col2 {
        width: calc(35% - 75px);
        display: inline-block;
    }
    .mqtt-form-row-cols2 > select.mqtt-form-row-col2 {
        width: calc(35% - 75px);
        display: inline-block;
    }
    .form-row.mqtt5-out > label {
        width: 130px;
    }
    .form-row.mqtt-flags-row > label {
        vertical-align: top;
    }
    .form-row.mqtt-flags-row > .mqtt-flags {
        display: inline-block;
        width: 70%
    }

    .form-row.mqtt-flags-row > .mqtt-flags > .mqtt-flag > label {
        display: block;
        width: 100%;
    }
    .form-row.mqtt-flags-row > .mqtt-flags > .mqtt-flag > label > input {
        position: relative;
        vertical-align: bottom;
        top: -2px;
        width: 15px;
        height: 15px;
    }
    .form-row-mqtt5 {
        display: none;
    }
    .form-row-mqtt5.form-row-mqtt5-active:not(.form-row-mqtt-static-disabled) {
        display: block
    }
    .form-row-mqtt-static-disabled {
        display: none;
        /* opacity: 0.3;
        pointer-events: none; */
    }
    .form-row.form-row-mqtt-datatype-tip > .form-tips {
        width: calc(70% - 18px);
        display: inline-block;
        margin-top: -8px;
    }

</style>

<script type="text/html" data-template-name="mqtt in">
    <div class="form-row">
        <label for="node-input-broker"><i class="fa fa-globe"></i> <span data-i18n="mqtt.label.broker"></span></label>
        <input type="text" id="node-input-broker">
    </div>
    <div class="form-row">
        <label for="node-input-topicType" data-i18n="mqtt.label.action"></label>
        <select id="node-input-topicType" style="width: 70%">
            <option value="topic" data-i18n="mqtt.label.staticTopic"></option>
            <option value="dynamic" data-i18n="mqtt.label.dynamicTopic"></option>
        </select>
        <input type="hidden" id="node-input-inputs">
    </div>
    <div class="form-row form-row-mqtt-static">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]common.label.topic">
    </div>
    <div class="form-row form-row-mqtt-static">
        <label for="node-input-qos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
        <select id="node-input-qos" style="width:125px !important">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
    </div>
    <div class="form-row mqtt-flags-row form-row-mqtt5 form-row-mqtt-static">
        <label for="node-input-nl" ><i class="fa fa-flag"></i> <span data-i18n="mqtt.label.flags">Flags</span></label>
        <div class="mqtt-flags">
            <div class="mqtt-flag">
                <label for="node-input-nl">
                    <input type="checkbox" id="node-input-nl">
                    <span data-i18n="mqtt.label.nl"></span>
                </label>
            </div>
            <div class="mqtt-flag">
                <label for="node-input-rap">
                    <input type="checkbox" id="node-input-rap">
                    <span data-i18n="mqtt.label.rap"></span>
                </label>
            </div>
        </div>
    </div>
    <div class="form-row form-row-mqtt5 form-row-mqtt-static">
        <label for="node-input-rh" style="width:100%"><i class="fa fa-tag"></i> <span data-i18n="mqtt.label.rh"></span></label>
        <select id="node-input-rh" style="margin-left: 104px; width: 70%">
            <option value="0" data-i18n="mqtt.label.rh0"></option>
            <option value="1" data-i18n="mqtt.label.rh1"></option>
            <option value="2" data-i18n="mqtt.label.rh2"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-datatype"><i class="fa fa-sign-out"></i> <span data-i18n="mqtt.label.output"></span></label>
        <select id="node-input-datatype" style="width:70%;">
            <option value="auto-detect" data-i18n="mqtt.output.auto-detect"></option>
            <option value="auto" data-i18n="mqtt.output.auto"></option>
            <option value="buffer" data-i18n="mqtt.output.buffer"></option>
            <option value="utf8" data-i18n="mqtt.output.string"></option>
            <option value="json" data-i18n="mqtt.output.json"></option>
            <option value="base64" data-i18n="mqtt.output.base64"></option>
        </select>
    </div>
    <div class="form-row form-row-mqtt-datatype-tip">
        <label> &nbsp; </label>
        <div class="form-tips" id="mqtt-in-datatype-depreciated-tip"><span data-i18n="mqtt.label.auto-mode-depreciated"></span></div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/html" data-template-name="mqtt out">
    <div class="form-row">
        <label for="node-input-broker"><i class="fa fa-globe"></i> <span data-i18n="mqtt.label.broker"></span></label>
        <input type="text" id="node-input-broker">
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]common.label.topic">
    </div>

    <div class="form-row mqtt-form-row-cols2">
        <label for="node-input-qos" class="mqtt-form-row-col1"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
        <select id="node-input-qos" class="mqtt-form-row-col1">
            <option value=""></option>
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
        </select>

        <label for="node-input-retain" class="mqtt-form-row-col2"><i class="fa fa-history"></i> <span data-i18n="mqtt.retain"></span></label>
        <select id="node-input-retain" class="mqtt-form-row-col2" >
            <option value=""></option>
            <option value="false" data-i18n="mqtt.false"></option>
            <option value="true" data-i18n="mqtt.true"></option>
        </select>
    </div>
    <div class="form-row mqtt5 mqtt5-out">
        <label for="node-input-userProps"><span data-i18n="mqtt.label.userProperties"></span></label>
        <input type="text" id="node-input-userProps" style="width: calc(100% - 166px);">
    </div>
    <div class="form-row mqtt5 mqtt5-out">
        <label for="node-input-respTopic"><span data-i18n="mqtt.label.responseTopic"></span></label>
        <input type="text" id="node-input-respTopic" style="width: calc(100% - 166px);">
    </div>
    <div class="form-row mqtt5 mqtt5-out">
        <label for="node-input-correl"><span data-i18n="mqtt.label.correlationData"></span></label>
        <input type="text" id="node-input-correl" style="width: calc(100% - 166px);">
    </div>
    <div class="form-row mqtt5 mqtt5-out">
        <label for="node-input-contentType"><span data-i18n="mqtt.label.contentType"></span></label>
        <input type="text" id="node-input-contentType" style="width: calc(100% - 166px);">
    </div>

    <div class="form-row mqtt-form-row-cols2 mqtt5 mqtt5-out">
        <label for="node-input-expiry" class="mqtt-form-row-col1"><span data-i18n="mqtt.label.expiry"></span></label>
        <input id="node-input-expiry"  style="width: calc(100% - 166px);" class="mqtt-form-row-col1" >
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="mqtt.tip"></span></div>
</script>

<script type="text/html" data-template-name="mqtt-broker">
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-config-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <ul style="min-width: 600px; margin-bottom: 20px;" id="node-config-mqtt-broker-tabs"></ul>
    </div>
    <div id="node-config-mqtt-broker-tabs-content" style="min-height:150px;">
        <div id="mqtt-broker-tab-connection" style="display:none">
            <div class="form-row node-input-broker">
                <label for="node-config-input-broker"><i class="fa fa-globe"></i> <span data-i18n="mqtt.label.broker"></span></label>
                <input type="text" id="node-config-input-broker" style="width: calc(100% - 300px);" data-i18n="[placeholder]mqtt.label.example">
                <label for="node-config-input-port" style="margin-left:20px; width:43px; "> <span data-i18n="mqtt.label.port"></span></label>
                <input type="text" id="node-config-input-port" data-i18n="[placeholder]mqtt.label.port" style="width:55px">
            </div>
            <div class="form-row" style="margin-bottom:0">
                <input type="checkbox" id="node-config-input-autoConnect" style="margin: 0 5px 0 104px; display: inline-block; width: auto;">
                <label for="node-config-input-autoConnect" style="width: auto"><span data-i18n="mqtt.label.auto-connect"></span></label>
            </div>
            <div class="form-row" style="height: 34px;">
                <input type="checkbox" id="node-config-input-usetls" style="height: 34px; margin: 0 5px 0 104px; display: inline-block; width: auto; vertical-align: top;">
                <label for="node-config-input-usetls" style="width: 100px; line-height: 34px;"><span data-i18n="mqtt.label.use-tls"></span></label>
                <span id="node-config-row-tls" class="hide"><input style="width: 320px;" type="text" id="node-config-input-tls"></span>
            </div>
            <div class="form-row">
                <label for="node-config-input-protocolVersion"><i class="fa fa-cog"></i> <span data-i18n="mqtt.label.protocolVersion"></span></label>
                <select id="node-config-input-protocolVersion" style="width:70%;">
                    <option value="3" data-i18n="mqtt.label.protocolVersion3"></option>
                    <option value="4" data-i18n="mqtt.label.protocolVersion4"></option>
                    <option value="5" data-i18n="mqtt.label.protocolVersion5"></option>
                </select>
            </div>
            <div class="form-row">
                <label for="node-config-input-clientid"><i class="fa fa-tag"></i> <span data-i18n="mqtt.label.clientid"></span></label>
                <input type="text" id="node-config-input-clientid" data-i18n="[placeholder]mqtt.placeholder.clientid">
            </div>
            <div class="form-row">
                <label for="node-config-input-keepalive"><i class="fa fa-heartbeat"></i> <span data-i18n="mqtt.label.keepalive"></span></label>
                <input type="number" min="0" id="node-config-input-keepalive" style="width: 100px">
            </div>
            <div class="form-row" style="margin-bottom:0">
                <label style="vertical-align:top;"><i class="fa fa-info"></i> <span data-i18n="mqtt.label.session"></span></label>
                <div style="display: inline-block; width:calc(100% - 110px)">
                    <div class="form-row">
                        <label for="node-config-input-cleansession" style="width: auto;">
                            <input type="checkbox" id="node-config-input-cleansession" style="position: relative;vertical-align: bottom; top: -2px; width: 15px;height: 15px;">
                            <span id="node-config-input-cleansession-label" data-i18n="mqtt.label.cleansession"></span>
                        </label>
                    </div>
                    <div class="form-row mqtt-persistence">
                        <label for="node-config-input-autoUnsubscribe" style="width: auto;">
                            <input type="checkbox" id="node-config-input-autoUnsubscribe" style="position: relative;vertical-align: bottom; top: -2px; width: 15px;height: 15px;">
                            <span id="node-config-input-autoUnsubscribe-label" data-i18n="mqtt.label.autoUnsubscribe"></span>
                        </label>
                    </div>
                    <div class="form-row mqtt5">
                        <label style="width:auto" for="node-config-input-sessionExpiry"><span data-i18n="mqtt.label.sessionExpiry"></span></label>
                        <input type="number" min="0" id="node-config-input-sessionExpiry" style="width: 100px" >
                    </div>
                </div>
            </div>
            <div class="form-row mqtt5">
                <label style="width: 125px;" for="node-config-input-userProps"><span data-i18n="mqtt.label.userProperties"></span></label>
                <input type="text" id="node-config-input-userProps" style="width: calc(100% - 166px);">
            </div>
            <br>
        </div>
        <div id="mqtt-broker-tab-security" style="display:none">
            <div class="form-row">
                <label for="node-config-input-user"><i class="fa fa-user"></i> <span data-i18n="common.label.username"></span></label>
                <input type="text" id="node-config-input-user">
            </div>
            <div class="form-row">
                <label for="node-config-input-password"><i class="fa fa-lock"></i> <span data-i18n="common.label.password"></span></label>
                <input type="password" id="node-config-input-password">
            </div>
        </div>
        <div id="mqtt-broker-tab-messages" style="display:none">
            <div id="mqtt-broker-section-birth">
                <div class="red-ui-palette-header">
                    <i class="fa fa-angle-down"></i><span data-i18n="mqtt.sections-label.birth-message"></span>
                </div>
                <div class="section-content" style="padding:10px 0 0 10px">
                    <div class="form-row">
                        <label style="width: 100px !important;" for="node-config-input-birthTopic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
                        <input style="width: calc(100% - 300px) !important" type="text" id="node-config-input-birthTopic" data-i18n="[placeholder]mqtt.placeholder.birth-topic">
                        <label style="margin-left: 10px; width: 90px !important;" for="node-config-input-birthRetain"><i class="fa fa-history"></i> <span data-i18n="mqtt.label.retain"></span></label>
                        <select id="node-config-input-birthRetain" style="width:75px !important">
                            <option value="false" data-i18n="mqtt.false"></option>
                            <option value="true" data-i18n="mqtt.true"></option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label style="width: 100px !important;" for="node-config-input-birthPayload"><i class="fa fa-envelope"></i> <span data-i18n="common.label.payload"></span></label>
                        <input style="width: calc(100% - 300px) !important" type="text" id="node-config-input-birthPayload" style="width:300px" data-i18n="[placeholder]common.label.payload">
                        <label style="margin-left: 10px; width: 90px !important;" for="node-config-input-birthQos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
                        <select id="node-config-input-birthQos" style="width:75px !important">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-birth-contentType" data-i18n="mqtt.label.contentType"></label>
                        <input type="text" style="width:calc(100% - 200px);" id="node-config-input-birth-contentType">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-birth-props" data-i18n="mqtt.label.userProperties"></label>
                        <input type="text" style="width:calc(100% - 200px);" id="node-config-input-birth-props">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-birth-respTopic"><span data-i18n="mqtt.label.responseTopic"></span></label>
                        <input type="text" id="node-config-input-birth-respTopic" style="width: calc(100% - 200px);">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-birth-correl"><span data-i18n="mqtt.label.correlationData"></span></label>
                        <input type="text" id="node-config-input-birth-correl" style="width: calc(100% - 200px);">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-birth-expiry"><span data-i18n="mqtt.label.expiry"></span></label>
                        <input id="node-config-input-birth-expiry"  style="width: calc(100% - 200px);">
                    </div>
                </div>
            </div>
            <div id="mqtt-broker-section-close">
                <div class="red-ui-palette-header">
                    <i class="fa fa-angle-down"></i><span data-i18n="mqtt.sections-label.close-message"></span>
                </div>
                <div class="section-content" style="padding:10px 0 0 10px">
                    <div class="form-row">
                        <label style="width: 100px !important;" for="node-config-input-closeTopic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
                        <input style="width: calc(100% - 300px) !important" type="text" id="node-config-input-closeTopic" style="width:300px" data-i18n="[placeholder]mqtt.placeholder.close-topic">
                        <label style="margin-left: 10px; width: 90px !important;" for="node-config-input-closeRetain"><i class="fa fa-history"></i> <span data-i18n="mqtt.label.retain"></span></label>
                        <select id="node-config-input-closeRetain" style="width:75px !important">
                            <option value="false" data-i18n="mqtt.false"></option>
                            <option value="true" data-i18n="mqtt.true"></option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label style="width: 100px !important;" for="node-config-input-closePayload"><i class="fa fa-envelope"></i> <span data-i18n="common.label.payload"></span></label>
                        <input style="width: calc(100% - 300px) !important" type="text" id="node-config-input-closePayload" style="width:300px" data-i18n="[placeholder]common.label.payload">
                        <label style="margin-left: 10px; width: 90px !important;" for="node-config-input-closeQos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
                        <select id="node-config-input-closeQos" style="width:75px !important">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-close-contentType" data-i18n="mqtt.label.contentType"></label>
                        <input type="text" style="width:calc(100% - 200px);" id="node-config-input-close-contentType">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-close-props" data-i18n="mqtt.label.userProperties"></label>
                        <input type="text" style="width:calc(100% - 200px);" id="node-config-input-close-props">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-close-respTopic"><span data-i18n="mqtt.label.responseTopic"></span></label>
                        <input type="text" id="node-config-input-close-respTopic" style="width: calc(100% - 200px);">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-close-correl"><span data-i18n="mqtt.label.correlationData"></span></label>
                        <input type="text" id="node-config-input-close-correl" style="width: calc(100% - 200px);">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-close-expiry"><span data-i18n="mqtt.label.expiry"></span></label>
                        <input id="node-config-input-close-expiry"  style="width: calc(100% - 200px);">
                    </div>
                </div>
            </div>
            <div id="mqtt-broker-section-will">
                <div class="red-ui-palette-header">
                    <i class="fa fa-angle-down"></i><span data-i18n="mqtt.sections-label.will-message"></span>
                </div>
                <div class="section-content" style="padding:10px 0 0 10px">
                    <div class="form-row">
                        <label style="width: 100px !important;" for="node-config-input-willTopic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
                        <input style="width: calc(100% - 300px) !important" type="text" id="node-config-input-willTopic" style="width:300px" data-i18n="[placeholder]mqtt.placeholder.will-topic">
                        <label style="margin-left: 10px; width: 90px !important;" for="node-config-input-willRetain"><i class="fa fa-history"></i> <span data-i18n="mqtt.label.retain"></span></label>
                        <select id="node-config-input-willRetain" style="width:75px !important">
                            <option value="false" data-i18n="mqtt.false"></option>
                            <option value="true" data-i18n="mqtt.true"></option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label style="width: 100px !important;" for="node-config-input-willPayload"><i class="fa fa-envelope"></i> <span data-i18n="common.label.payload"></span></label>
                        <input style="width: calc(100% - 300px) !important" type="text" id="node-config-input-willPayload" style="width:300px" data-i18n="[placeholder]common.label.payload">
                        <label style="margin-left: 10px; width: 90px !important;" for="node-config-input-willQos"><i class="fa fa-empire"></i> <span data-i18n="mqtt.label.qos"></span></label>
                        <select id="node-config-input-willQos" style="width:75px !important">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </div>
                    <div class="form-row mqtt5">
                        <label><span data-i18n="mqtt.label.delay"></span></label>
                        <input type="number" min="0" id="node-config-input-will-delay" style="width: 100px" >
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-will-contentType" data-i18n="mqtt.label.contentType"></label>
                        <input type="text" style="width:calc(100% - 200px);" id="node-config-input-will-contentType">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-will-props" data-i18n="mqtt.label.userProperties"></label>
                        <input type="text" style="width:calc(100% - 200px);" id="node-config-input-will-props">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-will-respTopic"><span data-i18n="mqtt.label.responseTopic"></span></label>
                        <input type="text" id="node-config-input-will-respTopic" style="width: calc(100% - 200px);">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-will-correl"><span data-i18n="mqtt.label.correlationData"></span></label>
                        <input type="text" id="node-config-input-will-correl" style="width: calc(100% - 200px);">
                    </div>
                    <div class="form-row mqtt5 mqtt5-out">
                        <label for="node-config-input-will-expiry"><span data-i18n="mqtt.label.expiry"></span></label>
                        <input id="node-config-input-will-expiry"  style="width: calc(100% - 200px);">
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/javascript">
(function() {

    var typedInputNoneOpt = {
        value: 'none',
        label: RED._("node-red:mqtt.label.none"),
        hasValue: false
    };
    var makeTypedInputOpt = function(value){
        return {
            value: value,
            label:value,
            hasValue: false
        }
    }
    var contentTypeOpts = [
        typedInputNoneOpt,
        makeTypedInputOpt("application/json"),
        makeTypedInputOpt("application/octet-stream"),
        makeTypedInputOpt("text/csv"),
        makeTypedInputOpt("text/html"),
        makeTypedInputOpt("text/plain"),
        {
            value: "other",
            label: RED._("node-red:mqtt.label.other"),
            icon: "red/images/typedInput/az.svg"
        }
    ];

    function getDefaultContentType(value) {
        var defaultContentType;
        var matchedContentType = contentTypeOpts.filter(function(v) {
            return v.value === value;
        })
        if (matchedContentType.length > 0) {
            defaultContentType = matchedContentType[0].value;
        }
        if (value && !defaultContentType) {
            defaultContentType = 'other';
        }
        return defaultContentType || 'none'
    }
    /**
     * Test a topic string is valid for publishing
     * @param {string} topic
     * @returns `true` if it is a valid topic
     */
    function validateMQTTPublishTopic(topic, opts) {
        if(!topic || topic == "" || !/[\+#\b\f\n\r\t\v\0]/.test(topic)) {
            return true;
        }
        return RED._("node-red:mqtt.errors.invalid-topic");
    }
    RED.nodes.registerType('mqtt-broker',{
        category: 'config',
        defaults: {
            name: {value:""},
            broker: {value:"",required:true},
            port: {
                value:1883,required:false,
                label: RED._("node-red:mqtt.label.port"),
                validate:RED.validators.number(true)},
            tls: {type:"tls-config",required: false,
                  label:RED._("node-red:mqtt.label.use-tls") },
            clientid: {value:"", validate: function(v, opt) {
                let ok = true;
                if ($("#node-config-input-clientid").length) {
                    // Currently editing the node
                    let needClientId = !$("#node-config-input-cleansession").is(":checked")
                    if (needClientId) {
                        ok = (v||"").length > 0;
                    }
                } else {
                    let needClientId = !(this.cleansession===undefined || this.cleansession)
                    if (needClientId) {
                        ok = (v||"").length > 0;
                    }
                }
                if (!ok) {
                    return RED._("node-red:mqtt.errors.invalid-client-id");
                }
                return true;
            }},
            autoConnect: {value: true},
            usetls: {value: false},
            verifyservercert: { value: false},
            compatmode: { value: false},
            protocolVersion: { value: 4},
            keepalive: {
                value:60,
                label: RED._("node-red:mqtt.label.keepalive"),
                validate:RED.validators.number(false)},
            cleansession: {value: true},
            autoUnsubscribe: {value: true},
            birthTopic: {value:"", validate:validateMQTTPublishTopic},
            birthQos: {value:"0"},
            birthRetain: {value:"false"},
            birthPayload: {value:""},
            birthMsg: { value: {}},
            closeTopic: {value:"", validate:validateMQTTPublishTopic},
            closeQos: {value:"0"},
            closeRetain: {value:"false"},
            closePayload: {value:""},
            closeMsg: { value: {}},
            willTopic: {value:"", validate:validateMQTTPublishTopic},
            willQos: {value:"0"},
            willRetain: {value:"false"},
            willPayload: {value:""},
            willMsg: { value: {}},
            userProps: { value: ""},
            sessionExpiry: {value:0}
        },
        credentials: {
            user: {type:"text"},
            password: {type: "password"}
        },
        label: function() {
            if (this.name) {
                return this.name;
            }
            var b = this.broker;
            if (!b) { b = "undefined"; }
            var lab = "";
            lab = (this.clientid?this.clientid+"@":"")+b;
            if (b.indexOf("://") === -1){
                if (!this.port){ lab = lab + ":1883"; }
                else { lab = lab + ":" + this.port; }
            }
            return lab;
        },
        oneditprepare: function () {
            var tabs = RED.tabs.create({
                id: "node-config-mqtt-broker-tabs",
                onchange: function(tab) {
                    $("#node-config-mqtt-broker-tabs-content").children().hide();
                    $("#" + tab.id).show();
                }
            });
            tabs.addTab({
                id: "mqtt-broker-tab-connection",
                label: this._("mqtt.tabs-label.connection")
            });
            tabs.addTab({
                id: "mqtt-broker-tab-security",
                label: this._("mqtt.tabs-label.security")
            });

            tabs.addTab({
                id: "mqtt-broker-tab-messages",
                label: this._("mqtt.tabs-label.messages")
            });

            function setUpSection(sectionId, v5Opts, isExpanded) {
                var birthMessageSection = $("#mqtt-broker-section-"+sectionId);
                var paletteHeader = birthMessageSection.find('.red-ui-palette-header');
                var twistie = paletteHeader.find('i');
                var sectionContent = birthMessageSection.find('.section-content');

                function toggleSection(expanded) {
                    twistie.toggleClass('expanded', expanded);
                    sectionContent.toggle(expanded);
                }
                paletteHeader.on("click", function(e) {
                    e.preventDefault();
                    var isExpanded = twistie.hasClass('expanded');
                    toggleSection(!isExpanded);
                });
                toggleSection(isExpanded);
                $("#node-config-input-"+sectionId+"-contentType").val(v5Opts?v5Opts.contentType:"").typedInput({
                    default: getDefaultContentType(v5Opts?v5Opts.contentType:""),
                    types: contentTypeOpts,
                });

                $("#node-config-input-"+sectionId+"-props").val(v5Opts?v5Opts.userProps:"").typedInput({
                    default:  !(v5Opts?v5Opts.userProps:null)? 'none':'json',
                    types: [typedInputNoneOpt, 'json'],
                });
                $("#node-config-input-"+sectionId+"-respTopic").val(v5Opts?v5Opts.respTopic:"").typedInput({
                    default:  !(v5Opts?v5Opts.respTopic:null)? 'none':'str',
                    types: [typedInputNoneOpt, 'str'],
                });
                $("#node-config-input-"+sectionId+"-correl").val(v5Opts?v5Opts.correl:"").typedInput({
                    default:  !(v5Opts?v5Opts.correl:null)? 'none':'str',
                    types: [typedInputNoneOpt, 'str'],
                });
                $("#node-config-input-"+sectionId+"-expiry").val(v5Opts?v5Opts.expiry:"").typedInput({
                    default:  !(v5Opts?v5Opts.expiry:null)? 'none':'num',
                    types: [typedInputNoneOpt, 'num'],
                });
            }

            // show first section if none are set so the user gets the idea
            var showBirthSection = this.birthTopic !== ""
                || this.willTopic === ""
                && this.birthTopic === ""
                && this.closeTopic == "";
            setUpSection('birth', this.birthMsg, showBirthSection);
            setUpSection('close', this.closeMsg, this.closeTopic !== "");
            setUpSection('will', this.willMsg, this.willTopic !== "");

            if (this.willMsg) {
                $("#node-config-input-will-delay").val(this.willMsg.delay);
            }

            setTimeout(function() { tabs.resize(); },0);
            if (typeof this.cleansession === 'undefined') {
                this.cleansession = true;
                $("#node-config-input-cleansession").prop("checked",true);
            }
            if (typeof this.autoUnsubscribe === 'undefined') {
                this.autoUnsubscribe = true;
                $("#node-config-input-autoUnsubscribe").prop("checked",true);
            }
            if (typeof this.usetls === 'undefined') {
                this.usetls = false;
                $("#node-config-input-usetls").prop("checked",false);
            }
            if (typeof this.autoConnect === 'undefined') {
                this.autoConnect = true;
                $("#node-config-input-autoConnect").prop("checked",true);
            }
            if (this.compatmode === 'true' || this.compatmode === true) {
                delete this.compatmode;
                this.protocolVersion = 4;
            }
            if (typeof this.protocolVersion === 'undefined') {
                this.protocolVersion = 4;
            }
            $("#node-config-input-cleansession").on("change", function() {
                const useCleanSession = $("#node-config-input-cleansession").is(':checked');
                if(useCleanSession) {
                    $("div.form-row.mqtt-persistence").hide();
                } else {
                    $("div.form-row.mqtt-persistence").show();
                }
            });
            $("#node-config-input-protocolVersion").on("change", function() {
                var v5 = $("#node-config-input-protocolVersion").val() == "5";
                if(v5) {
                    $("#node-config-input-cleansession-label").text(RED._("node-red:mqtt.label.cleanstart"))
                    $("div.form-row.mqtt5").show();
                } else {
                    $("#node-config-input-cleansession-label").text(RED._("node-red:mqtt.label.cleansession"))
                    $("div.form-row.mqtt5").hide();
                }
            });
            $("#node-config-input-protocolVersion").val(this.protocolVersion);
            $("#node-config-input-userProps").typedInput({
                default:  !this.userProps ? 'none':'json',
                types: [typedInputNoneOpt, 'json']
            });
            $("#node-config-input-userProps").typedInput('value',this.userProps);
            if (typeof this.keepalive === 'undefined') {
                this.keepalive = 15;
                $("#node-config-input-keepalive").val(this.keepalive);
            }
            if (typeof this.birthQos === 'undefined') {
                this.birthQos = "0";
                $("#node-config-input-birthQos").val("0");
            }
            if (typeof this.closeQos === 'undefined') {
                this.willQos = "0";
                $("#node-config-input-willQos").val("0");
            }
            if (typeof this.willQos === 'undefined') {
                this.willQos = "0";
                $("#node-config-input-willQos").val("0");
            }


            function updateTLSOptions() {
                if ($("#node-config-input-usetls").is(':checked')) {
                    $("#node-config-row-tls").show();
                } else {
                    $("#node-config-row-tls").hide();
                }
            }
            updateTLSOptions();
            $("#node-config-input-usetls").on("click",function() {
                updateTLSOptions();
            });
            var node = this;
            function updateClientId() {
                if ($("#node-config-input-cleansession").is(":checked")) {
                    $("#node-config-input-clientid").attr("placeholder",node._("mqtt.placeholder.clientid"));
                } else {
                    $("#node-config-input-clientid").attr("placeholder",node._("mqtt.placeholder.clientid-nonclean"));
                }
                $("#node-config-input-clientid").trigger("change");
            }
            setTimeout(updateClientId,0);
            $("#node-config-input-cleansession").on("click",function() {
                updateClientId();
            });

            function updatePortEntry(){
                var disabled = $("#node-config-input-port").prop("disabled");
                if ($("#node-config-input-broker").val().indexOf("://") === -1){
                    if (disabled){
                        $("#node-config-input-port").prop("disabled", false);
                    }
                }
                else {
                    if (!disabled){
                        $("#node-config-input-port").prop("disabled", true);
                    }
                }
            }
            $("#node-config-input-broker").on("change", function() {
                updatePortEntry();
            });
            $("#node-config-input-broker").on( "keyup", function() {
                updatePortEntry();
            });
            setTimeout(updatePortEntry,50);
            setTimeout(function() {
                $("#node-config-input-protocolVersion").trigger("change");
            },50);

        },
        oneditsave: function() {
            if (!$("#node-config-input-usetls").is(':checked')) {
                $("#node-config-input-tls").val("");
            }

            var v5 = $("#node-config-input-protocolVersion").val() == "5";

            function saveV5Message(section) {
                var msg = {};
                if ($("#node-config-input-"+section+"Topic").val().trim().length > 0) {
                    var contentType = $("#node-config-input-"+section+"-contentType").val().trim();
                    if (contentType === '') {
                        contentType = $("#node-config-input-"+section+"-contentType").typedInput('type');
                        if (contentType === 'none' || contentType === 'other') {
                            contentType = "";
                        }
                    }
                    if (contentType) {
                        msg.contentType = contentType;
                    }
                    var props = $("#node-config-input-"+section+"-props").val().trim();
                    if (props) {
                        msg.userProps = props;
                    }
                    var resp = $("#node-config-input-"+section+"-respTopic").val().trim();
                    if (props) {
                        msg.respTopic = resp;
                    }
                    var correl = $("#node-config-input-"+section+"-correl").val().trim();
                    if (correl) {
                        msg.correl = correl;
                    }
                    var expiry = $("#node-config-input-"+section+"-expiry").val().trim();
                    if (expiry) {
                        msg.expiry = expiry;
                    }
                }
                return msg;
            }

            if (v5) {
                this.userProps = "";
                const userPropsType = $("#node-config-input-userProps").typedInput("type");
                if(userPropsType == "json") {
                    const userProps = $("#node-config-input-userProps").val();
                    if (userProps && typeof userProps === "string") {
                        this.userProps = userProps.trim();
                    }
                }
                this.birthMsg = saveV5Message("birth");
                this.closeMsg = saveV5Message("close");
                this.willMsg = saveV5Message("will");
                var willDelay = $("#node-config-input-will-delay").val();
                if (willDelay) {
                    this.willMsg.delay = willDelay;
                }
            } else {
                this.willMsg = {};
                this.birthMsg = {};
                this.closeMsg = {};
            }

        }
    });

    RED.nodes.registerType('mqtt in',{
        category: 'network',
        defaults: {
            name: {value:""},
            topic: {
                value:"",
                validate: function(v, opt) {
                    var isDynamic = this.inputs === 1;
                    var topicTypeSelect = $("#node-input-topicType");
                    if (topicTypeSelect.length) {
                        isDynamic = topicTypeSelect.val()==='dynamic'
                    }
                    if (isDynamic || ((!!v) && RED.validators.regex(/^(#$|(\+|[^+#]*)(\/(\+|[^+#]*))*(\/(\+|#|[^+#]*))?$)/)(v))) {
                        return true;
                    }
                    return RED._("node-red:mqtt.errors.invalid-topic");
                }
            },
            qos: {value: "2"},
            datatype: {value:"auto-detect",required:true},
            broker: {type:"mqtt-broker", required:true, label:RED._("node-red:mqtt.label.broker")},
            // subscriptionIdentifier: {value:0},
            nl: {value:false},
            rap: {value:true},
            rh: {value:0},
            inputs: {value:0},
        },
        color:"#d8bfd8",
        inputs:0,
        outputs:1,
        icon: "bridge.svg",
        label: function() {
            var label = "mqtt";
            if(this.topicType !== "dynamic" && this.topic) {
                label = this.topic;
            }
            return this.name || label;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            const node = this;
            const isV5Broker = function() {
                var confNode = RED.nodes.node($("#node-input-broker").val());
                return confNode && confNode.protocolVersion === "5";
            }
            const isDynamic = function() {
                return $('#node-input-topicType').val() === "dynamic";
            }
            const updateVisibility = function() {
                var v5 = isV5Broker();
                var dynamic = isDynamic();
                $("div.form-row-mqtt5").toggleClass("form-row-mqtt5-active",!!v5);
                $("div.form-row.form-row-mqtt-static").toggleClass("form-row-mqtt-static-disabled", !!dynamic)
            }

            $("#node-input-datatype").on("change", function() {
                if($(this).val() === "auto") {
                    $(".form-row.form-row-mqtt-datatype-tip").show();
                } else {
                    $(".form-row.form-row-mqtt-datatype-tip").hide();
                }
            })
            $("#node-input-datatype").trigger("change");

            $("#node-input-broker").on("change",function(d){
                updateVisibility();
            });

            $('#node-input-topicType').on("change", function () {
                $("#node-input-inputs").val(isDynamic() ? 1 : 0);
                updateVisibility();
            });

            if (this.inputs === 1) {
                $('#node-input-topicType').val('dynamic')
            } else {
                $('#node-input-topicType').val('topic')
            }
            $('#node-input-topicType').trigger("change");

            if (this.qos === undefined) {
                $("#node-input-qos").val("2");
            }
            if (this.datatype === undefined) {
                $("#node-input-datatype").val("auto-detect");
            }
        },
        oneditsave: function() {
            if ($('#node-input-topicType').val() === "dynamic") {
                $('#node-input-topic').val("");
            }
        }
    });

    RED.nodes.registerType('mqtt out',{
        category: 'network',
        defaults: {
            name: {value:""},
            topic: {value:"", validate:validateMQTTPublishTopic},
            qos: {value:""},
            retain: {value:""},
            respTopic: {value:""},
            contentType: {value:""},
            userProps: {value:''},
            correl: {value:''},
            expiry: {value:''},
            broker: {type:"mqtt-broker", required:true,
                     label:RED._("node-red:mqtt.label.broker") }
        },
        color:"#d8bfd8",
        inputs:1,
        outputs:0,
        icon: "bridge.svg",
        align: "right",
        label: function() {
            return this.name||this.topic||"mqtt";
        },
        oneditprepare: function() {
            var that = this;

            function showHideDynamicFields() {
                var confNode = RED.nodes.node($("#node-input-broker").val());
                var v5 = confNode && confNode.protocolVersion == "5";
                if(v5) {
                    $("div.form-row.mqtt5").show();
                    var t = $("#node-input-respTopic").typedInput("type");
                    if (t == 'none') {
                        $("#node-input-correl").parent().hide();
                    } else {
                        $("#node-input-correl").parent().show();
                    }
                } else {
                    $("div.form-row.mqtt5").hide();
                }
            }

            $("#node-input-broker").on("change",function(d){
                showHideDynamicFields();
            });

            var respTopicTI = $("#node-input-respTopic").typedInput({
                default: !this.respTopic ? 'none':'str',
                types: [typedInputNoneOpt,  'str'],
            });

            var correlTI = $("#node-input-correl").typedInput({
                default: !this.correl ? 'none':'str',
                types: [typedInputNoneOpt,  'str']
            });
            //show / hide correlation data depending on respTopic
            respTopicTI.on("change", showHideDynamicFields);
            respTopicTI.triggerHandler("change");

            $("#node-input-userProps").typedInput({
                default:  !this.userProps ? 'none':'json',
                types: [typedInputNoneOpt, 'json'],
            });
            $("#node-input-expiry").typedInput({
                default: !this.expiry ? 'none':'num',
                types: [typedInputNoneOpt,  'num']
            });
            $("#node-input-contentType").typedInput({
                default: getDefaultContentType(this.contentType),
                types: contentTypeOpts
            })
        },
        oneditsave: function() {

            var contentType = $("#node-input-contentType").val().trim();
            if (contentType === '') {
                contentType = $("#node-input-contentType").typedInput('type');
                if (contentType === 'none' || contentType === 'other') {
                    contentType = "";
                }
            }
            $("#node-input-contentType").val(contentType)

        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="mqtt in">
   <p>Conecta-se a um negociante MQTT e assina mensagens do tpico especificado.</p>
   <h3>Sadas</h3>
   <dl class="message-properties">
      <dt>carga til<span class="property-type"> cadeia de caracteres | armazenament temporrio</span></dt>
      <dd>uma cadeia de caracteres, a menos que seja detectada como um buffer binrio.</dd>
      <dt>tpico<span class="property-type"> cadeia de caracteres</span></dt>
      <dd>o tpico MQTT, usa / como um separador de hierarquia.</dd>
      <dt> qos <span class="property-type"> nmero</span></dt>
      <dd> 0, dispare e esquea - 1, pelo menos uma vez - 2, uma vez e apenas uma vez.</dd>
      <dt>reter<span class="property-type"> booliano</span></dt>
      <dd>verdadeiro indica que a mensagem foi retida e pode ser antiga.</dd>

      <dt class="optional">responseTopic<span class="property-type">cadeia de caracteres</span></dt>
      <dd><b>MQTTv5:</b> o tpico de resposta MQTT para a mensagem</dd>
      <dt class="optional">CorrelData <span class="property-type">Armazenamento temporrio</span> </dt>
      <dd><b>MQTTv5:</b> os dados de correlao para a mensagem</dd>
      <dt class="optional">contentType<span class="property-type">cadeia de caracteres</span></dt>
      <dd><b>MQTTv5:</b> o tipo de contedo da carga til</dd>
      <dt class="optional">userProperties<span class="property-type">objeto</span></dt>
      <dd><b>MQTTv5:</b> quaisquer propriedades do usurio da mensagem</dd>
      <dt class="optional">messageExpiryInterval<span class="property-type">nmero</span></dt>
      <dd><b>MQTTv5:</b> o tempo de expirao, em segundos, da mensagem</dd>
   </dl>
   <h3>Detalhes</h3>
   O tpico de assinatura pode incluir curingas MQTT, + para um nvel, # para vrios nveis.</p>
   <p>Este n requer uma conexo com um negociante MQTT para ser configurado. Isso  configurado clicando em
   o cone do lpis.</p>
   <p>Vrios ns MQTT(dentro ou fora) podem compartilhar a mesma conexo do negociante, se necessrio.</p>
   <h4>Assinatura dinmica</h4>
    O n pode ser configurado para controlar dinamicamente a conexo MQTT e suas assinaturas. Quando
    habilitado, o n ter uma entrada e poder ser controlado passando-lhe mensagens.
    <h3>Entradas</h3>
    <p>Isso s se aplica quando o n foi configurado para assinaturas dinmicas.</p>
    <dl class="message-properties">
       <dt>ao <span class="property-type">cadeia de caracteres</span></dt>
       <dd>o nome da ao que o n deve executar. As aes disponveis so: <code>"connect"</code>,
       <code>"disconnect"</code>, <code>"subscribe"</code> e <code>"unsubscribe"</code>.</dd>
       <dt class="optional">tpico<span class="property-type">cadeia de caracteres|objeto|matriz</span></dt>
       <dd>Para as aes <code>"subscribe"</code> e <code>"unsubscribe"</code>, esta propriedade
           fornece o tema. Pode ser definido como:<ul>
           <li>uma cadeia de caracteres contendo o filtro de tpico</li>
           <li>um objeto contendo as propriedades <code>topic</code> e <code>qos</code></li>
           <li>uma matriz ou de cadeia de caracteres ou objetos para manusear vrios tpicos em um</li>
            </ul>
        </dd>
       <dt class="opcional">negociante<span class="property-type">negociante</span></dt>
       <dd>Para a ao <code>"conectar"</code>, esta propriedade pode substituir qualquer
           das definies individuais de configurao do negociante, incluindo:<ul>
               <li><code>negociante</code></li>
               <li><code>porta</code></li>
               <li><code>url</code> - substitui o negociante/porta para fornecer uma URL de conexo completa</li>
               <li><code>nome de usurio</code></li>
               <li><code>senha</code></li>
           </ul>
           <p>Se esta propriedade estiver configurada e o negociante j estiver conectado, um erro
              ser registrado a menos que tenha a propriedade <code>force</code> definida - nesse caso, ser
              desconectado do negociante, aplicada as novas configuraes e reconectado.</p>
       </dd>
    </dl>
</script>

<script type="text/html" data-help-name="mqtt out">
   <p>Conecta-se a um negociante MQTT e publica mensagens.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
       <dt>carga til <span class="property-type"> cadeia de caracteres | armazenagem temporria</span></dt>
       <dd>a carga til a ser publicada. Se esta propriedade no for configurada, nenhuma mensagem ser enviada. Para enviar uma mensagem em branco, defina esta propriedade como uma cadeia de caracteres vazia.</dd>
       <dt class="optional">tpico<span class="property-type">cadeia de caracteres</span></dt>
       <dd>o tpico MQTT para publicar.</dd>
       <dt class="optional">qos<span class="property-type">nmero</span></dt>
       <dd> 0, dispare e esquea - 1, pelo menos uma vez - 2, uma vez e apenas uma vez. Padro 0. </dd>
       <dt class ="optional">reter<span class="property-type">booliano</span></dt>
       <dd>configurado como verdadeiro para reter a mensagem no negociante. O padro  falso.</dd>
       <dt class="optional">responseTopic<span class="property-type">cadeia de caracteres</span></dt>
       <dd><b>MQTTv5:</b> o tpico de resposta MQTT para a mensagem</dd>
       <dt class="optional">CorrelData<span class="property-type">Armazenamento temporrio</span></dt>
       <dd><b>MQTTv5:</b> os dados de correlao para a mensagem</dd>
       <dt class="optional">contentType<span class="property-type">cadeia de caracteres</span></dt>
       <dd><b>MQTTv5:</b> o tipo de contedo da carga til</dd>
       <dt class="optional">userProperties<span class="property-type">objeto</span></dt>
       <dd><b>MQTTv5:</b> quaisquer propriedades do usurio da mensagem</dd>
       <dt class="optional">messageExpiryInterval<span class="property-type">nmero</span></dt>
       <dd><b>MQTTv5:</b> o tempo de expirao, em segundos, da mensagem</dd>
       <dt class="optional">topicAlias<span class="property-type">nmero</span></dt>
       <dd><b>MQTTv5:</b> o alias do tpico MQTT a ser usado</dd>
    </dl>
    <h3>Detalhes</h3>
    <code>msg.payload</code>  usado como a carga til da mensagem publicada.
    Se contiver um objeto, ele ser convertido em uma cadeia de caracteres JSON antes de ser enviado.
    Se contiver um armazenamento temporrio binrio, a mensagem ser publicada no estado em que se encontra.</p>
    <p>O tpico usado pode ser configurado no n ou, se deixado em branco, pode ser definido por <code>msg.topic</code>.</p>
    <p>Da mesma forma, os valores de QoS e reteno podem ser configurados no n ou, se deixado
    em branco, definido por<code>msg.qos</code> e <code>msg.retain</code> respectivamente. Para limpar um tpico anteriormente
    retido pelo negociante, envie uma mensagem em branco para esse tpico com o sinalizador de reteno ativado.</p>
    <p>Este n requer uma conexo com um negociante MQTT para ser configurado. Configura-se o n clicando 
    no cone do lpis.</p>
    <p>Vrios ns MQTT(dentro ou fora) podem compartilhar a mesma conexo do negociante, se necessrio.</p>

    <h4>Controle Dinmico</h4>
    A conexo compartilhada pelo n pode ser controlada dinamicamente. Se o n receber
    uma das seguintes mensagens de controle, ele tambm no publicar a carga til da mensagem.
    <h3>Entradas</h3>
    <dl class="message-properties">
       <dt>ao<span class="property-type">cadeia de caracteres</span></dt>
       <dd>o nome da ao que o n deve executar. As aes disponveis so: <code>"connect"</code>,
       e <code>"disconnect"</code>.</dd>
       <dt class="opcional">negociante<span class="property-type">negociante</span></dt>
       <dd>Para a ao <code>"connect"</code>, esta propriedade pode substituir qualquer
           das definies individuais de configurao do negociante, incluindo:<ul>
               <li><code>corretor</code></li>
               <li><code>porta</code></li>
               <li><code>url</code> - substitui o agente/porta para fornecer uma URL de conexo completa</li>
               <li><code>nome de usurio</code></li>
               <li><code>senha</code></li>
           </ul>
           <p>Se esta propriedade estiver configurada e o negociante j estiver conectado, um erro
              ser registrado a menos que tenha a propriedade <code>force</code> definida - nesse caso, ser
	      desconectado do negociante, aplicada as novas configuraes e reconectado.</p> 
       </dd>
    </dl>
</script>

<script type="text/html" data-help-name="mqtt-broker">
   <p>Configurao para conexo com um negociante MQTT.</p>
    <p>Esta configurao criar uma nica conexo com o negociante que pode
       em seguida, ser reutilizada pelos ns <code>Entrada MQTT</code> e <code>Sada MQTT</code>.</p>
    <p>O n ir gerar um ID de cliente aleatrio se nenhum estiver definido e o
       o n est configurado para usar uma conexo de sesso limpa. Se um ID de cliente for definido,
       deve ser exclusivo do negociante ao qual voc est se conectando.</p>
    <h4>Mensagem de nascimento</h4>
    <p>Esta  uma mensagem que ser publicada no tpico configurado sempre que o
       conexo for estabelecida.</p>
    <h4>Fechar mensagem</h4>
    <p>Esta  uma mensagem que ser publicada no tpico configurado antes do
       a conexo  fechada normalmente, reimplantando o n ou desligando. </p>
    <H4>Mensagem de arbtrio</h4>
    <p>Esta  uma mensagem que ser publicada pelo negociante caso o n
       perca sua conexo inesperadamente.</p>
    <h4>WebSockets</h4>
    <p>O n pode ser configurado para usar uma conexo WebSocket. Para fazer isso, o campo do servidor
       deve ser configurado com uma URI completa para a conexo. Por exemplo:</p>
    <pre>ws://example.com:4000/mqtt</pre>

</script>

</div><div><!-- --- [red-module:node-red/httpin] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="http in">
    <div class="form-row">
        <label for="node-input-method"><i class="fa fa-tasks"></i> <span data-i18n="httpin.label.method"></span></label>
        <select type="text" id="node-input-method" style="width:70%;">
        <option value="get">GET</option>
        <option value="post">POST</option>
        <option value="put">PUT</option>
        <option value="delete">DELETE</option>
        <option value="patch">PATCH</option>
        </select>
    </div>
    <div class="form-row form-row-http-in-upload hide">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-upload" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-upload" style="width: 70%;" data-i18n="httpin.label.upload"></label>
    </div>
    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> <span data-i18n="httpin.label.url"></span></label>
        <input id="node-input-url" type="text" placeholder="/url">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row row-swagger-doc">
        <label for="node-input-swaggerDoc"><i class="fa fa-file-text-o"></i> <span data-i18n="httpin.label.doc"></span></label>
        <input type="text" id="node-input-swaggerDoc">
    </div>
    <div id="node-input-tip" class="form-tips"><span data-i18n="httpin.tip.in"></span><code><span id="node-input-path"></span></code>.</div>
</script>

<script type="text/html" data-template-name="http response">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-row">
        <label for="node-input-statusCode"><i class="fa fa-long-arrow-left"></i> <span data-i18n="httpin.label.status"></span></label>
        <input type="text" id="node-input-statusCode" placeholder="msg.statusCode">
    </div>
    <div class="form-row" style="margin-bottom:0;">
        <label><i class="fa fa-list"></i> <span data-i18n="httpin.label.headers"></span></label>
    </div>
    <div class="form-row node-input-headers-container-row">
        <ol id="node-input-headers-container"></ol>
    </div>
    <div class="form-tips"><span data-i18n="[html]httpin.tip.res"></span></div>
</script>

<script type="text/javascript">
(function() {
    RED.nodes.registerType('http in',{
        category: 'network',
        color:"rgb(231, 231, 174)",
        defaults: {
            name: {value:""},
            url: {value:"", required:true,
                  label:RED._("node-red:httpin.label.url")},
            method: {value:"get",required:true},
            upload: {value:false},
            swaggerDoc: {type:"swagger-doc", required:false}
        },
        inputs:0,
        outputs:1,
        icon: "white-globe.svg",
        label: function() {
            if (this.name) {
                return this.name;
            } else if (this.url) {
                var root = RED.settings.httpNodeRoot;
                if (root.slice(-1) != "/") {
                    root = root+"/";
                }
                if (this.url.charAt(0) == "/") {
                    root += this.url.slice(1);
                } else {
                    root += this.url;
                }
                return "["+this.method+"] "+root;
            } else {
                return "http";
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var root = RED.settings.httpNodeRoot;
            if (root.slice(-1) == "/") {
                root = root.slice(0,-1);
            }
            if (root == "") {
                $("#node-input-tip").hide();
            } else {
                $("#node-input-path").html(root);
                $("#node-input-tip").show();
            }
            if(!RED.nodes.getType("swagger-doc")){
                $('.row-swagger-doc').hide();
            }
            $("#node-input-method").on("change", function() {
                if ($(this).val() === "post") {
                    $(".form-row-http-in-upload").show();
                } else {
                    $(".form-row-http-in-upload").hide();
                }
            }).change();


        }

    });
    var headerTypes = [
        {value:"content-type",label:"Content-Type",hasValue: false},
        {value:"location",label:"Location",hasValue: false},
        {value:"other",label:RED._("node-red:httpin.label.other"),icon:"red/images/typedInput/az.svg"}
       ]
    var contentTypes = [
        {value:"application/json",label:"application/json",hasValue: false},
        {value:"application/xml",label:"application/xml",hasValue: false},
        {value:"text/css",label:"text/css",hasValue: false},
        {value:"text/html",label:"text/html",hasValue: false},
        {value:"text/plain",label:"text/plain",hasValue: false},
        {value:"image/gif",label:"image/gif",hasValue: false},
        {value:"image/png",label:"image/png",hasValue: false},
        {value:"other",label:RED._("node-red:httpin.label.other"),icon:"red/images/typedInput/az.svg"}
    ];

    RED.nodes.registerType('http response',{
        category: 'network',
        color:"rgb(231, 231, 174)",
        defaults: {
            name: {value:""},
            statusCode: {
                value:"",
                label: RED._("node-red:httpin.label.status"),
                validate: RED.validators.number(true)},
            headers: {value:{}}
        },
        inputs:1,
        outputs:0,
        align: "right",
        icon: "white-globe.svg",
        label: function() {
            return this.name||("http"+(this.statusCode?" ("+this.statusCode+")":""));
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var headerList = $("#node-input-headers-container").css('min-height','150px').css('min-width','450px').editableList({
                addItem: function(container,i,header) {
                    var row = $('<div/>').css({
                        overflow: 'hidden',
                        whiteSpace: 'nowrap',
                        display: 'flex'
                    }).appendTo(container);
                    var propertNameCell = $('<div/>').css({'flex-grow':1}).appendTo(row);
                    var propertyName = $('<input/>',{class:"node-input-header-name",type:"text", style:"width: 100%"})
                        .appendTo(propertNameCell)
                        .typedInput({types:headerTypes});

                    var propertyValueCell = $('<div/>').css({'flex-grow':1,'margin-left':'10px'}).appendTo(row);
                    var propertyValue = $('<input/>',{class:"node-input-header-value",type:"text",style:"width: 100%"})
                        .appendTo(propertyValueCell)
                        .typedInput({types:
                            header.h === 'content-type'?contentTypes:[{value:"other",label:"other",icon:"red/images/typedInput/az.svg"}]
                        });

                    var matchedType = headerTypes.filter(function(ht) {
                        return ht.value === header.h
                    });
                    if (matchedType.length === 0) {
                        propertyName.typedInput('type','other');
                        propertyName.typedInput('value',header.h);
                        propertyValue.typedInput('value',header.v);
                    } else {
                        propertyName.typedInput('type',header.h);

                        if (header.h === "content-type") {
                            matchedType = contentTypes.filter(function(ct) {
                                return ct.value === header.v;
                            });
                            if (matchedType.length === 0) {
                                propertyValue.typedInput('type','other');
                                propertyValue.typedInput('value',header.v);
                            } else {
                                propertyValue.typedInput('type',header.v);
                            }
                        } else {
                            propertyValue.typedInput('value',header.v);
                        }
                    }

                    matchedType = headerTypes.filter(function(ht) {
                        return ht.value === header.h
                    });
                    if (matchedType.length === 0) {
                        propertyName.typedInput('type','other');
                        propertyName.typedInput('value',header.h);
                    } else {
                        propertyName.typedInput('type',header.h);
                    }

                    propertyName.on('change',function(event) {
                        var type = propertyName.typedInput('type');
                        if (type === 'content-type') {
                            propertyValue.typedInput('types',contentTypes);
                        } else {
                            propertyValue.typedInput('types',[{value:"other",label:"other",icon:"red/images/typedInput/az.svg"}]);
                        }
                    });
                },
                sortable: true,
                removable: true
            });

            if (this.headers) {
                for (var key in this.headers) {
                    if (this.headers.hasOwnProperty(key)) {
                        headerList.editableList('addItem',{h:key,v:this.headers[key]});
                    }
                }
            }
        },
        oneditsave: function() {
            var headers = $("#node-input-headers-container").editableList('items');
            var node = this;
            node.headers = {};
            headers.each(function(i) {
                var header = $(this);
                var keyType = header.find(".node-input-header-name").typedInput('type');
                var keyValue = header.find(".node-input-header-name").typedInput('value');
                var valueType = header.find(".node-input-header-value").typedInput('type');
                var valueValue = header.find(".node-input-header-value").typedInput('value');
                var key = keyType;
                var value = valueType;
                if (keyType === 'other') {
                    key = keyValue;
                }
                if (valueType === 'other') {
                    value = valueValue;
                }
                if (key !== '') {
                    node.headers[key] = value;
                }
            });
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-input-headers-container-row)");
            var height = size.height;
            for (var i=0; i<rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-input-headers-container-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));

            $("#node-input-headers-container").editableList('height',height);
        }
    });
})();
</script>
<!--
  copyright js foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="http in">
    <p>Cria um ponto de extremidade HTTP para a criao de servios da web.</p>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>carga til</dt>
        <dd>Para uma solicitao GET, contm um objeto de qualquer parmetro de cadeia de caracteres de consulta.
            Caso contrrio, contm o corpo da solicitao HTTP.</dd>
        <dt>req <span class="property-type">objeto</span></dt>
        <dd>Um objeto de solicitao HTTP. Este objeto contm vrias propriedades que
            fornecer informaes sobre a solicitao.
            <ul>
             <li><code>body</code> - o corpo da solicitao de entrada. O formato
                 depender da solicitao.</li>
             <li><code>headers</code> - um objeto que contm os cabealhos de solicitao HTTP.</li>
             <li><code>query</code> - um objeto que contm quaisquer parmetros de string de consulta.</li>
             <li><code>params</code> - um objeto que contm quaisquer parmetros de rota.</li>
             <li><code>cookies</code> - um objeto que contm os cookies para a solicitao.</li>
             <li><code>arquivos</code> - se habilitado no n, um objeto contendo
                 quaisquer arquivos carregados como parte de uma solicitao POST.</li>
            </ul>
        </dd>
        <dt> res <span class="property-type">objeto</span></dt>
        <dd>Um objeto de resposta HTTP. Esta propriedade no deve ser usada diretamente;
            o n de <code>Resposta HTTP</code> documenta como responder a uma solicitao.
            Esta propriedade deve permanecer anexada  mensagem passada ao n de resposta.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>O n escutar no caminho configurado para solicitaes de um tipo particular.
       O caminho pode ser totalmente especificado, como <code>/user</code>, ou incluir
       parmetros nomeados que aceitam qualquer valor, como <code>/user/:name</code>.
       Quando parmetros nomeados so usados, seus valores reais em uma solicitao podem ser acessados em <code>msg.req.params</code>.</p>
    <p>Para solicitaes que incluem um corpo, como POST ou PUT, o contedo de
       a solicitao  disponibilizada como <code>msg.payload</code>.</p>
    <p>Se o tipo de contedo da solicitao puder ser determinado, o corpo ser analisado sintaticamente para
       qualquer tipo apropriado. Por exemplo,<code>application/json</code> ser analisado sintaticamente para
       sua representao de objeto JavaScript.</p>
    <p><b>Nota:</b> este n no envia nenhuma resposta  solicitao. O fluxo
       deve incluir um n de resposta HTTP para concluir a solicitao.</p>
</script>

<script type="text/html" data-help-name="http response">
    <p>Envia respostas de volta s solicitaes recebidas de um n de entrada HTTP.</p>

    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt>carga til<span class="property-type"> cadeia de caracteres</span></dt>
        <dd>O corpo da resposta.</dd>
        <dt class="optional">statusCode<span class="property-type"> nmero</span></dt>
        <dd>Se definido,  usado como cdigo de estadi de resposta. Padro:200.</dd>
        <dt class="optional">cabealhos<span class="property-type"> objeto</span></dt>
        <dd>Se definido, fornece cabealhos HTTP para incluir na resposta.</dd>
        <dt class="optional">cookies<span class="property-type"> objeto</span></dt>
        <dd>Se definido, pode ser usado para definir ou excluir cookies.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>O <code>statusCode</code> e <code>headers</code> tambm podem ser definidos dentro
    do prprio n. Se uma propriedade for definida dentro do n, ela no pode ser substituda
    pela propriedade da mensagem correspondente.</p>
    <h4>Tratamento de cookies</h4>
    <p>A propriedade <code>cookies</code> deve ser um objeto de pares nome/valor.
    O valor pode ser uma cadeia de caracteres para definir o valor do cookie com o padro
    opes, ou pode ser um objeto de opes.</p>
    <p>O exemplo a seguir define dois cookies - um chamado <code>nome</code> com
    um valor de <code>'nick'</code>, o outro chamado <code>session</code> com um
    valor de <code>1234</code> e um prazo de validade definido para 15 minutos.</p>
    <pre>
    msg.cookies = {
    name: 'nick',
    session: {
        value: '1234',
        maxAge: 900000
    }
}</pre>
    <p>As opes vlidas incluem:</p>
    <ul>
    <li><code>domain</code> - (cadeia de caracteres) nome de domnio para o cookie</li>
    <li><code>expires</code> - (Data) data de expirao em GMT. Se no for especificado ou definido como 0, cria um cookie de sesso</li>
    <li><code>maxAge</code> - (cadeia de caracteres) data de expirao em relao  hora atual em milissegundos</li>
    <li><code>path</code> - (cadeia de caracteres) caminho para o cookie. Padres para /</li>
    <li><code>value</code> - (cadeia de caracteres) o valor a ser usado para o cookie</li>
    </ul>
    <p>Para excluir um cookie, defina seu <code>valor</code> como <code>nulo</code>.</p>

</script>

</div><div><!-- --- [red-module:node-red/httprequest] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="http request">
    <div class="form-row">
        <label for="node-input-method"><i class="fa fa-tasks"></i> <span data-i18n="httpin.label.method"></span></label>
        <select type="text" id="node-input-method" style="width:70%;">
        <option value="GET">GET</option>
        <option value="POST">POST</option>
        <option value="PUT">PUT</option>
        <option value="DELETE">DELETE</option>
        <option value="HEAD">HEAD</option>
        <option value="use" data-i18n="httpin.setby"></option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-url"><i class="fa fa-globe"></i> <span data-i18n="httpin.label.url"></span></label>
        <input id="node-input-url" type="text" placeholder="http://">
    </div>

    <div class="form-row node-input-paytoqs-row">
        <label for="node-input-paytoqs"><span data-i18n="common.label.payload"></span></label>
        <select id="node-input-paytoqs" style="width: 70%;">
            <option value="ignore" data-i18n="httpin.label.paytoqs.ignore"></option>
            <option value="query" data-i18n="httpin.label.paytoqs.query"></option>
            <option value="body" data-i18n="httpin.label.paytoqs.body"></option>
        </select>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-usetls" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-usetls" style="width: auto" data-i18n="httpin.use-tls"></label>
        <div id="node-row-tls" class="hide">
            <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-input-tls"><span data-i18n="httpin.tls-config"></span></label><input type="text" style="width: 300px" id="node-input-tls">
        </div>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-useAuth" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-useAuth" style="width: 70%;"><span data-i18n="httpin.basicauth"></span></label>
        <div style="margin-left: 20px" class="node-input-useAuth-row hide">
            <div class="form-row">
                <label for="node-input-authType-select"><i class="fa fa-user-secret "></i> <span data-i18n="httpin.label.authType"></span></label>
                <select type="text" id="node-input-authType-select" style="width:70%;">
                    <option value="basic"  data-i18n="httpin.basic"></option>
                    <option value="digest" data-i18n="httpin.digest"></option>
                    <option value="bearer" data-i18n="httpin.bearer"></option>
                </select>
                <input type="hidden" id="node-input-authType">
            </div>
            <div class="form-row node-input-basic-row">
                <label for="node-input-user"><i class="fa fa-user"></i> <span data-i18n="common.label.username"></span></label>
                <input type="text" id="node-input-user">
            </div>
            <div class="form-row">
                <label for="node-input-password"> <i class="fa fa-lock"></i> <span data-i18n="common.label.password" id="node-span-password"></span><span data-i18n="httpin.label.bearerToken" id="node-span-token" style="display:none"></span></label>
                <input type="password" id="node-input-password">
            </div>
        </div>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-persist" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-persist" style="width: auto" data-i18n="httpin.persist"></label>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-useProxy" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-useProxy" style="width: auto;"><span data-i18n="httpin.use-proxy"></span></label>
        <div id="node-input-useProxy-row" class="hide">
            <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-input-proxy"><i class="fa fa-globe"></i> <span data-i18n="httpin.proxy-config"></span></label><input type="text" style="width: 270px" id="node-input-proxy">
        </div>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-senderr" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-senderr" style="width: auto" data-i18n="httpin.senderr"></label>
    </div>

    <div class="form-row">
        <input type="checkbox" id="node-input-insecureHTTPParser" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-insecureHTTPParser" style="width: auto;" data-i18n="httpin.insecureHTTPParser"></label>
    </div>


    <div class="form-row">
        <label for="node-input-ret"><i class="fa fa-arrow-left"></i> <span data-i18n="httpin.label.return"></span></label>
        <select type="text" id="node-input-ret" style="width:70%;">
        <option value="txt" data-i18n="httpin.utf8"></option>
        <option value="bin" data-i18n="httpin.binary"></option>
        <option value="obj" data-i18n="httpin.json"></option>
        </select>
    </div>

    <div class="form-row form-tips" id="tip-json" hidden><span data-i18n="httpin.tip.req"></span></div>

    <div class="form-row" style="margin-bottom:0;">
        <label><i class="fa fa-list"></i> <span data-i18n="httpin.label.headers"></span></label>
    </div>
    <div class="form-row node-input-headers-container-row">
        <ol id="node-input-headers-container"></ol>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
(function() {
    const headerTypes = [
        { value: "Accept", label: "Accept", hasValue: false },
        { value: "Accept-Encoding", label: "Accept-Encoding", hasValue: false },
        { value: "Accept-Language", label: "Accept-Language", hasValue: false },
        { value: "Authorization", label: "Authorization", hasValue: false },
        { value: "Content-Type", label: "Content-Type", hasValue: false },
        { value: "Cache-Control", label: "Cache-Control", hasValue: false },
        { value: "User-Agent", label: "User-Agent", hasValue: false },
        { value: "Location", label: "Location", hasValue: false },
        { value: "other", label: RED._("node-red:httpin.label.other"),
          hasValue: true, icon: "red/images/typedInput/az.svg" },
        { value: "msg", label: "msg.", hasValue: true },
    ]
    const headerOptions = {};
    const defaultOptions = [
        { value: "other", label: RED._("node-red:httpin.label.other"),
          hasValue: true, icon: "red/images/typedInput/az.svg" },
        { value: "msg", label: "msg.", hasValue: true },
    ];
    headerOptions["accept"] = [
        { value: "text/plain", label: "text/plain", hasValue: false },
        { value: "text/html", label: "text/html", hasValue: false },
        { value: "application/json", label: "application/json", hasValue: false },
        { value: "application/xml", label: "application/xml", hasValue: false },
        ...defaultOptions,
    ];
    headerOptions["accept-encoding"] = [
        { value: "gzip", label: "gzip", hasValue: false },
        { value: "deflate", label: "deflate", hasValue: false },
        { value: "compress", label: "compress", hasValue: false },
        { value: "br", label: "br", hasValue: false },
        { value: "gzip, deflate", label: "gzip, deflate", hasValue: false },
        { value: "gzip, deflate, br", label: "gzip, deflate, br", hasValue: false },
        ...defaultOptions,
    ];
    headerOptions["accept-language"] = [
        { value: "*", label: "*", hasValue: false },
        { value: "en-GB, en-US, en;q=0.9", label: "en-GB, en-US, en;q=0.9", hasValue: false },
        { value: "de-AT, de-DE;q=0.9, en;q=0.5", label: "de-AT, de-DE;q=0.9, en;q=0.5", hasValue: false },
        { value: "es-mx,es,en;q=0.5", label: "es-mx,es,en;q=0.5", hasValue: false },
        { value: "fr-CH, fr;q=0.9, en;q=0.8", label: "fr-CH, fr;q=0.9, en;q=0.8", hasValue: false },
        { value: "zh-CN, zh-TW; q = 0.9, zh-HK; q = 0.8, zh; q = 0.7, en; q = 0.6", label: "zh-CN, zh-TW; q = 0.9, zh-HK; q = 0.8, zh; q = 0.7, en; q = 0.6", hasValue: false },
        { value: "ja-JP, jp", label: "ja-JP, jp", hasValue: false },
        ...defaultOptions,
    ];
    headerOptions["content-type"] = [
        { value: "text/css", label: "text/css", hasValue: false },
        { value: "text/plain", label: "text/plain", hasValue: false },
        { value: "text/html", label: "text/html", hasValue: false },
        { value: "application/json", label: "application/json", hasValue: false },
        { value: "application/octet-stream", label: "application/octet-stream", hasValue: false },
        { value: "application/pdf", label: "application/pdf", hasValue: false },
        { value: "application/xml", label: "application/xml", hasValue: false },
        { value: "application/zip", label: "application/zip", hasValue: false },
        { value: "multipart/form-data", label: "multipart/form-data", hasValue: false },
        { value: "audio/aac", label: "audio/aac", hasValue: false },
        { value: "audio/ac3", label: "audio/ac3", hasValue: false },
        { value: "audio/basic", label: "audio/basic", hasValue: false },
        { value: "audio/mp4", label: "audio/mp4", hasValue: false },
        { value: "audio/ogg", label: "audio/ogg", hasValue: false },
        { value: "image/bmp", label: "image/bmp", hasValue: false },
        { value: "image/gif", label: "image/gif", hasValue: false },
        { value: "image/jpeg", label: "image/jpeg", hasValue: false },
        { value: "image/png", label: "image/png", hasValue: false },
        { value: "image/tiff", label: "image/tiff", hasValue: false },
        ...defaultOptions,
    ];
    headerOptions["cache-control"] = [
        { value: "max-age=0", label: "max-age=0", hasValue: false },
        { value: "max-age=86400", label: "max-age=86400", hasValue: false },
        { value: "no-cache", label: "no-cache", hasValue: false },
        ...defaultOptions,
    ];

    headerOptions["user-agent"] = [
        { value: "Mozilla/5.0", label: "Mozilla/5.0", hasValue: false },
        ...defaultOptions,
    ];

    function getHeaderOptions(headerName) {
        const lc = (headerName || "").toLowerCase();
        let opts = headerOptions[lc];
        return opts || defaultOptions;
    }

    RED.nodes.registerType('http request',{
        category: 'network',
        color:"rgb(231, 231, 174)",
        defaults: {
            name: {value:""},
            method:{value:"GET"},
            ret: {value:"txt"},
            paytoqs: {value: false},
            url:{
                value:"",
                validate: function(v, opt) {
                    if ((v.trim().length === 0) ||
                        (v.indexOf("://") === -1) ||
                        (v.trim().indexOf("http") === 0)) {
                        return true;
                    }
                    return RED._("node-red:httpin.errors.invalid-url");
                }
            },
            tls: {type:"tls-config",required: false,
                  label:RED._("node-red:httpin.tls-config") },
            persist: {value:false},
            proxy: {type:"http proxy",required: false,
                    label:RED._("node-red:httpin.proxy-config") },
            insecureHTTPParser: {value: false},
            authType: {value: ""},
            senderr: {value: false},
            headers: { value: [] }
        },
        credentials: {
            user: {type:"text"},
            password: {type: "password"}
        },
        inputs:1,
        outputs:1,
        outputLabels: function(i) {
            return ({
                txt: this._("httpin.label.utf8String"),
                bin: this._("httpin.label.binaryBuffer"),
                obj: this._("httpin.label.jsonObject")
            }[this.ret]);
        },
        icon: "white-globe.svg",
        label: function() {
            return this.name||this._("httpin.httpreq");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            const node = this;
            $("#node-input-useAuth").on("change", function() {
                if ($(this).is(":checked")) {
                    $(".node-input-useAuth-row").show();
                    // Nodes (< version 0.20.x) with credentials but without authentication type, need type 'basic'
                    if (!$('#node-input-authType').val()) {
                        $("#node-input-authType-select").val('basic').trigger("change");
                    }
                } else {
                    $(".node-input-useAuth-row").hide();
                    $('#node-input-authType').val('');
                    $('#node-input-user').val('');
                    $('#node-input-password').val('');
                }
                RED.tray.resize();
            });
            $("#node-input-authType-select").on("change", function() {
                const val = $(this).val();
                $("#node-input-authType").val(val);
                if (val === "basic" || val === "digest") {
                    $(".node-input-basic-row").show();
                    $('#node-span-password').show();
                    $('#node-span-token').hide();
                } else if (val === "bearer") {
                    $(".node-input-basic-row").hide();
                    $('#node-span-password').hide();
                    $('#node-span-token').show();
                    $('#node-input-user').val('');
                }
                RED.tray.resize();
            });
            $("#node-input-method").on("change", function() {
                if ($(this).val() == "GET") {
                    $(".node-input-paytoqs-row").show();
                } else {
                    $(".node-input-paytoqs-row").hide();
                }
                RED.tray.resize();
            });
            if (node.paytoqs === true || node.paytoqs == "query") {
                $("#node-input-paytoqs").val("query");
            } else if (node.paytoqs === "body") {
                $("#node-input-paytoqs").val("body");
            } else {
                $("#node-input-paytoqs").val("ignore");
            }
            if (node.authType) {
                $('#node-input-useAuth').prop('checked', true);
                $("#node-input-authType-select").val(node.authType);
                $("#node-input-authType-select").change();
            } else {
                $('#node-input-useAuth').prop('checked', false);
            }
            $("#node-input-useAuth").change();

            function updateTLSOptions() {
                if ($("#node-input-usetls").is(':checked')) {
                    $("#node-row-tls").show();
                } else {
                    $("#node-row-tls").hide();
                }
                RED.tray.resize();
            }
            if (node.tls) {
                $('#node-input-usetls').prop('checked', true);
            } else {
                $('#node-input-usetls').prop('checked', false);
            }
            updateTLSOptions();
            $("#node-input-usetls").on("click",function() {
                updateTLSOptions();
            });

            function updateProxyOptions() {
                if ($("#node-input-useProxy").is(":checked")) {
                    $("#node-input-useProxy-row").show();
                } else {
                    $("#node-input-useProxy-row").hide();
                }
                RED.tray.resize();
            }
            if (node.proxy) {
                $("#node-input-useProxy").prop("checked", true);
            } else {
                $("#node-input-useProxy").prop("checked", false);
            }

            if (node.insecureHTTPParser) {
                $("node-intput-insecureHTTPParser").prop("checked", true)
            } else {
                $("node-intput-insecureHTTPParser").prop("checked", false)
            }
            updateProxyOptions();
            $("#node-input-useProxy").on("click", function() {
                updateProxyOptions();
            });

            $("#node-input-ret").on("change", function() {
                if ($("#node-input-ret").val() === "obj") {
                    $("#tip-json").show();
                } else {
                    $("#tip-json").hide();
                }
                RED.tray.resize();
            });
            const hasMatch = function (arr, value) {
                return arr.some(function (ht) {
                    return ht.value === value
                });
            }
            const headerList = $("#node-input-headers-container").css('min-height', '150px').css('min-width', '450px').editableList({
                addItem: function (container, i, header) {
                    const row = $('<div/>').css({
                        overflow: 'hidden',
                        whiteSpace: 'nowrap',
                        display: 'flex'
                    }).appendTo(container);
                    const propertNameCell = $('<div/>').css({ 'flex-grow': 1 }).appendTo(row);
                    const propertyName = $('<input/>', { class: "node-input-header-name", type: "text", style: "width: 100%" })
                        .appendTo(propertNameCell)
                        .typedInput({ types: headerTypes });

                    const propertyValueCell = $('<div/>').css({ 'flex-grow': 1, 'margin-left': '10px' }).appendTo(row);
                    const propertyValue = $('<input/>', { class: "node-input-header-value", type: "text", style: "width: 100%" })
                        .appendTo(propertyValueCell)
                        .typedInput({
                            types: getHeaderOptions(header.keyType)
                        });

                    const setup = function(_header) {
                        const headerTypeIsAPreset = function(h) {return hasMatch(headerTypes, h) };
                        const headerValueIsAPreset = function(h, v) {return hasMatch(getHeaderOptions(h), v) };
                        const {keyType, keyValue, valueType, valueValue} = header;
                        if(keyType == "msg" || keyType == "other") {
                            propertyName.typedInput('type', keyType);
                            propertyName.typedInput('value', keyValue);
                        } else if (headerTypeIsAPreset(keyType)) {
                            propertyName.typedInput('type', keyType);
                        } else {
                            propertyName.typedInput('type', "other");
                            propertyName.typedInput('value', keyValue);
                        }
                        if(valueType == "msg" || valueType == "other") {
                            propertyValue.typedInput('type', valueType);
                            propertyValue.typedInput('value', valueValue);
                        } else if (headerValueIsAPreset(propertyName.typedInput('type'), valueType)) {
                            propertyValue.typedInput('type', valueType);
                        } else {
                            propertyValue.typedInput('type', "other");
                            propertyValue.typedInput('value', valueValue);
                        }
                    }
                    setup(header);

                    propertyName.on('change', function (event) {
                        propertyValue.typedInput('types', getHeaderOptions(propertyName.typedInput('type')));
                    });

                },
                sortable: true,
                removable: true
            });
            if (node.headers) {
                for (let index = 0; index < node.headers.length; index++) {
                    const element = node.headers[index];
                    headerList.editableList('addItem', node.headers[index]);
                }
            }
        },
        oneditsave: function() {
            if (!$("#node-input-usetls").is(':checked')) {
                $("#node-input-tls").val("_ADD_");
            }
            if (!$("#node-input-useProxy").is(":checked")) {
                $("#node-input-proxy").val("_ADD_");
            }
            const headers = $("#node-input-headers-container").editableList('items');
            const node = this;
            node.headers = [];
            headers.each(function(i) {
                const header = $(this);
                const keyType = header.find(".node-input-header-name").typedInput('type');
                const keyValue = header.find(".node-input-header-name").typedInput('value');
                const valueType = header.find(".node-input-header-value").typedInput('type');
                const valueValue = header.find(".node-input-header-value").typedInput('value');
                if (keyType !== '' || keyType === 'other' || keyType === 'msg') {
                    node.headers.push({
                        keyType, keyValue, valueType, valueValue
                    })
                }
            });
        },
        oneditresize: function(size) {
            const dlg = $("#dialog-form");
            const expandRow = dlg.find('.node-input-headers-container-row');
            let height = dlg.height() - 5;
            if(expandRow && expandRow.length){
                const siblingRows = dlg.find('> .form-row:not(.node-input-headers-container-row)');
                for (let i = 0; i < siblingRows.size(); i++) {
                    const cr = $(siblingRows[i]);
                    if(cr.is(":visible"))
                        height -= cr.outerHeight(true);
                }
                $("#node-input-headers-container").editableList('height',height);
            } 
        }
    });
})();    
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="http request">
    <p>Envia solicitaes HTTP e retorna a resposta.</p>

    <h3>Entradas</h3>
    <dl class = "message-properties">
        <dt class="optional">url<span class="property-type"> cadeia de caracteres</span></dt>
        <dd>Se no for configurada no n, esta propriedade opcional define o url da solicitao.</dd>
        <dt class="optional">mtodo<span class="property-type"> cadeia de caracteres</span></dt>
        <dd>Se no for configurada no n, esta propriedade opcional define o mtodo HTTP da solicitao.
            Deve ser <code>GET</code>, <code>PUT</code>, <code>POST</code>, <code>PATCH</code> ou <code>DELETE</code>.</dd>
        <dt class="optional">cabealhos<span class="property-type"> objeto</span></dt>
        <dd>Define os cabealhos HTTP da solicitao.</dd>
        <dt class="optional">cookies <span class = "property-type"> objeto</span></dt>
        <dd>Se definido, pode ser usado para enviar cookies com a solicitao.</dd>
        <dt class="optional">carga til</dt>
        <dd>Enviado como o corpo da solicitao.</dd>
        <dt class="optional">rejeitarUnauthorized</dt>
        <dd>Se definido como <code>falso</code>, permite que as solicitaes sejam feitas para sites https que usam
            certificados autoassinados.</dd>
        <dt class="optional">followRedirects</dt>
        <dd>Se definido como <code>falso</code>, evita o redirecionamento seguinte(HTTP 301).<code>verdadeiro</code> por padro</dd>
        <dt class="optional">equestTimeout</dt>
        <dd>Se definido como um nmero positivo de milissegundos, substituir o parmetro <code>httpRequestTimeout</code> definido globalmente.</dd>
    </dl>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>carga til <span class="property-type"> cadeia de caracteres | objeto | buffer </span></dt>
        <dd>O corpo da resposta. O n pode ser configurado para retornar o corpo
             como uma cadeia de caracteres, tente analis-la como uma cadeia de caracteres JSON ou deixe-a como um
             armazenament temporpario binrio.</dd>
        <dt>statusCode<span class="property-type">nmero</span></dt>
        <dd>O cdigo de estado da resposta ou o cdigo de erro se a solicitao no pde ser concluda.</dd>
        <dt>headers<span class="property-type">objeto</span></dt>
        <dd>Um objeto contendo os cabealhos de resposta.</dd>
        <dt>responseUrl<span class="property-type">cadeia de caracteres</span></dt>
        <dd>Caso ocorram redirecionamentos durante o processamento da solicitao, esta propriedade  a URL redirecionada final.
            Caso contrrio, o url da solicitao original.</dd>
        <dt>responseCookies<span class="property-type">objeto</span></dt>
        <dd>Se a resposta incluir cookies, esta propriedade  um objeto de pares nome/valor para cada cookie.</dd>
        <dt>redirectList<span class="property-type">matriz</span></dt>
        <dd>Se a solicitao foi redirecionada uma ou mais vezes, as informaes acumuladas sero adicionadas a esta propriedade. `location`  o prximo destino de redirecionamento. `cookies` so os cookies retornados da fonte de redirecionamento.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Quando configurada no n, a propriedade URL pode conter tags <a href="http://mustache.github.io/mustache.5.html" target="_blank"> estilo bigode</a>. Estes permitem a
    url a ser construda utilizando valores da mensagem de entrada. Por exemplo, se o url estiver definido para
    <code>example.com/{{{topic}}}</code>, ter o valor de <code>msg.topic</code> inserido automaticamente.
    Usar {{{...}}} evita que o bigode use caracteres de escape como /& etc.</p>
    <p>O n pode, opcionalmente, codificar automaticamente <code>msg.payload</code> como parmetros de cadeia de caracteres de consulta para uma solicitao GET, caso em que <code>msg.payload</code> deve ser um objeto.</p>
    <p><b>Nota:</b> Se estiver sendo executado atrs de um proxy, a varivel de ambiente <code>http_proxy=...</code> padro deve ser definida e o Node-RED reiniciado ou use ento a configurao de proxy. Se a configurao do proxy foi definida, a configurao tem precedncia sobre a varivel de ambiente.</p>
    <h4>Usando vrios ns de solicitao HTTP</h4>
    <p>Para usar mais de um desses ns no mesmo fluxo, deve-se ter cuidado com
    a propriedade <code>msg.headers</code>. O primeiro n ir definir esta propriedade com
    os cabealhos de resposta. O prximo n usar esses cabealhos para sua solicitao - isso 
    geralmente no  a coisa certa a se fazer. Se a propriedade <code>msg.headers</code> for deixada inalterada
    entre os ns, ela ser ignorada pelo segundo n. Para definir cabealhos personalizados, <code>msg.headers</code>
    deve primeiro ser excludo ou redefinido para um objeto vazio: <code>{}</code>.
    <h4>Tratamento de cookies</h4>
    <p>A propriedade <code>cookies</code> passada ao n deve ser um objeto de pares nome/valor.
    O valor pode ser uma cadeia de caracteres para definir o valor do cookie ou pode ser um
    objeto com uma nica propriedade <code>value</code>.</p>
    <p>Todos os cookies retornados pela solicitao so devolvidos  propriedade <code>responseCookies</code>.</p>
    <h4>Tratamento do tipo de contedo</h4>
    <p>Se <code>msg.payload</code> for um objeto, o n definir automaticamente o tipo de contedo
     da solicitao para <code>application/json</code> e ir codificar o corpo como tal.</p>
     <p>Para codificar a solicitao como dados de formulrio, <code>msg.headers["content-type"]</code> deve ser definido como <code>application/x-www-form-urlencoded</code>.</p>
     <h4>Subida de arquivo</h4>
     <p>Para subir um arquivo, <code>msg.headers["content-type"]</code> deve ser definido como <code>multipart/form-data</code>
         e o <code>msg.payload</code> passado para o n deve ser um objeto com a seguinte estrutura:</p>
    <pre><code>{
    "KEY": {
        "value": FILE_CONTENTS,
        "options": {
            "filename": "FILENAME"
        }
    }
}</code></pre>
<p> Os valores de <code>KEY</code>, <code>FILE_CONTENTS</code> e <code>FILENAME</code>
    devem ser definidos com os valores apropriados.</p>
</script>

</div><div><!-- --- [red-module:node-red/websocket] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!-- WebSocket Input Node -->
<script type="text/html" data-template-name="websocket in">
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-dot-circle-o"></i> <span data-i18n="websocket.label.type"></span></label>
        <select id="node-input-mode">
            <option value="server" data-i18n="websocket.listenon"></option>
            <option value="client" data-i18n="websocket.connectto"></option>
        </select>
    </div>
    <div class="form-row" id="websocket-server-row">
        <label for="node-input-server"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.path"></span></label>
        <input type="text" id="node-input-server">
    </div>
    <div class="form-row" id="websocket-client-row">
        <label for="node-input-client"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input type="text" id="node-input-client">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">

(function() {

    function ws_oneditprepare() {
        $("#websocket-client-row").hide();
        $("#node-input-mode").on("change", function() {
            if ( $("#node-input-mode").val() === 'client') {
                $("#websocket-server-row").hide();
                $("#websocket-client-row").show();
            }
            else {
                $("#websocket-server-row").show();
                $("#websocket-client-row").hide();
            }
        });

        if (this.client) {
            $("#node-input-mode").val('client').change();
        }
        else {
            $("#node-input-mode").val('server').change();
        }
    }

    function ws_oneditsave() {
        if ($("#node-input-mode").val() === 'client') {
            $("#node-input-server").append('<option value="">Dummy</option>');
            $("#node-input-server").val('');
        }
        else {
            $("#node-input-client").append('<option value="">Dummy</option>');
            $("#node-input-client").val('');
        }
    }

    function ws_label() {
        var nodeid = (this.client)?this.client:this.server;
        var wsNode = RED.nodes.node(nodeid);
        return this.name||(wsNode?"[ws] "+wsNode.label():"websocket");
    }

    function ws_validateserver() {
        if ($("#node-input-mode").val() === 'client' || (this.client && !this.server)) {
            return true;
        }
        else {
            if (RED.nodes.node(this.server) != null) {
                return true;
            }
            return RED._("node-red:websocket.errors.missing-server");
        }
    }

    function ws_validateclient() {
        if ($("#node-input-mode").val() === 'client' || (this.client && !this.server)) {
            if (RED.nodes.node(this.client) != null) {
                return true;
            }
            return RED._("node-red:websocket.errors.missing-client");
        }
        else {
            return true;
        }
    }

    RED.nodes.registerType('websocket in',{
        category: 'network',
        defaults: {
            name: {value:""},
            server: {type:"websocket-listener", validate: ws_validateserver},
            client: {type:"websocket-client", validate: ws_validateclient}
        },
        color:"rgb(215, 215, 160)",
        inputs:0,
        outputs:1,
        icon: "white-globe.svg",
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        label: ws_label,
        oneditsave: ws_oneditsave,
        oneditprepare: ws_oneditprepare
    });

    RED.nodes.registerType('websocket out',{
        category: 'network',
        defaults: {
            name: {value:""},
            server: {type:"websocket-listener", validate: ws_validateserver},
            client: {type:"websocket-client", validate: ws_validateclient}
        },
        color:"rgb(215, 215, 160)",
        inputs:1,
        outputs:0,
        icon: "white-globe.svg",
        align: "right",
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        label: ws_label,
        oneditsave: ws_oneditsave,
        oneditprepare: ws_oneditprepare
    });

    RED.nodes.registerType('websocket-listener',{
        category: 'config',
        defaults: {
            path: {value:"",required:true,
                   label:RED._("node-red:websocket.label.path"),
                   validate:RED.validators.regex(/^((?!\/debug\/ws).)*$/)},
            wholemsg: {value:"false"}
        },
        inputs:0,
        outputs:0,
        label: function() {
            var root = RED.settings.httpNodeRoot;
            if (root.slice(-1) != "/") {
                root = root+"/";
            }
            if (this.path) {
                if (this.path.charAt(0) == "/") {
                    root += this.path.slice(1);
                } else {
                    root += this.path;
                }
            }
            return root;
        },
        oneditprepare: function() {
            var root = RED.settings.httpNodeRoot;
            if (root.slice(-1) == "/") {
                root = root.slice(0,-1);
            }
            if (root === "") {
                $("#node-config-ws-tip").hide();
            } else {
                $("#node-config-ws-path").html(RED._("node-red:websocket.tip.path2", { path: root }));
                $("#node-config-ws-tip").show();
            }
        }
    });

    RED.nodes.registerType('websocket-client',{
        category: 'config',
        defaults: {
            path: {
                value:"",required:true,
                label:RED._("node-red:websocket.label.path"),
                validate:RED.validators.regex(/^((?!\/debug\/ws).)*$/)},
            tls: {type:"tls-config",required: false},
            wholemsg: {value:"false"},
            hb: {
                value: "",
                label:RED._("node-red:websocket.sendheartbeat"),
                validate: RED.validators.number(/*blank allowed*/true) },
            subprotocol: {value:"",required: false}
        },
        inputs:0,
        outputs:0,
        label: function() {
            return this.path;
        },
        oneditprepare: function() {
            $("#node-config-input-path").on("change keyup paste",function() {
                $(".node-config-row-tls").toggle(/^wss:/i.test($(this).val()))
            });
            $("#node-config-input-path").change();

            var heartbeatActive = (this.hb && this.hb != "0");
            $("#node-config-input-hb-cb").prop("checked",heartbeatActive);
            $("#node-config-input-hb-cb").on("change", function(evt) {
                $("#node-config-input-hb-row").toggle(this.checked);
            })
            $("#node-config-input-hb-cb").trigger("change");
            if (!heartbeatActive) {
                $("#node-config-input-hb").val("");
            }
        },
        oneditsave: function() {
            if (!/^wss:/i.test($("#node-config-input-path").val())) {
                $("#node-config-input-tls").val("_ADD_");
            }
            if (!$("#node-config-input-hb-cb").prop("checked")) {
                $("#node-config-input-hb").val("0");
            }
        }
    });

})();
</script>

<!-- WebSocket out Node -->
<script type="text/html" data-template-name="websocket out">
    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-dot-circle-o"></i> <span data-i18n="websocket.label.type"></span></label>
        <select id="node-input-mode">
            <option value="server" data-i18n="websocket.listenon"></option>
            <option value="client" data-i18n="websocket.connectto"></option>
        </select>
    </div>
    <div class="form-row" id="websocket-server-row">
        <label for="node-input-server"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.path"></span></label>
        <input type="text" id="node-input-server">
    </div>
    <div class="form-row" id="websocket-client-row">
        <label for="node-input-client"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input type="text" id="node-input-client">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<!-- WebSocket Server configuration node -->
<script type="text/html" data-template-name="websocket-listener">
    <div class="form-row">
        <label for="node-config-input-path"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.path"></span></label>
        <input id="node-config-input-path" type="text" placeholder="/ws/example">
    </div>
    <div class="form-row">
        <label for="node-config-input-wholemsg" data-i18n="websocket.sendrec"></label>
        <select type="text" id="node-config-input-wholemsg" style="width: 70%;">
            <option value="false" data-i18n="websocket.payload"></option>
            <option value="true" data-i18n="websocket.message"></option>
        </select>
    </div>
    <div class="form-tips">
        <span data-i18n="[html]websocket.tip.path1"></span>
        <p id="node-config-ws-tip"><span id="node-config-ws-path"></span></p>
    </div>
</script>

<!-- WebSocket Client configuration node -->
<script type="text/html" data-template-name="websocket-client">
    <div class="form-row">
        <label for="node-config-input-path"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input id="node-config-input-path" type="text" placeholder="ws://example.com/ws">
    </div>
    <div class="form-row node-config-row-tls hide">
        <label for="node-config-input-tls" data-i18n="httpin.tls-config"></label>
        <input type="text" id="node-config-input-tls">
    </div>
    <div class="form-row">
        <label for="node-config-input-subprotocol"><i class="fa fa-tag"></i> <span data-i18n="websocket.label.subprotocol"></span></label>
        <input type="text" id="node-config-input-subprotocol">
    </div>
    <div class="form-row">
        <label for="node-config-input-wholemsg" data-i18n="websocket.sendrec"></label>
        <select type="text" id="node-config-input-wholemsg" style="width: 70%;">
            <option value="false" data-i18n="websocket.payload"></option>
            <option value="true" data-i18n="websocket.message"></option>
        </select>
    </div>
    <div class="form-row" style="display: flex; align-items: center; min-height: 34px">
        <label for="node-config-input-hb-cb" data-i18n="websocket.sendheartbeat"></label>
        <input type="checkbox" style="margin: 0 8px; width:auto" id="node-config-input-hb-cb">
        <span id="node-config-input-hb-row" class="hide" >
            <input type="text" style="width: 70px; margin-right: 3px" id="node-config-input-hb">
            <span  data-i18n="inject.seconds"></span>
        </span>
    </div>
    <div class="form-tips">
        <p><span data-i18n="[html]websocket.tip.url1"></span></p>
        <span data-i18n="[html]websocket.tip.url2"></span>
    </div>
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="websocket in">
  <p>N Websocket de entrada.</p>
  <p>Por padro, os dados recebidos do WebSocket estaro em <code>msg.payload</code>.
  O soquete pode ser configurado para esperar uma cadeia de caracteres JSON formada corretamente, neste
  caso, ele ir analisar sintaticamente o JSON e enviar o objeto resultante como a mensagem inteira.</p>
</script>

<script type="text/html" data-help-name="websocket out">
  <p>N Websocket de sada.</p>
  <p>Por padro, <code>msg.payload</code> ser enviado pelo WebSocket. O soquete
  pode ser configurado para codificar todo o objeto <code>msg</code> como uma cadeia de caracteres JSON e enviar-lo
  pelo WebSocket.</p>

  <p>Se a mensagem que chega a este n for iniciada em um n WebSocket de entrada, a mensagem
  ser enviada de volta ao cliente que acionou o fluxo. Caso contrrio, a mensagem
  ser transmitida para todos os clientes conectados.</p>
  <p>Se quiser transmitir uma mensagem que comeou em um n WebSocket de entrada, voc
  deve excluir a propriedade <code>msg._session</code> dentro do fluxo.</p>
</script>

<script type="text/html" data-help-name="websocket-listener">
  <p>Este n de configurao cria uma extremidade do servidor WebSocket usando o caminho especificado.</p>
</script>

<script type="text/html" data-help-name="websocket-client">
  <p>Este n de configurao conecta um cliente WebSocket  URL especificada.</p>
</script>

</div><div><!-- --- [red-module:node-red/tcpin] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="tcp in">
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-dot-circle-o"></i> <span data-i18n="tcpin.label.type"></span></label>
        <select id="node-input-server" style="width:120px; margin-right:5px;">
            <option value="server" data-i18n="tcpin.type.listen"></option>
            <option value="client" data-i18n="tcpin.type.connect"></option>
        </select>
        <span data-i18n="tcpin.label.port"></span> <input type="text" id="node-input-port" style="width:65px">
    </div>
    <div class="form-row hidden" id="node-input-host-row" style="padding-left:110px;">
        <span data-i18n="tcpin.label.host"></span> <input type="text" id="node-input-host" placeholder="localhost" style="width: 60%;">
    </div>
    <div class="form-row" id="node-input-tls-enable">
        <label> </label>
        <input type="checkbox" id="node-input-usetls" style="display: inline-block; width:auto; vertical-align:top;">
        <label for="node-input-usetls" style="width:auto" data-i18n="httpin.use-tls"></label>
        <div id="node-row-tls" class="hide">
            <label style="width:auto; margin-left:20px; margin-right:10px;" for="node-input-tls"><span data-i18n="httpin.tls-config"></span></label><input type="text" style="width: 300px" id="node-input-tls">
        </div>
    </div>

    <div class="form-row">
        <label><i class="fa fa-sign-out"></i> <span data-i18n="tcpin.label.output"></span></label>
        <select id="node-input-datamode" style="width:110px;">
            <option value="stream" data-i18n="tcpin.output.stream"></option>
            <option value="single" data-i18n="tcpin.output.single"></option>
        </select>
        <select id="node-input-datatype" style="width:140px;">
            <option value="buffer" data-i18n="tcpin.output.buffer"></option>
            <option value="utf8" data-i18n="tcpin.output.string"></option>
            <option value="base64" data-i18n="tcpin.output.base64"></option>
        </select>
        <span data-i18n="tcpin.label.payload"></span>
    </div>

    <div id="node-row-newline" class="form-row hidden" style="padding-left:110px;">
        <span data-i18n="tcpin.label.delimited"></span> <input type="text" id="node-input-newline" style="width:110px;" data-i18n="[placeholder]tcpin.label.optional"><br/>
        <input type="checkbox" id="node-input-trim" style="display:inline-block; width:auto; vertical-align:top;"> <span data-i18n="tcpin.label.reattach"></span>
    </div>

    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tasks"></i> <span data-i18n="common.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]common.label.topic">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('tcp in',{
        category: 'network',
        color: "Silver",
        defaults: {
            name: {value:""},
            server: {value:"server", required:true},
            host: {
                value:"",
                validate:function(v, opt) {
                    if ((this.server == "server")||v.length > 0) {
                        return true;
                    }
                    return RED._("node-red:tcpin.errors.invalid-host");
                }
            },
            port: {
                value:"", required:true,
                label:RED._("node-red:tcpin.label.port"),
                validate:RED.validators.number(false)},
            datamode:{value:"stream"},
            datatype:{value:"buffer"},
            newline:{value:""},
            topic: {value:""},
            trim: {value:false},
            base64: {/*deprecated*/ value:false, required:true},
            tls: {type:"tls-config", value:'', required:false,
                  label:RED._("node-red:httpin.tls-config") }
        },
        inputs:0,
        outputs:1,
        icon: "bridge-dash.svg",
        label: function() {
            return this.name || "tcp:"+(this.host?this.host+":":"")+this.port;
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            var updateOptions = function() {
                var sockettype = $("#node-input-server").val();
                if (sockettype == "client") {
                    $("#node-input-host-row").show();
                } else {
                    $("#node-input-host-row").hide();
                }
                var datamode = $("#node-input-datamode").val();
                var datatype = $("#node-input-datatype").val();
                if (datamode == "stream") {
                    if (datatype == "utf8") {
                        $("#node-row-newline").show();
                    } else {
                        $("#node-row-newline").hide();
                    }
                } else {
                    $("#node-row-newline").hide();
                }
            };
            updateOptions();
            $("#node-input-server").change(updateOptions);
            $("#node-input-datatype").change(updateOptions);
            $("#node-input-datamode").change(updateOptions);
            function updateTLSOptions() {
                if ($("#node-input-usetls").is(':checked')) {
                    $("#node-row-tls").show();
                } else {
                    $("#node-row-tls").hide();
                }
            }
            if (this.tls) {
                $('#node-input-usetls').prop('checked', true);
            } else {
                $('#node-input-usetls').prop('checked', false);
            }
            updateTLSOptions();
            $("#node-input-usetls").on("click",function() {
                updateTLSOptions();
            });
        },
        oneditsave: function() {
            if (!$("#node-input-usetls").is(':checked')) {
                $("#node-input-tls").val("_ADD_");
            }
        }
    });
</script>


<script type="text/html" data-template-name="tcp out">
    <div class="form-row">
        <label for="node-input-beserver"><i class="fa fa-dot-circle-o"></i> <span data-i18n="tcpin.label.type"></span></label>
        <select id="node-input-beserver" style="width:150px; margin-right:5px;">
            <option value="server" data-i18n="tcpin.type.listen"></option>
            <option value="client" data-i18n="tcpin.type.connect"></option>
            <option value="reply" data-i18n="tcpin.type.reply"></option>
        </select>
        <span id="node-input-port-row"><span data-i18n="tcpin.label.port"></span> <input type="text" id="node-input-port" style="width: 65px"></span>
    </div>

    <div class="form-row hidden" id="node-input-host-row" style="padding-left: 110px;">
        <span data-i18n="tcpin.label.host"></span> <input type="text" id="node-input-host" style="width: 60%;">
    </div>

    <div class="form-row" id="node-input-tls-enable">
        <label> </label>
        <input type="checkbox" id="node-input-usetls" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-usetls" style="width: auto" data-i18n="httpin.use-tls"></label>
        <div id="node-row-tls" class="hide">
            <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-input-tls"><span data-i18n="httpin.tls-config"></span></label><input type="text" style="width: 300px" id="node-input-tls">
        </div>
    </div>

    <div class="form-row hidden" id="node-input-end-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-end" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-end" style="width: 70%;"><span data-i18n="tcpin.label.close-connection"></span></label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-base64" placeholder="base64" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-base64" style="width: 70%;"><span data-i18n="tcpin.label.decode-base64"></span></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('tcp out',{
        category: 'network',
        color: "Silver",
        defaults: {
            name: {value:""},
            host: {
                value:"",
                validate:function(v, opt) {
                    if ((this.beserver != "client")||v.length > 0) {
                        return true;
                    }
                    return RED._("node-red:tcpin.errors.invalid-host");
                }
            },
            port: {
                value:"",
                validate:function(v) {
                    if ((this.beserver == "reply")||RED.validators.number()(v)) {
                        return true;
                    }
                    return RED._("node-red:tcpin.errors.invalid-port");
                }
            },
            beserver: {value:"client", required:true},
            base64: {value:false, required:true},
            end: {value:false, required:true},
            tls: {type:"tls-config", value:'', required:false,
                  label:RED._("node-red:httpin.tls-config") }
        },
        inputs:1,
        outputs:0,
        icon: "bridge-dash.svg",
        align: "right",
        label: function() {
            return this.name || "tcp:"+(this.host?this.host+":":"")+this.port;
        },
        labelStyle: function() {
            return (this.name)?"node_label_italic":"";
        },
        oneditprepare: function() {
            var updateOptions = function() {
                var sockettype = $("#node-input-beserver").val();
                if (sockettype == "reply") {
                    $("#node-input-port-row").hide();
                    $("#node-input-host-row").hide();
                    $("#node-input-end-row").hide();
                    $("#node-input-tls-enable").hide();
                } else if (sockettype == "client"){
                    $("#node-input-port-row").show();
                    $("#node-input-host-row").show();
                    $("#node-input-end-row").show();
                    $("#node-input-tls-enable").show();
                } else {
                    $("#node-input-port-row").show();
                    $("#node-input-host-row").hide();
                    $("#node-input-end-row").show();
                    $("#node-input-tls-enable").show();
                }
            };
            updateOptions();
            $("#node-input-beserver").change(updateOptions);
            function updateTLSOptions() {
                if ($("#node-input-usetls").is(':checked')) {
                    $("#node-row-tls").show();
                } else {
                    $("#node-row-tls").hide();
                }
            }
            if (this.tls) {
                $('#node-input-usetls').prop('checked', true);
            } else {
                $('#node-input-usetls').prop('checked', false);
            }
            updateTLSOptions();
            $("#node-input-usetls").on("click",function() {
                updateTLSOptions();
            });
        },
        oneditsave: function() {
            if (!$("#node-input-usetls").is(':checked')) {
                $("#node-input-tls").val("_ADD_");
            }
        }
    });
</script>


<script type="text/html" data-template-name="tcp request">
    <div class="form-row">
        <label for="node-input-server"><i class="fa fa-globe"></i> <span data-i18n="tcpin.label.server"></span></label>
        <input type="text" id="node-input-server" placeholder="ip.address" style="width:45%">
        <span data-i18n="tcpin.label.port"></span>
        <input type="text" id="node-input-port" style="width:60px">
    </div>
    <div class="form-row" id="node-input-tls-enable">
        <label> </label>
        <input type="checkbox" id="node-input-usetls" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-usetls" style="width: auto" data-i18n="httpin.use-tls"></label>
        <div id="node-row-tls" class="hide">
            <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-input-tls"><span data-i18n="httpin.tls-config"></span></label><input type="text" style="width: 300px" id="node-input-tls">
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-ret"><i class="fa fa-sign-out"></i> <span data-i18n="tcpin.label.return"></span></label>
        <select type="text" id="node-input-ret" style="width:54%;">
            <option value="buffer" data-i18n="tcpin.output.buffer"></option>
            <option value="string" data-i18n="tcpin.output.string"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-out"><i class="fa fa-sign-out fa-rotate-90"></i> <span data-i18n="tcpin.label.close"></span></label>
        <select type="text" id="node-input-out" style="width:54%;">
            <option value="time" data-i18n="tcpin.return.timeout"></option>
            <option value="char" data-i18n="tcpin.return.character"></option>
            <option value="count" data-i18n="tcpin.return.number"></option>
            <option value="sit" data-i18n="tcpin.return.never"></option>
            <option value="immed" data-i18n="tcpin.return.immed"></option>
        </select>
        <input type="text" id="node-input-splitc" style="width:50px;">
        <span id="node-units"></span>
    </div>
    <div id="node-row-newline" class="form-row hidden" style="padding-left:162px;">
        <span data-i18n="tcpin.label.delimited"></span> <input type="text" id="node-input-newline" style="width:110px;" data-i18n="[placeholder]tcpin.label.optional"><br/>
        <input type="checkbox" id="node-input-trim" style="display:inline-block; width:auto; vertical-align:top;"> <span data-i18n="tcpin.label.reattach"></span>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('tcp request',{
        category: 'network',
        color: "Silver",
        defaults: {
            name: {value:""},
            server: {value:""},
            port: {
                value:"",
                label: RED._("node-red:tcpin.label.port"),
                validate:RED.validators.regex(/^(\d*|)$/)
            },
            out: {value:"time", required:true},
            ret: {value:"buffer"},
            splitc: {value:"0", required:true},
            newline: {value:""},
            trim: {value:false},
            tls: {type:"tls-config", value:'', required:false, label:RED._("node-red:httpin.tls-config")}
        },
        inputs:1,
        outputs:1,
        icon: "bridge-dash.svg",
        label: function() {
            return this.name || "tcp:"+(this.server?this.server+":":"")+this.port;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var previous = null;
            if ($("#node-input-ret").val() == undefined) {
                $("#node-input-ret").val("buffer");
                this.ret = "buffer";
            }
            $("#node-input-ret").on("change", function() {
                if ($("#node-input-ret").val() === "string" && $("#node-input-out").val() === "sit") { $("#node-row-newline").show(); }
                else { $("#node-row-newline").hide(); }
            });
            $("#node-input-out").on("change", function() {
                if ($("#node-input-ret").val() === "string" && $("#node-input-out").val() === "sit") { $("#node-row-newline").show(); }
                else { $("#node-row-newline").hide(); }
            });
            $("#node-input-out").on('focus', function () { previous = this.value; }).on("change", function() {
                $("#node-input-splitc").show();
                if (previous === null) { previous = $("#node-input-out").val(); }
                if ($("#node-input-out").val() == "char") {
                    if (previous != "char") { $("#node-input-splitc").val("\\n"); }
                    $("#node-units").text("");
                }
                else if ($("#node-input-out").val() == "time") {
                    if (previous != "time") { $("#node-input-splitc").val("0"); }
                    $("#node-units").text(RED._("node-red:tcpin.label.ms"));
                }
                else if ($("#node-input-out").val() == "immed") {
                    if (previous != "immed") { $("#node-input-splitc").val(" "); }
                    $("#node-units").text("");
                    $("#node-input-splitc").hide();
                }
                else if ($("#node-input-out").val() == "count") {
                    if (previous != "count") { $("#node-input-splitc").val("12"); }
                    $("#node-units").text(RED._("node-red:tcpin.label.chars"));
                }
                else {
                    if (previous != "sit") { $("#node-input-splitc").val(" "); }
                    $("#node-units").text("");
                    $("#node-input-splitc").hide();
                }
            });
            function updateTLSOptions() {
                if ($("#node-input-usetls").is(':checked')) {
                    $("#node-row-tls").show();
                } else {
                    $("#node-row-tls").hide();
                }
            }
            if (this.tls) {
                $('#node-input-usetls').prop('checked', true);
            } else {
                $('#node-input-usetls').prop('checked', false);
            }
            updateTLSOptions();
            $("#node-input-usetls").on("click",function() {
                updateTLSOptions();
            });
        },
        oneditsave: function() {
            if (!$("#node-input-usetls").is(':checked')) {
                $("#node-input-tls").val("_ADD_");
            }
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="tcp in">
    <p>Oferece uma escolha de entradas TCP. Pode se conectar a uma porta TCP remota,
        ou aceitar conexes de entrada.</p>
     <p><b>Nota:</b>Em alguns sistemas, voc pode precisar de acesso root ou administrador
     para acessar as portas abaixo de 1024.</p>
</script>

<script type="text/html" data-help-name="tcp out">
    <p>Oferece opes de sadas TCP. Pode se conectar a uma porta TCP remota,
    aceitar conexes de entrada ou responder a mensagens recebidas de um n TCP  de entrada.</p>
    <p>Apenas o <code>msg.payload</code>  enviado.</p>
    <p>Se <code>msg.payload</code> for uma cadeia de caracteres contendo uma codificao binria
    de dados Base64, a opo de decodificao Base64 far com que sejam convertidos de volta para binrios
    antes de serem enviados.</p>
    <p>Se <code>msg._session</code> no estiver presente, a carga til 
    enviada para <b>todos</b> os clientes conectados.</p>
    <p><b>Nota:</b> Em alguns sistemas, voc pode precisar de acesso root ou administrador
    para acessar portas abaixo de 1024.</p>
</script>

<script type="text/html" data-help-name="tcp request">
    <p>Um n de solicitao TCP simples - envia o <code>msg.payload</code> para uma porta tcp do servidor e espera uma resposta.</p>
    <p>Conecta, envia a 'solicitao' e l a 'resposta'. Pode ou contar 
    o nmero de caracteres retornados em um armazenamento temporrio fixo, igualar a um caractere especificado antes de retornar,
    aguardar um tempo limite fixo desde a primeira resposta e depois retornar, sentar-se e esperar pelos dados ou enviar e fechar a conexo
    imediatamente, sem esperar uma resposta.</p>
    <p>A resposta ser produzida em <code>msg.payload</code> como um armazenamento temporrio, a ento voc pode usar .toString() para converte-la.</p>
    <p>Se voc deixar o servidor tcp ou a porta em branco, deve-se configurar os mesmos usando as propriedades <code>msg.host</code> e <code>msg.port</code> em cada mensagem enviada ao n.</p>
</script>

</div><div><!-- --- [red-module:node-red/udp] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!--  The Input Node  -->
<script type="text/html" data-template-name="udp in">
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-sign-in"></i> <span data-i18n="udp.label.listen"></span></label>
        <select id="node-input-multicast" style='width:70%'>
          <option value="false" data-i18n="udp.udpmsgs"></option>
          <option value="true" data-i18n="udp.mcmsgs"></option>
        </select>
    </div>
    <div class="form-row node-input-group">
        <label for="node-input-group"><i class="fa fa-list"></i> <span data-i18n="udp.label.group"></span></label>
        <input type="text" id="node-input-group" placeholder="225.0.18.83">
    </div>
    <div class="form-row node-input-iface">
        <label for="node-input-iface"><i class="fa fa-random"></i> <span data-i18n="udp.label.interface"></span></label>
        <input type="text" id="node-input-iface" data-i18n="[placeholder]udp.placeholder.interfaceprompt">
    </div>
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-sign-in"></i> <span data-i18n="udp.label.onport"></span></label>
        <input type="text" id="node-input-port" style="width:80px">
        &nbsp;&nbsp;<span data-i18n="udp.label.using"></span> <select id="node-input-ipv" style="width:80px">
          <option value="udp4">ipv4</option>
          <option value="udp6">ipv6</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-datatype"><i class="fa fa-sign-out"></i> <span data-i18n="udp.label.output"></span></label>
        <select id="node-input-datatype" style="width:70%;">
            <option value="buffer" data-i18n="udp.output.buffer"></option>
            <option value="utf8" data-i18n="udp.output.string"></option>
            <option value="base64" data-i18n="udp.output.base64"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="udp.tip.in"></span></div>
    <div class="form-tips" id="udpporttip"><span data-i18n="[html]udp.tip.port"></span></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('udp in',{
        category: 'network',
        color:"Silver",
        defaults: {
            name: {value:""},
            iface: {value:""},
            port: {
                value:"", required:true,
                label:RED._("node-red:udp.label.port"),
                validate:RED.validators.number(false)
            },
            ipv: {value:"udp4"},
            multicast: {value:"false"},
            group: {
                value:"",
                validate:function(v,opt) {
                    if ((this.multicast !== "true")||v.length > 0) {
                        return true;
                    }
                    return RED._("node-red:udp.errors.invalid-group");
                }
            },
            datatype: {value:"buffer",required:true}
        },
        inputs:0,
        outputs:1,
        icon: "bridge-dash.svg",
        label: function() {
            if (this.multicast=="false") {
                return this.name||"udp "+this.port;
            }
            else {
                return this.name||"udp "+(this.group+":"+this.port);
            }
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-input-multicast").on("change", function() {
                var id = $("#node-input-multicast").val();
                if (id == "false") {
                    $(".node-input-group").hide();
                    $(".node-input-iface").hide();
                }
                else {
                    $(".node-input-group").show();
                    $(".node-input-iface").show();
                }
            });
            $("#node-input-multicast").change();

            var porttip = this._("udp.tip.port");
            var alreadyused = this._("udp.errors.alreadyused");
            var portsInUse = {};
            $.getJSON('udp-ports/'+this.id,function(data) {
                portsInUse = data || {};
                $('#udpporttip').html(porttip + data);
            });
            $("#node-input-port").on("change", function() {
                var portnew = $("#node-input-port").val();
                if (portsInUse.hasOwnProperty($("#node-input-port").val())) {
                    RED.notify(alreadyused+" "+$("#node-input-port").val(),"warn");
                }
            });
        }
    });
</script>


<!--  The Output Node  -->
<script type="text/html" data-template-name="udp out">
    <div class="form-row">
        <label for="node-input-port"><i class="fa fa-envelope"></i> <span data-i18n="udp.label.send"></span></label>
        <select id="node-input-multicast" style="width:40%">
          <option value="false" data-i18n="udp.udpmsg"></option>
          <option value="broad" data-i18n="udp.bcmsg"></option>
          <option value="multi" data-i18n="udp.mcmsg"></option>
        </select>
        <span data-i18n="udp.label.toport"></span> <input type="text" id="node-input-port" style="width:70px">
    </div>
    <div class="form-row node-input-addr">
        <label for="node-input-addr" id="node-input-addr-label"><i class="fa fa-list"></i> <span data-i18n="udp.label.address"></span></label>
        <input type="text" id="node-input-addr" data-i18n="[placeholder]udp.placeholder.address" style="width:50%;">
        <select id="node-input-ipv" style="width:70px">
          <option value="udp4">ipv4</option>
          <option value="udp6">ipv6</option>
        </select>
    </div>
    <div class="form-row node-input-iface">
        <label for="node-input-iface"><i class="fa fa-random"></i> <span data-i18n="udp.label.interface"></span></label>
        <input type="text" id="node-input-iface" data-i18n="[placeholder]udp.placeholder.interface">
    </div>
    <div class="form-row">
        <label for="node-input-outport-type">&nbsp;</label>
        <select id="node-input-outport-type">
          <option id="node-input-outport-type-random" value="random" data-i18n="udp.bind.random"></option>
          <option value="fixed" data-i18n="udp.bind.local"></option>
        </select>
        <input type="text" id="node-input-outport" style="width:70px;">
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-base64" style="display:inline-block; width:auto; vertical-align:top;">
        <label for="node-input-base64" style="width:70%;"><span data-i18n="udp.label.decode-base64"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips"><span data-i18n="[html]udp.tip.out"></span></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('udp out',{
        category: 'network',
        color:"Silver",
        defaults: {
            name: {value:""},
            addr: {value:""},
            iface: {value:""},
            port: {value:""},
            ipv: {value:"udp4"},
            outport: {value:""},
            base64: {value:false,required:true},
            multicast: {value:"false"}
        },
        inputs:1,
        outputs:0,
        icon: "bridge-dash.svg",
        align: "right",
        label: function() {
            return this.name||"udp "+(this.addr+":"+this.port);
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var addresslabel = this._("udp.label.address");
            var addressph = this._("udp.placeholder.address");
            var grouplabel = this._("udp.label.group");
            var bindrandom = this._("udp.bind.random");
            var bindtarget = this._("udp.bind.target");

            var type = this.outport===""?"random":"fixed";
            $("#node-input-outport-type").val(type);

            $("#node-input-outport-type").on("change", function() {
                var type = $(this).val();
                if (type == "random") {
                    $("#node-input-outport").val("").hide();
                } else {
                    $("#node-input-outport").show();
                }
            });
            $("#node-input-outport-type").change();

            $("#node-input-multicast").on("change", function() {
                var id = $("#node-input-multicast").val();
                if (id === "multi") {
                    $(".node-input-iface").show();
                    $("#node-input-addr-label").html('<i class="fa fa-list"></i> ' + grouplabel);
                    $("#node-input-addr")[0].placeholder = '225.0.18.83';
                }
                else if (id === "broad") {
                    $(".node-input-iface").hide();
                    $("#node-input-addr-label").html('<i class="fa fa-list"></i> ' + addresslabel);
                    $("#node-input-addr")[0].placeholder = '255.255.255.255';
                }
                else {
                    $(".node-input-iface").hide();
                    $("#node-input-addr-label").html('<i class="fa fa-list"></i> ' + addresslabel);
                    $("#node-input-addr")[0].placeholder = addressph;
                }
                var type = $(this).val();
                if (type == "false") {
                    $("#node-input-outport-type-random").html(bindrandom);
                } else {
                    $("#node-input-outport-type-random").html(bindtarget);
                }
            });
            $("#node-input-multicast").change();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="udp in">
  <p>Um n de entrada UDP, que produz um <code>msg.payload</code> contendo um
    armazenamento temporrio, cadeia de caracteres ou cadeia de caracteres codificada em base64. Suporta multidifuso.</p>
    <p>tambm fornece <code>msg.ip</code> e <code>msg.port</code> definidos para o
    endereo IP e porta de onde a mensagem foi recebida.</p>
    <p><b>Nota:</b> Em alguns sistemas, voc pode precisar de acesso root ou administrador para usar
    portas abaixo de 1024 e/ou transmitir globalmente.</p>
</script>

<script type="text/html" data-help-name="udp out">
  <p>Este n envia <code>msg.payload</code> para o host e porta UDP designados. Suporta multidifuso.</p>
  <p>Voc tambm pode usar <code>msg.ip</code> e <code>msg.port</code> para definir os valores de destino, mas os valores configurados estaticamente tm precedncia.</p>
  <p>Se voc selecionar transmistir globalmente, defina o endereo para o endereo IP de transmisso global local ou tente 255.255.255.255, que  o endereo de transmisso global padro.</p>
  <p><b>Nota:</b> Em alguns sistemas, voc pode precisar ser root para usar portas abaixo de 1024 e/ou transmitir globalmente.</p>
</script>

</div><div><!-- --- [red-module:node-red/CSV] --- -->

<script type="text/html" data-template-name="csv">
    <div class="form-row">
        <label for="node-input-temp"><i class="fa fa-list"></i> <span data-i18n="csv.label.columns"></span></label>
        <input type="text" id="node-input-temp" data-i18n="[placeholder]csv.placeholder.columns">
    </div>
    <div class="form-row">
        <label for="node-input-select-sep"><i class="fa fa-text-width"></i> <span data-i18n="csv.label.separator"></span></label>
            <select style="width:150px" id="node-input-select-sep">
                <option value="," data-i18n="csv.separator.comma"></option>
                <option value="\t" data-i18n="csv.separator.tab"></option>
                <option value=" " data-i18n="csv.separator.space"></option>
                <option value=";" data-i18n="csv.separator.semicolon"></option>
                <option value=":" data-i18n="csv.separator.colon"></option>
                <option value="#" data-i18n="csv.separator.hashtag"></option>
                <option value="" data-i18n="csv.separator.other"></option>
           </select>
           <input style="width:40px;" type="text" id="node-input-sep" pattern=".">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <hr align="middle"/>
    <div class="form-row">
        <label style="width:100%;"><span data-i18n="csv.label.c2o"></span></label>
    </div>
    <div class="form-row" style="padding-left:20px;">
        <label><i class="fa fa-sign-in"></i> <span data-i18n="csv.label.input"></span></label>
        <span data-i18n="csv.label.skip-s"></span>&nbsp;<input type="text" id="node-input-skip" style="width:40px; height:25px;"/>&nbsp;<span data-i18n="csv.label.skip-e"></span><br/>
        <label>&nbsp;</label>
        <input style="width:20px; vertical-align:baseline; margin-right:5px;" type="checkbox" id="node-input-hdrin"><label style="width:auto; margin-top:7px;" for="node-input-hdrin"><span data-i18n="csv.label.firstrow"></span></label><br/>
        <label>&nbsp;</label>
        <input style="width:20px; vertical-align:baseline; margin-right:5px;" type="checkbox" id="node-input-strings"><label style="width:auto; margin-top:7px;" for="node-input-strings"><span data-i18n="csv.label.usestrings"></span></label><br/>
        <label>&nbsp;</label>
        <input style="width:20px; vertical-align:baseline; margin-right:5px;" type="checkbox" id="node-input-include_empty_strings"><label style="width:auto; margin-top:7px;" for="node-input-include_empty_strings"><span data-i18n="csv.label.include_empty_strings"></span></label><br/>
        <label>&nbsp;</label>
        <input style="width:20px; vertical-align:baseline; margin-right:5px;" type="checkbox" id="node-input-include_null_values"><label style="width:auto; margin-top:7px;" for="node-input-include_null_values"><span data-i18n="csv.label.include_null_values"></span></label><br/>
    </div>
    <div class="form-row" style="padding-left:20px;">
        <label><i class="fa fa-sign-out"></i> <span data-i18n="csv.label.output"></span></label>
        <select type="text" id="node-input-multi" style="width:250px;">
            <option value="one" data-i18n="csv.output.row"></option>
            <option value="mult" data-i18n="csv.output.array"></option>
        </select>
    </div>
    <div class="form-row" style="margin-top:20px">
        <label style="width:100%;"><span data-i18n="csv.label.o2c"></span></label>
    </div>
    <div class="form-row" style="padding-left:20px;">
        <label><i class="fa fa-sign-out"></i> <span data-i18n="csv.label.output"></span></label>
        <!-- <input style="width:20px; vertical-align:top; margin-right:5px;" type="checkbox" id="node-input-hdrout"><label style="width:auto;" for="node-input-hdrout"><span data-i18n="csv.label.includerow"></span></span> -->
        <select style="width:60%" id="node-input-hdrout">
            <option value="none" data-i18n="csv.hdrout.none"></option>
            <option value="all" data-i18n="csv.hdrout.all"></option>
            <option value="once" data-i18n="csv.hdrout.once"></option>
        </select>
    </div>
    <div class="form-row" style="padding-left:20px;">
        <label></label>
        <label style="width:auto; margin-right:10px;" for="node-input-ret"><span data-i18n="csv.label.newline"></span></label>
        <select style="width:150px;" id="node-input-ret">
            <option value='\n' data-i18n="csv.newline.linux"></option>
            <option value='\r' data-i18n="csv.newline.mac"></option>
            <option value='\r\n' data-i18n="csv.newline.windows"></option>
       </select>
    </div>
</script>


<script type="text/javascript">
    RED.nodes.registerType('csv',{
        category: 'parser',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            sep: {
                value:',', required:true,
                label:RED._("node-red:csv.label.separator"),
                validate:RED.validators.regex(/^.{1,2}$/)},
            //quo: {value:'"',required:true},
            hdrin: {value:""},
            hdrout: {value:"none"},
            multi: {value:"one",required:true},
            ret: {value:'\\n'},
            temp: {value:""},
            skip: {value:"0"},
            strings: {value:true},
            include_empty_strings: {value:""},
            include_null_values: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "parser-csv.svg",
        label: function() {
            return this.name||"csv";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.hdrout === false) { this.hdrout = "none"; $("#node-input-hdrout").val("none"); }
            if (this.hdrout === true) { this.hdrout = "all"; $("#node-input-hdrout").val("all");}
            if (this.strings === undefined) { this.strings = true; $("#node-input-strings").prop('checked', true); }
            if (this.skip === undefined) { this.skip = 0; $("#node-input-skip").val("0");}
            $("#node-input-skip").spinner({ min:0 });
            if (this.sep == "," || this.sep == "\\t" || this.sep == ";" || this.sep == ":" || this.sep == " " || this.sep == "#") {
                $("#node-input-select-sep").val(this.sep);
                $("#node-input-sep").hide();
            } else {
                $("#node-input-select-sep").val("");
                $("#node-input-sep").val(this.sep);
                $("#node-input-sep").show();
            }
            $("#node-input-select-sep").on("change", function() {
                var v = $("#node-input-select-sep").val();
                $("#node-input-sep").val(v);
                if (v == "") {
                    $("#node-input-sep").val("");
                    $("#node-input-sep").show().focus();
                } else {
                    $("#node-input-sep").hide();
                }
            });
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="csv">
    <p>Converte entre uma cadeia de caracteres formatada em CSV e sua representao de objeto JavaScript, em qualquer direo.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt>carga til <span class="property-type"> objeto | matriz | cadeia de caracteres</span></dt>
        <dd>Um objeto JavaScript, matriz ou cadeia de caracteres CSV.</dd>
    </dl>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>carga til <span class="property-type"> objeto | matriz | cadeia de caractere </span></dt>
        <dd>
        <ul>
            <li>Se a entrada for uma cadeia de caracteres, tenta analis-la sintaticamente como CSV e cria um objeto JavaScript de pares chave/valor para cada linha. O n enviar ento uma mensagem para cada linha, ou uma nica mensagem contendo uma matriz de objetos.</li>
            <li>Se a entrada for um objeto JavaScript, ela tenta construir uma cadeia de caracteres CSV.</li>
            <li>Se a entrada for uma matriz de valores simples, ela cria uma cadeia de caracteres CSV de linha nica.</li>
            <li>Se a entrada for uma matriz de matrizes ou de objetos, uma cadeia de caracteres CSV de vrias linhas  criada.</li>
        </ul>
        </dd>
    </dl>
    <h3>Detalhes</h3>
    <p>O modelo de coluna pode conter uma lista ordenada de nomes de coluna. Ao converter CSV em um objeto, os nomes das colunas
    sero usados como os nomes das propriedades. Como alternativa, os nomes das colunas podem ser obtidos da primeira linha do CSV.</p>
    <p>Ao converter para CSV, o modelo de colunas  usado para identificar quais propriedades extrair do objeto e em que ordem.</p>
    <p>Se o modelo de colunas estiver em branco, voc pode usar uma lista de propriedades simples separada por vrgulas fornecida em <code>msg.columns</code> para determinar o que extrair e em que ordem. Se nenhum estiver presente, todas as propriedades do objeto so exibidas no pedido
    em que as propriedades so encontradas na primeira linha.</p>
    <p>Se a entrada for uma matriz, o modelo de colunas ser usado apenas para gerar opcionalmente uma linha de ttulos de coluna.</p>
    <p>Se a opo 'analisar valores numricos' estiver marcada, os valores numricos da cadeia de caracteres sero retornados como nmeros, ou seja, valor mdio '1, '1.5', 2'.</p>
    <p>Se a opo 'incluir strings vazias' estiver marcada, strings vazias sero retornadas no resultado, ou seja, valor mdio '"1","", 3'.</p>
    <p>Se a opo 'incluir valores nulos' estiver marcada, os valores nulos sero retornados no resultado, ou seja, valor mdio '"1",,3'.</p>
    <p>O n pode aceitar uma entrada de vrias partes, desde que a propriedade <code>partes</code> seja definida corretamente, por exemplo, de um n de entrada de arquivo ou n de diviso.</p>
    <p>Se forem enviadas vrias mensagens de sada, estas tero suas propriedades <code>partes</code> definidas e formaro uma sequncia de mensagens completa.</p>
    <p><b>Nota:</b> o modelo de coluna deve ser separado por vrgulas - mesmo se um separador diferente for escolhido para os dados.</p>
</script>

</div><div><!-- --- [red-module:node-red/HTML] --- -->

<script type="text/html" data-template-name="html">
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="common.label.property"></span></label>
        <input type="text" id="node-input-property" style="width:70%">
    </div>
    <div class="form-row">
        <label for="node-input-tag"><i class="fa fa-filter"></i> <span data-i18n="html.label.select"></span></label>
        <input type="text" id="node-input-tag" placeholder="h1">
    </div>
    <div class="form-row">
        <label for="node-input-ret"><i class="fa fa-sign-out"></i> <span data-i18n="html.label.output"></span></label>
        <select id="node-input-ret" style="width:70%">
            <option value="html" data-i18n="html.output.html"></option>
            <option value="text" data-i18n="html.output.text"></option>
            <option value="attr" data-i18n="html.output.attr"></option>
            <!-- <option value="val">return the value from a form element</option> -->
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-as">&nbsp;</label>
        <select id="node-input-as" style="width:70%">
            <option value="single" data-i18n="html.format.single"></option>
            <option value="multi" data-i18n="html.format.multi"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-outproperty">&nbsp;</label>
        <span data-i18n="html.label.in" style="padding-left:8px; padding-right:2px; vertical-align:-1px;"></span> <input type="text" id="node-input-outproperty" style="width:64%">
    </div>
    <br/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" style="width:70%" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('html',{
        category: 'parser',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            property: {value:"payload"},
            outproperty: {value:"payload"},
            tag: {value:""},
            ret: {value:"html"},
            as: {value:"single"}
        },
        inputs:1,
        outputs:1,
        icon: "parser-html.svg",
        label: function() {
            return this.name||this.tag||"html";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-input-property").typedInput({default:'msg',types:['msg']});
            $("#node-input-outproperty").typedInput({default:'msg',types:['msg']});
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="html">
    <p>Extrai elementos de um documento html mantido em <code>msg.payload</code> usando um seletor CSS.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
    <dt>carga til<span class="property-type">cadeia de caracteres</span></dt>
    <dd>a cadeia de caracteres html da qual extrair os elementos.</dd>
    <dt class="optional">selecione<span class="property-type"> cadeia de caracteres</span></dt>
    <dd>se no for configurado no painel de edio, o seletor pode ser definido como uma propriedade de msg.</dd>
    </dl>
    <h3>Sada</h3>
    <dl class="message-properties">
        <dt>carga til<span class="property-type"> matriz | cadeia de caracteres</span></dt>
        <dd>o resultado pode ser ou uma nica mensagem com uma carga til contendo uma matriz dos elementos correspondentes ou vrias
           mensagens em que cada uma contm um elemento correspondente. Se vrias mensagens forem enviadas; estas tambm tero <code>partes</code> ativadas.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Este n suporta uma combinao de seletores CSS e jQuery. Veja o
    <a href="https://github.com/fb55/CSSselect#user-content-supported-selectors" target="_blank">documentao css-select</a> para mais informaes
    na sintaxe suportada.</p>
</script>

</div><div><!-- --- [red-module:node-red/JSON] --- -->

<script type="text/html" data-template-name="json">
    <div class="form-row">
        <label for="node-input-action"><i class="fa fa-dot-circle-o"></i> <span data-i18n="json.label.action"></span></label>
        <select style="width:70%" id="node-input-action">
            <option value=""    data-i18n="json.label.actions.toggle"></option>
            <option value="str" data-i18n="json.label.actions.str"></option>
            <option value="obj" data-i18n="json.label.actions.obj"></option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="json.label.property"></span></label>
        <input type="text" id="node-input-property" style="width:70%;"/>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <hr align="middle"/>
    <div class="form-row node-json-to-json-options">
        <label style="width:100%;"><span data-i18n="json.label.o2j"></span></label>
    </div>
    <div class="form-row node-json-to-json-options" style="padding-left: 20px;">
        <input style="width:20px; vertical-align:top; margin-right: 5px;" type="checkbox" id="node-input-pretty"><label style="width: auto;" for="node-input-pretty" data-i18n="json.label.pretty"></label>
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('json',{
        category: 'parser',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            property: {value:"payload",required:true,
                       label:RED._("node-red:json.label.property")},
            action: {value:""},
            pretty: {value:false}
        },
        inputs:1,
        outputs:1,
        icon: "parser-json.svg",
        label: function() {
            return this.name||"json";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.property === undefined) {
                $("#node-input-property").val("payload");
            }
            $("#node-input-property").typedInput({default:'msg',types:['msg']});
            $("#node-input-action").on("change", function() {
                if (this.value === "" || this.value === "str") {
                    $(".node-json-to-json-options").show();
                } else {
                    $(".node-json-to-json-options").hide();
                }
            });
            $("#node-input-action").change();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="json">
    <p>Converte entre uma cadeia de caracteres JSON e sua representao de objeto JavaScript, em qualquer direo.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt>carga til<span class="property-type">objeto| cadeia de caracteres</span></dt>
        <dd>Um objeto JavaScript ou cadeia de caracteres JSON.</dd>
        <dt>esquema<span class="property-type">objeto</span></dt>
        <dd>Um objeto de esquema JSON opcional para validar a carga til.
        A propriedade ser excluda antes que a <code>msg</code> seja enviada para o prximo n.</dd>
    </dl>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>carga til<span class="property-type">objeto | cadeia de caracteres</span></dt>
        <dd>
            <ul>
                <li>Se a entrada for uma cadeia de caracteres JSON, ela tentar analis-la sintaticamente como um objeto JavaScript.</li>
                <li>Se a entrada for um objeto JavaScript, ela cria uma cadeia de caracteres JSON. A cadeia de caracteres pode ser opcionalmente bem formatada.</li>
            </ul>
        </dd>
        <dt>schemaError<span class="property-type">matriz</span></dt>
        <dd>Se a validao do esquema JSON falhar, o n de captura ter uma propriedade <code>schemaError</code>
            contendo uma srie de erros.</dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Por padro, o n opera em <code>msg.payload</code>, mas pode ser configurado
       para converter qualquer propriedade de mensagem.</p>
    <p>O n tambm pode ser configurado para garantir uma codificao especfica em vez de alternar
       entre os dois. Isso pode ser usado, por exemplo, com o n de entrada <code>HTTP</code>
       para garantir que a carga til seja um objeto analisadosintticamente, mesmo se uma solicitao de entrada
       no definir seu tipo de contedo corretamente para o n de entrada HTTP para fazer a converso.</p>
    <p>Se o n estiver configurado para garantir que a propriedade seja codificada como uma cadeia de caracteres e
       que receba a cadeia de caracteres, nenhuma outra verificao ser feita na propriedade. No ser 
       verificado se a cadeia de caracteres  um JSON vlido nem ser reformatada se a opo de formatar
       estive selecionada.</p>
    <p> Para obter mais detalhes sobre o esquema JSON, voc pode consultar a especificao
    <a href="http://json-schema.org/latest/json-schema-validation.html"> aqui</a>.</p>
</script>

</div><div><!-- --- [red-module:node-red/XML] --- -->

<script type="text/html" data-template-name="xml">
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="common.label.property"></span></label>
        <input type="text" id="node-input-property" style="width:70%;"/>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <hr align="middle"/>
    <div class="form-row">
        <label style="width:100%;"><span data-i18n="xml.label.x2o"></span></label>
    </div>
    <div class="form-row" style="padding-left: 20px;">
        <label style="width:250px;" for="node-input-attr" data-i18n="xml.label.represent"></label> <input type="text" id="node-input-attr" style="text-align:center; width:40px" placeholder="$">
    </div>
    <div class="form-row" style="padding-left: 20px;">
        <label style="width:250px;" for="node-input-chr" data-i18n="xml.label.prefix"></label> <input type="text" id="node-input-chr" style="text-align:center; width:40px" placeholder="_">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('xml',{
        category: 'parser',
        color:"#DEBD5C",
        defaults: {
            name: {value:""},
            property: {value:"payload",required:true,
                       label:RED._("node-red:common.label.property")},
            attr: {value:""},
            chr: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "parser-xml.svg",
        label: function() {
            return this.name||"xml";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.property === undefined) {
                $("#node-input-property").val("payload");
            }
            $("#node-input-property").typedInput({default:'msg',types:['msg']});
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="xml">
  <p>Converte entre uma cadeia de caracteres XML e sua representao de objeto JavaScript, em qualquer direo.</p>
  <h3>Entradas</h3>
  <dl class="message-properties">
      <dt>carga til<span class="property-type">objeto | cadeia de caracteres</span></dt>
      <dd>Um objeto JavaScript ou cadeia de caracteres XML.</dd>
      <dt class="optional">opes<span class="property-type">objeto</span></dt>
      <dd>Esta propriedade opcional pode ser usada para passar qualquer uma das opes suportadas pelo biblioteca subjacente usada para converter de e para XML. Consulte <a href="https://github.com/Leonidas-from-XIV/node-xml2js/blob/master/README.md#options" target="_blank">os documentos xml2js</a>
          para obter maiores informaes.</dd>
  </dl>
  <h3>Sadas</h3>
  <dl class="message-properties">
      <dt>carga til<span class="property-type">objeto | cadeia de caracteres </span></dt>
      <dd>
          <ul>
              <li>Se a entrada for uma cadeia de caracteres, tenta-se analis-la sintticamente como XML e criar um objeto JavaScript.</li>
              <li>Se a entrada for um objeto JavaScript,tenta-se construir uma cadeia de caracteres XML.</li>
          </ul>
      </dd>
  </dl>
  <h3>Detalhes</h3>
  <p>Ao converter entre XML e um objeto, quaisquer atributos XML so adicionados como uma propriedade chamada <code>$</code> por padro.
  Qualquer contedo de texto  adicionado como uma propriedade chamada <code>_</code>. Essas propriedades dos nomes podem ser especificadas na configurao do n.</p>
  <p>Por exemplo, o seguinte XML ser convertido conforme mostrado:</p>
  <pre>&lt;p class="tag"&gt;Hello World&lt;/p&gt;</pre>
    <pre>{
  "p": {
    "$": {
      "class": "tag"
    },
    "_": "Hello World"
  }
}</pre>
</script>

</div><div><!-- --- [red-module:node-red/YAML] --- -->

<script type="text/html" data-template-name="yaml">
    <div class="form-row">
        <label for="node-input-property"><i class="fa fa-ellipsis-h"></i> <span data-i18n="common.label.property"></span></label>
        <input type="text" id="node-input-property" style="width:70%;"/>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('yaml',{
        category: 'parser',
        color:"#DEBD5C",
        defaults: {
            property: {value:"payload",required:true,
                       label:RED._("node-red:common.label.property")},
            name: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "parser-yaml.svg",
        label: function() {
            return this.name||"yaml";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            if (this.property === undefined) {
                $("#node-input-property").val("payload");
            }
            $("#node-input-property").typedInput({default:'msg',types:['msg']});
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="yaml">
    <p>Converte entre uma cadeia de caracteres formatada em YAML e sua representao de objeto JavaScript, em qualquer direo.</p>
     <h3>Entradas</h3>
     <dl class="message-properties">
         <dt>carga til<span class="property-type">objeto | cadeia de caracteres</span></dt>
         <dd>Um objeto JavaScript ou cadeia de caracteres YAML.</dd>
     </dl>
     <h3>Sadas</h3>
     <dl class="message-properties">
         <dt>carga til<span class="property-type"> objeto | cadeia de caracteres</span></dt>
         <dd>
             <ul>
                 <li>Se a entrada for uma cadeia de caracteres YAML, tentar-se-a analis-la sintticamente como um objeto JavaScript.</li>
                 <li>Se a entrada for um objeto JavaScript, cria-se uma cadeia de caracteres YAML.</li>
             </ul>
         </dd>
     </dl>
</script>

</div><div><!-- --- [red-module:node-red/split] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="split">
    <div class="form-row"><span data-i18n="[html]split.intro"></span></div>
    <div class="form-row"><span data-i18n="[html]split.strBuff"></span></div>
    <div class="form-row">
        <label for="node-input-splt" style="padding-left:10px; margin-right:-10px;" data-i18n="split.splitUsing"></label>
        <input type="text" id="node-input-splt" style="width:70%">
        <input type="hidden" id="node-input-spltType">
    </div>
    <div class="form-row">
        <input type="checkbox" id="node-input-stream" style="margin-left:10px; vertical-align:top; width:auto;">
        <label for="node-input-stream" style="width:auto;" data-i18n="split.stream"></label>
    </div>
    <div class="form-row"><span data-i18n="[html]split.array"></span></div>
    <div class="form-row">
        <label for="node-input-arraySplt" style="padding-left:10px; margin-right:-10px;" data-i18n="split.splitUsing"></label>
        <input type="text" id="node-input-arraySplt" style="width:70%">
        <input type="hidden" id="node-input-arraySpltType">
    </div>
    <div class="form-row"><span data-i18n="[html]split.object"></span></div>
    <div class="form-row" style="padding-left: 10px"><span data-i18n="[html]split.objectSend"></span></div>
    <div class="form-row">
        <input type="checkbox" id="node-input-addname-cb" style="margin-left:10px; vertical-align:baseline; width:auto;">
        <label for="node-input-addname-cb" style="width:auto;" data-i18n="split.addname"></label>
        <input type="text" id="node-input-addname" style="width:70%">
    </div>
    <hr/>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('split',{
        category: 'sequence',
        color:"#E2D96E",
        defaults: {
            name: {value:""},
            splt: {value:"\\n"},
            spltType: {value:"str"},
            arraySplt: {value:1},
            arraySpltType: {value:"len"},
            stream: {value:false},
            addname: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "split.svg",
        label: function() {
            return this.name||this._("split.split");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            $("#node-input-splt").typedInput({
                default: 'str',
                typeField: $("#node-input-spltType"),
                types:[
                    'str',
                    'bin',
                    {value:"len", label:RED._("node-red:split.splitLength"),validate:/^\d+$/}
                ]
            });
            if (this.arraySplt === undefined) {
                $("#node-input-arraySplt").val(1);
            }
            $("#node-input-arraySplt").typedInput({
                default: 'len',
                typeField: $("#node-input-arraySpltType"),
                types:[
                    {value:"len", label:RED._("node-red:split.splitLength"),validate:/^\d+$/}
                ]
            });
            $("#node-input-addname").typedInput({
                typeField: $("#node-input-fnameType"),
                types:['msg']
            });

            $("#node-input-addname-cb").on("change", function() {
                $("#node-input-addname").prop('disabled',!this.checked);
            })
            if (this.addname === "") {
                $("#node-input-addname-cb").prop('checked',false);
                $("#node-input-addname").val('topic');
            } else {
                $("#node-input-addname-cb").prop('checked',true);
            }
            $("#node-input-addname-cb").change();
        },
        oneditsave: function() {
            if (!$("#node-input-addname-cb").prop('checked')) {
                $("#node-input-addname").val('');
            }
        }
    });
</script>


<script type="text/html" data-template-name="join">
    <div class="form-row">
        <label data-i18n="join.mode.mode"></label>
        <select id="node-input-mode" style="width:200px;">
            <option value="auto" data-i18n="join.mode.auto"></option>
            <option value="custom" data-i18n="join.mode.custom"></option>
            <option value="reduce" data-i18n="join.mode.reduce"></option>
        </select>
    </div>
    <div class="node-row-custom">
        <div class="form-row node-row-property">
            <label data-i18n="join.combine"> </label>
            <input type="text" id="node-input-property" style="width:70%;">
            <input type="hidden" id="node-input-propertyType">
        </div>
        <div class="form-row">
            <label data-i18n="join.create"></label>
            <select id="node-input-build" style="width:70%;">
                <option value="string" data-i18n="join.type.string"></option>
                <option value="buffer" data-i18n="join.type.buffer"></option>
                <option value="array" data-i18n="join.type.array"></option>
                <option value="object" data-i18n="join.type.object"></option>
                <option value="merged" data-i18n="join.type.merged"></option>
            </select>
        </div>
        <div class="form-row node-row-key">
            <label style="vertical-align:top; margin-top:7px; width:auto; margin-right: 5px;" data-i18n="join.using"></label>
            <div style="display:inline-block">
                <input type="text" id="node-input-key" style="width:220px;"> <span data-i18n="join.key"></span>
            </div>
        </div>
        <div class="form-row node-row-joiner">
            <label for="node-input-joiner" data-i18n="join.joinedUsing"></label>
            <input type="text" id="node-input-joiner" style="width:70%">
            <input type="hidden" id="node-input-joinerType">
        </div>
        <div class="form-row node-row-trigger" id="trigger-row">
            <label style="width:auto;" data-i18n="join.send"></label>
            <ul>
                <li>
                    <label style="width:280px;" for="node-input-count" data-i18n="join.afterCount"></label> <input id="node-input-count" data-i18n="[placeholder]join.count" type="text" style="width:75px;">
                </li>
                <li class="node-row-accumulate" style="list-style-type:none;">
                    <input type="checkbox" id="node-input-accumulate" style="display:inline-block; width:20px; margin-left:20px; vertical-align:top;">  <label style="width: auto" for="node-input-accumulate" data-i18n="join.subsequent"></label>
                </li>
                <li>
                    <label style="width:280px;" for="node-input-timeout" data-i18n="join.afterTimeout"></label> <input id="node-input-timeout" data-i18n="[placeholder]join.seconds" type="text" style="width:75px;">
                </li>
                <li>
                    <label style="width:auto; padding-top:6px;" data-i18n="[html]join.complete"></label>
                </li>
            </ul>
        </div>
    </div>
    <div class="node-row-reduce">
        <div class="form-row">
            <label for="node-input-reduceExp" data-i18n="join.reduce.exp" style="margin-left:10px;"></label>
            <input type="text" id="node-input-reduceExp" data-i18n="[placeholder]join.reduce.exp-value" style="width:65%">
        </div>
        <div class="form-row">
            <label for="node-input-reduceInit" data-i18n="join.reduce.init" style="margin-left:10px;"></label>
            <input type="text" id="node-input-reduceInit" data-i18n="[placeholder]join.reduce.init" style="width:65%">
            <input type="hidden" id="node-input-reduceInitType">
        </div>
        <div class="form-row">
            <label for="node-input-reduceFixup" data-i18n="join.reduce.fixup" style="margin-left:10px;"></label>
            <input type="text" id="node-input-reduceFixup" data-i18n="[placeholder]join.reduce.exp-value" style="width:65%">
        </div>
        <div class="form-row">
            <label>&nbsp;</label>
            <input type="checkbox" id="node-input-reduceRight" style="display:inline-block; width:auto; vertical-align:top; margin-left:10px;">
            <label for="node-input-reduceRight" style="width:70%;" data-i18n="join.reduce.right" style="margin-left:10px;"/>
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
    <div class="form-tips form-tips-auto hide" data-i18n="[html]join.tip"></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('join',{
        category: 'sequence',
        color:"#E2D96E",
        defaults: {
            name: {value:""},
            mode: {value:"auto"},
            build: { value:"object"},
            property: {
                value:"payload",
                label: RED._("node-red:join.message-prop"),
                validate:RED.validators.typedInput("propertyType", false)
            },
            propertyType: { value:"msg"},
            key: {value:"topic"},
            joiner: { value:"\\n"},
            joinerType: { value:"str"},
            accumulate: { value:"false" },
            timeout: {value:""},
            count: {value:""},
            reduceRight: {value:false},
            reduceExp: {value:undefined},
            reduceInit: {value:undefined},
            reduceInitType: {value:undefined},
            reduceFixup: {value:undefined}
        },
        inputs:1,
        outputs:1,
        icon: "join.svg",
        label: function() {
            var nam = this.name||this._("join.join");
            if (this.mode === "custom" && !isNaN(Number(this.count))) {
                nam += " "+this.count;
                if (this.accumulate === true) { nam+= "+"; }
            }
            return nam;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;

            $("#node-input-mode").on("change", function(e) {
                var val = $(this).val();
                $(".node-row-custom").toggle(val==='custom');
                $(".node-row-reduce").toggle(val==='reduce');
                $(".form-tips-auto").toggle((val==='auto') || (val==='reduce'));
                if (val === "auto") {
                    $("#node-input-accumulate").attr('checked', false);
                }
                else if (val === "custom") {
                    $("#node-input-build").change();
                }
                else if (val === "reduce") {
                    var jsonata_or_empty = {
                        value: "jsonata",
                        label: "expression",
                        icon: "red/images/typedInput/expr.svg",
                        validate: function(v) {
                            try{
                                if(v !== "") {
                                    jsonata(v);
                                }
                                return true;
                            }
                            catch(e){
                                return false;
                            }
                        },
                        expand:function() {
                            var that = this;
                            RED.editor.editExpression({
                                value: this.value().replace(/\t/g,"\n"),
                                complete: function(v) {
                                    that.value(v.replace(/\n/g,"\t"));
                                }
                            })
                        }
                    };
                    $("#node-input-reduceExp").typedInput({types:[jsonata_or_empty]});
                    $("#node-input-reduceInit").typedInput({
                        default: 'num',
                        types:['flow','global','str','num','bool','json','bin','date','jsonata','env'],
                        typeField: $("#node-input-reduceInitType")
                    });
                    $("#node-input-reduceFixup").typedInput({types:[jsonata_or_empty]});
                }
            });

            $("#node-input-build").on("change", function(e) {
                var val = $(this).val();
                $(".node-row-key").toggle(val==='object');
                $(".node-row-accumulate").toggle(val==='object' || val==='merged');
                $(".node-row-joiner").toggle(val==='string' || val==='buffer');
                $(".node-row-trigger").toggle(val!=='auto');
                if (val === 'string' || val==='buffer') {
                    $("#node-input-property").typedInput('types',['msg']);
                    $("#node-input-joiner").typedInput("show");
                } else {
                    $("#node-input-property").typedInput('types', ['msg', {
                        value: "full",
                        label: RED._("node-red:join.completeMessage"),
                        hasValue: false
                    }]);
                }
            });

            $("#node-input-joiner").typedInput({
                default: 'str',
                typeField: $("#node-input-joinerType"),
                types:['str', 'bin']
            });

            $("#node-input-property").typedInput({
                typeField: $("#node-input-propertyType"),
                types: ['msg', {
                    value: "full",
                    label: RED._("node-red:join.completeMessage"),
                    hasValue: false
                }]
            });

            $("#node-input-key").typedInput({
                types:['msg']
            });

            $("#node-input-build").change();
            $("#node-input-mode").change();
        },
        oneditsave: function() {
            var build = $("#node-input-build").val();
            if (build !== 'object' && build !== 'merged') {
                $("#node-input-accumulate").prop("checked",false);
            }
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="split">
    <p>Divide uma mensagem em uma sequncia de mensagens.</p>

    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt>carga til <span class="property-type"> objeto | cadeia de caracteres | matriz | armazenamento temporrio </span></dt>
        <dd> O comportamento do n  determinado pelo tipo de<code>msg.payload</code>:
            <ul>
                <li><b>cadeia de caracteres</b>/<b>armazenamento temporrio</b> - a mensagem  dividida usando o caractere especificado (padro:<code>\n</code>), sequncia de armazenamento temporrio ou em comprimentos fixos.</li>
                <li><b>matriz</b> - a mensagem  dividida em elementos de matriz individuais ou matrizes de comprimento fixo.</li>
                <li><b>objeto</b> - uma mensagem  enviada para cada par chave/valor do objeto.</li>
            </ul>
        </dd>
    </dl>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>partes <span class="property-type"> objeto </span></dt>
        <dd>Esta propriedade contm informaes sobre como a mensagem foi dividida
        a partir da mensagem original. Se passado para o n de <b>juno</b>, a sequncia pode ser
        remontada em uma nica mensagem. A propriedade possui as seguintes propriedades:
        <ul>
            <li><code>id</code> - um identificador para o grupo de mensagens</li>
            <li><code>index</code> - a posio dentro do grupo</li>
            <li><code>count</code> - se conhecido, o nmero total de mensagens no grupo. Consulte 'modo de transmisso' abaixo.</li>
            <li><code>type</code> - o tipo de mensagem - cadeia de caracteres / matriz / objeto / armazenamento temporrio</li>
            <li><code>ch</code> - para uma cadeia de caracteres ou armazenamento temporrio, os dados usados para dividir a mensagem como cadeia de caracteres ou uma matriz de bytes</li>
            <li><code>key</code> - para um objeto, a chave da propriedade a partir da qual esta mensagem foi criada. O n pode ser configurado para tambm copiar este valor para outras propriedades de mensagem, como<code>msg.topic</code>.</li>
            <li><code>len</code> - o comprimento de cada mensagem quando dividida usando um valor de comprimento fixo</li>
        </ul>
        </dd>
    </dl>
    <h3>Detalhes</h3>
    <p>Este n facilita a criao de um fluxo que executa aes comuns em
    uma sequncia de mensagens, antes de, usando o n de <b>juno</b>, recombinar a
    seqncia em uma nica mensagem.</p>
    <p>Ele usa a propriedade<code>msg.parts</code> para rastrear as partes individuais
    de uma sequncia.</p>
    <h4>Modo de transmisso</h4>
    <p>O n tambm pode ser usado para criar um refluxo de transmisso de mensagens. Por exemplo, um
    dispositivo serial que envia comandos terminados em nova linha pode entregar uma nica mensagem
    com um comando parcial em seu final. No 'modo de trasminsso', este n ir dividir
    uma mensagem e enviar cada segmento completo. Se houver um segmento parcial no final,
    o n ir ret-lo e acrescent-lo  prxima mensagem que for recebida.
   </p>
    <p>Ao operar neste modo, o n no configurar a propriedade<code>msg.parts.count</code>
    , pois no sabe quantas mensagens esperar no fluxo. Logo, no pode ser usado com o n de <b>juno</b> em seu modo automtico.</p>
</script>

<script type="text/html" data-help-name="join">
    <p>Une sequncias de mensagens em uma nica mensagem.</p>
    <p>Existem trs modos disponveis:</p>
    <dl>
        <dt>automtico</dt>
        <dd> Quando emparelhado com o n de <b>diviso</b>, ir automaticamente juntar as mensagens para reverter a diviso que foi realizada.</dd>
        <dt>manual</dt>
        <dd> Junta as sequncias de mensagens de vrias maneiras.</dd>
        <dt>reduzir a sequncia</dt>
        <dd> Aplica uma expresso a todas as mensagens em uma sequncia para reduzi-la a uma nica mensagem.</dd>
    </dl>
    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt class="optional"> partes <span class="property-type"> objeto </span></dt>
        <dd>Para unir automaticamente uma sequncia de mensagens, todas devem ter
        esta propriedade ativida. O n de <b>diviso</b> gera esta propriedade, mas
        pode ser criada manualmente. Possui as seguintes propriedades:
        <ul>
            <li><code>id</code> - um identificador para o grupo de mensagens</li>
            <li><code>index</code> - a posio dentro do grupo</li>
            <li><code>contagem</code> - o nmero total de mensagens no grupo</li>
            <li><code>type</code> - o tipo de mensagem - cadeia de caracteres / matriz / objeto / armazenamento temporrio</li>
            <li><code>ch</code> - para uma cadeia de caracteres ou armazenamento temporrio, os dados usados para dividir a mensagem como cadeia de caracteres ou uma matriz de bytes</li>
            <li><code>chave</code> - para um objeto, a chave da propriedade a partir da qual esta mensagem foi criada</li>
            <li><code>len</code> - o comprimento de cada mensagem dividida usando um valor de comprimento fixo</li>
        </ul>
        </dd>
        <dt class="optional">completo</dt>
        <dd>Se definido, o n acrescentar a carga til e, em seguida, enviar a mensagem de sada em seu estado atual.
            Se voc no deseja anexar a carga til, exclua-a da mensagem.</dd>
            <dt class="optional">redefinir</dt>
         <dd>Se definido, o n limpar qualquer mensagem parcialmente completa e no a enviar.</dd>
         <dt class="optional">restartTimeout</dt>
         <dd>Se definido e o n tiver um tempo limite configurado, esse tempo limite ser reiniciado.</dd>
    </dl>
    <h3>Detalhes</h3>

    <h4>Modo automtico</h4> 
    <p>O modo automtico usa a propriedade<code>parts</code> de mensagens recebidas para
       determinar como a sequncia deve ser unida. Isso permite que ele automaticamente
       reverta a ao de um n <b>dividido</b>.

    <h4>Modo manual</h4>
    <p>Quando configurado para ingressar no modo manual, o n  capaz de unir sequncias
     de mensagens em vrios resultados diferentes:</p>
    <ul>
        <li>uma <b>cadeia de caracteres</b> ou <b>armazenamento temporrio</b> -  criada juntando-se a propriedade selecionada de cada mensagem com os caracteres de juno ou armazenamento temporrio especificados.</li>
        <li>uma <b>matriz</b> -  criada adicionando-se cada propriedade selecionada, ou mensagem inteira,  matriz de sada.</li>
        <li>um <b>objeto chave/valor</b> -  criado usando uma propriedade de cada mensagem para determinar sob qual chave
        o valor necessrio  armazenado.</li>
        <li>um <b>objeto mesclado</b> -  criado mesclando a propriedade de cada mensagem em um nico objeto.</li>
    </ul>
    <p>As outras propriedades da mensagem de sada so obtidas a partir da ltima mensagem recebida antes do resultado ser enviado.</p>
    <p>Uma <i>contagem</i> pode ser configurada para quantas mensagens devam ser recebidas antes de gerar a mensagem de sada.
    Para sadas de objetos, uma vez que essa contagem tenha sido atingida, o n pode ser configurado para enviar uma mensagem para cada mensagem subsequente
    recebida.</p>
    <p>Um <i>tempo limite</i> pode ser definido para acionar o envio da nova mensagem usando o que foi recebido at agora.</p>
    <p>Se uma mensagem for recebida com a propriedade <code>msg.complete</code> definida, a mensagem de sada ser finalizada e enviada.
    Este tempo limite pode ser reiniciado pelo envio de uma mensagem com a propriedade <code>msg.restartTimeout</code> definida.</p>
    <p>Se uma mensagem for recebida com a propriedade <code>msg.reset</code> definida, a mensagem parcialmente completa ser excluda e no enviada.
    Isso redefine qualquer contagem de peas.</p>

    <h4>Modo Reduzir Sequncia</h4>
    <p>Quando configurado para unir no modo de reduo, uma expresso  aplicada a cada
       mensagem em uma sequncia e o resultado acumulado para produzir uma nica mensagem.</p>

    <dl class="message-properties">
    <dt>Valor inicial</dt>
    <dd>O valor inicial do valor acumulado (<code>$A</code>).</dd>
    <dt>Reduzir a expresso</dt>
    <dd>Uma expresso JSONata que  chamada para cada mensagem na sequncia.
        O resultado  passado para a prxima chamada da expresso como o valor acumulado.
        Na expresso em questo, as seguintes variveis especiais podem ser usadas:
        <ul>
            <li><code>$A</code>: o valor acumulado,</li>
            <li><code>$I</code>: ndice da mensagem na sequncia,</li>
            <li><code>$N</code>: nmero de mensagens na sequncia.</li>
        </ul>
    </dd>
    <dt>Expresso de correo</dt>
    <dd>Uma expresso JSONata opcional que  aplicada depois que a expresso de reduo
        tiver sido aplicado a todas as mensagens na sequncia.
        Na expresso em questo, as seguintes variveis especiais podem ser usadas:
        <ul>
            <li><code>$A</code>: o valor acumulado,</li>
            <li><code>$N</code>: nmero de mensagens na sequncia.</li>
        </ul>
         </dd>
         <p>Por padro, a expresso de reduo  aplicada em ordem, desde a primeira
            at a ltima mensagem da sequncia. Opcionalmente pode ser aplicada em
            ordem inversa.</p>  
         <p>$N  o nmero de mensagens que chegam - mesmo que sejam idnticas.</p>
     </dl>
     <p><b>Exemplo:</b> as configuraes a seguir, dada uma sequncia de valores numricos,
        calcula o valor mdio:
         <ul>
             <li><b>Reduzir expresso</b>: <code>$A+payload</code></li>
             <li><b>Valor inicial</b>: <code>0</code></li>
             <li><b>Expresso de correo</b>: <code>$A/$N</code></li>
         </ul>
    </p>
    <h4>Armazenando mensagens</h4>
    <p>Este n armazenar temporariamente de forma interna as mensagens para ir trabalhando atravs das sequncias. 
        A configurao de tempo de execuo <code>nodeMessageBufferMaxLength</code> pode ser usada para limitar quantos ns de mensagens
        sero armazenados temporariamente.</p>
</script>

</div><div><!-- --- [red-module:node-red/sort] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="sort">

    <div class="form-row">
        <label for="node-input-target"><i class="fa fa-dot-circle-o"></i> <span data-i18n="sort.target"></span></label>
        <input type="text" id="node-input-target" style="width:70%;">
        <input type="hidden" id="node-input-targetType">
    </div>

    <div class="node-row-sort-msg-key">
        <div class="form-row">
            <label for="node-input-msgKey"><i class="fa fa-filter"></i> <span data-i18n="sort.key"></span></label>
            <input type="text" id="node-input-msgKey" style="width:70%;">
            <input type="hidden" id="node-input-msgKeyType">
        </div>
    </div>

    <div class="node-row-sort-seq-key">
        <div class="form-row">
            <label for="node-input-seqKey"><i class="fa fa-filter"></i> <span data-i18n="sort.key"></span></label>
            <input type="text" id="node-input-seqKey" style="width:70%;">
            <input type="hidden" id="node-input-seqKeyType">
        </div>
    </div>

    <div class="form-row">
        <label><i class="fa fa-random"></i>  <span data-i18n="sort.order"></span></label>
        <select id="node-input-order" style="width:200px;">
            <option value="ascending" data-i18n="sort.ascending"></option>
            <option value="descending" data-i18n="sort.descending"></option>
        </select>
    </div>

    <div class="form-row" id="node-as_num">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-as_num" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-as_num" style="width: 70%;" data-i18n="sort.as-number"></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('sort',{
        category: 'sequence',
        color:"#E2D96E",
        defaults: {
            name: { value:"" },
            order: { value:"ascending" },
            as_num: { value:false },
            target: { value:"payload" },
            targetType: { value:"msg" },
            msgKey: { value:"payload" },
            msgKeyType: { value:"elem" },
            seqKey: { value:"payload" },
            seqKeyType: { value:"msg" }
        },
        inputs:1,
        outputs:1,
        icon: "sort.svg",
        label: function() {
            return this.name||this._("sort.sort");
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            var seq = {
                value: "seq",
                label: RED._("node-red:sort.seq"),
                hasValue: false
            };
            var elem = {
                value: "elem",
                label: RED._("node-red:sort.elem"),
                hasValue: false
            };
            $("#node-input-target").typedInput({
                default:'msg',
                typeField: $("#node-input-targetType"),
                types:['msg', seq]
            });
            $("#node-input-msgKey").typedInput({
                default:'elem',
                typeField: $("#node-input-msgKeyType"),
                types:[elem, 'jsonata']
            });
            $("#node-input-seqKey").typedInput({
                default:'msg',
                typeField: $("#node-input-seqKeyType"),
                types:['msg', 'jsonata']
            });
            $("#node-input-target").on("change", function(e) {
                var val = $("#node-input-target").typedInput('type');
                $(".node-row-sort-msg-key").toggle(val === "msg");
                $(".node-row-sort-seq-key").toggle(val === "seq");
            });
            $("#node-input-target").change();
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="sort">
    <p>Uma funo que classifica a propriedade da mensagem ou uma sequncia de mensagens.</p>
    <p>Quando configurado para classificar a propriedade da mensagem, o n classifica os dados da matriz apontados pela propriedade da mensagem especificada.</p>
    <p>Quando configurado para classificar uma sequncia de mensagens, reordenar as mensagens.</p>
    <p>A ordem de classificao pode ser:</p>
    <ul>
        <li><b>ascendente</b>,</li>
        <li><b>decrescente</b>.</li>
    </ul>
    <p>Para nmeros, a ordem numrica pode ser especificada por uma caixa de seleo.</p>
    <p>A chave de classificao pode ser um valor de elemento ou expresso JSONata para classificar o valor da propriedade, ou propriedade da mensagem ou expresso JSONata para classificar uma sequncia de mensagem.</p>
    <p>Ao classificar uma sequncia de mensagens, o n de classificao depende das mensagens recebidas para ter <code>msg.parts</code> definido. O n dividido gera esta propriedade, mas pode ser criado manualmente. Possui as seguintes propriedades:</p>
    <p>
        <ul>
            <li><code>id </code> - um identificador para o grupo de mensagens</li>
            <li><code>index </code> - a posio dentro do grupo</li>
            <li><code>contagem </code> - o nmero total de mensagens no grupo</li>
        </ul>
   </p>
    <p><b>Nota:</b>  Este nodo internamente mantm mensagens para sua operao. Para evitar o uso inesperado da memria, o nmero mximo de mensagens mantidas pode ser especificado. O padro no tem limite do nmero de mensagens.
        <ul>
            Propriedade<li><code>nodeMessageBufferMaxLength</code>definida em <b>settings.js</b>.</li>
        </ul>
   </p>
</script>

</div><div><!-- --- [red-module:node-red/batch] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="batch">
    <div class="form-row">
        <label for="node-input-mode"><span data-i18n="batch.mode.label"></span></label>
        <select type="text" id="node-input-mode" style="width: 300px;">
            <option value="count" data-i18n="batch.mode.num-msgs"></option>
            <option value="interval" data-i18n="batch.mode.interval"></option>
            <option value="concat" data-i18n="batch.mode.concat"></option>
        </select>
    </div>

    <div class="node-row-msg-count">
        <div class="form-row node-row-count">
            <label style="margin-left: 10px; width: 175px;" for="node-input-count" data-i18n="batch.count.label"></label>
            <input type="text" id="node-input-count" style="width: 50px;">
        </div>
    </div>

    <div class="node-row-msg-overlap">
        <div class="form-row node-row-overlap">
            <label style="margin-left: 10px; width: 175px;" for="node-input-overlap" data-i18n="batch.count.overlap"></label>
            <input type="text" id="node-input-overlap" style="width: 50px;">
        </div>
    </div>

    <div class="node-row-msg-interval">
        <div class="form-row node-row-interval">
            <label style="margin-left: 10px; width: 175px;" for="node-input-interval"> <span data-i18n="batch.interval.label"></span></label>
            <input type="text" id="node-input-interval" style="width: 50px;">
            <span data-i18n="batch.interval.seconds"></span>
        </div>
        <div class="form-row">
            <input type="checkbox" id="node-input-allowEmptySequence" style="margin-left:20px; margin-right: 10px; vertical-align:top; width:auto;">
            <label for="node-input-allowEmptySequence" style="width:auto;" data-i18n="batch.interval.empty"></label>
        </div>
    </div>

    <div class="node-row-msg-concat">
        <div class="form-row">
            <label data-i18n="batch.concat.topics-label"></label>
            <div class="form-row node-input-topics-container-row">
                <ol id="node-input-topics-container"></ol>
            </div>
        </div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>

</script>

<script type="text/javascript">
    RED.nodes.registerType("batch",{
        category: "sequence",
        color:"#E2D96E",
        defaults: {
            name: {value:""},
            mode: {value:"count"},
            count: {
                value:10,
                validate:function(v, opt) {
                    if (RED.validators.number(v) && (v >= 1)) {
                        return true;
                    }
                    return RED._("node-red:batch.error.invalid-count");
                }
            },
            overlap: {
                value:0,
                validate:function(v, opt) {
                    if (RED.validators.number(v) && (v >= 0)) {
                        return true;
                    }
                    return RED._("node-red:batch.error.invalid-overlap");
                }
            },
            interval: {
                value:10,
                validate:function(v, opt) {
                    if (RED.validators.number(v) && (v >= 1)) {
                        return true;
                    }
                    return RED._("node-red:batch.error.invalid-interval");
                }
            },
            allowEmptySequence: {value:false},
            topics: {value:[{topic:""}]}
        },
        inputs:1,
        outputs:1,
        icon: "batch.svg",
        label: function() {
            var nam = this.name||this._("batch.batch");
            if (this.mode === "count" && !isNaN(Number(this.count))) {
                nam += " "+this.count;
            }
            if (this.mode === "interval" && !isNaN(Number(this.interval))) {
                nam += " "+this.interval+"s";
            }
            return nam;
        },
        labelStyle: function() {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function() {
            var node = this;
            var topic_str = node._("batch.concat.topic");

            function resizeTopics(topic) {
                var newWidth = topic.width();
                topic.find('.red-ui-typedInput')
                     .typedInput("width",newWidth-15);
            }

            $("#node-input-topics-container")
                .css('min-height','150px').css('min-width','430px')
                .editableList({
                    addItem: function(container, i, opt) {
                        if (!opt.hasOwnProperty('topic')) {
                            opt.topic = "";
                        }
                        var row = $('<div/>').appendTo(container);
                        var valueField = $('<input/>',{
                            class:"node-input-topic-value",
                            type:"text",
                            style:"margin-left: 5px;"
                        }).appendTo(row)
                        .typedInput({default:'str', types:['str']});
                        valueField.typedInput('value', opt.topic);
                        valueField.typedInput('type', 'str');
                        valueField.attr('placeholder', topic_str);
                        resizeTopics(container);
                    },
                    resizeItem: resizeTopics,
                    sortable: true,
                    removable: true
                });

            $("#node-input-count").spinner({min:1});
            $("#node-input-overlap").spinner({min:0});
            $("#node-input-interval").spinner({min:1});
            $("#node-input-mode").on("change", function(e) {
                var val = $(this).val();
                $(".node-row-msg-count").toggle(val==="count");
                $(".node-row-msg-overlap").toggle(val==="count");
                $(".node-row-msg-interval").toggle(val==="interval");
                $(".node-row-msg-concat").toggle(val==="concat");
                if (val==="concat") {
                    var topics = node.topics;
                    var container = $("#node-input-topics-container");
                    container.editableList('empty');
                    for (var i = 0; i < topics.length; i++) {
                        var topic = topics[i];
                        container.editableList('addItem', topic);
                    }
                }
            });
        },
        oneditsave: function() {
            var topics = $("#node-input-topics-container").editableList('items');
            var node = this;
            node.topics = [];
            topics.each(function(i) {
                var topicData = $(this).data('data');
                var topic = $(this);
                var vf = topic.find(".node-input-topic-value");
                var value = vf.typedInput('value');
                var type = vf.typedInput('type');
                var r = {topic:value};
                node.topics.push(r);
            });
        },
        oneditresize: function(size) {
            var rows = $("#dialog-form>div:not(.node-input-topics-container-row)");
            var height = size.height;
            for (var i = 0; i < rows.length; i++) {
                height -= $(rows[i]).outerHeight(true);
            }
            var editorRow = $("#dialog-form>div.node-input-topics-container-row");
            height -= (parseInt(editorRow.css("marginTop"))+parseInt(editorRow.css("marginBottom")));
            $("#node-input-topics-container").editableList('height',height);
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="batch">
    <p>Cria sequncias de mensagens com base em vrias regras.</p>
    <h3>Detalhes</h3>
    <p>Existem trs modos para criar sequncias de mensagens:</p>
    <dl>
        <dt>Nmero de mensagens</dt>
        <dd>agrupa mensagens em sequncias de um determinado comprimento. A opo <b>sobreposio</b>
        especifica quantas mensagens no final de uma sequncia devem ser
        repetidas no incio da prxima sequncia.</dd>

        <dt>Intervalo de tempo</dt>
        <dd>agrupa mensagens que chegam dentro do intervalo especificado. Se no houver mensagens
            que cheguem dentro do intervalo, o n pode opcionalmente enviar uma mensagem vazia.</dd>

        <dt>Sequncias concatenadas</dt>
        <dd>cria uma sequncia de mensagens concatenando as sequncias de entrada. Cada mensagem
            deve ter uma propriedade <code>msg.topic</code> e uma propriedade <code>msg.parts</code>
            identificando sua seqncia. O n  configurado com uma lista de valores de <code>tpico</code>
            para identificar em que ordem as sequncias so concatenados.
       </dd>
    </dl>
    <h4>Armazenamento de mensagens</h4>
    <p>Este n internamente armazenar de forma temporria as mensagens, para que se possam trabalhar as sequncias. A
       configurao do tempo de execuo <code>nodeMessageBufferMaxLength</code> pode ser usada para limitar quantos ns de mensagens
       iro criar este armazenamento temporrio.</p>
    <p>Se uma mensagem for recebida com a propriedade <code>msg.reset</code> definida, as mensagens no armazenamento temporrio so excludas e no enviadas.</p>
</script>

</div><div><!-- --- [red-module:node-red/file] --- -->

<script type="text/html" data-template-name="file">
    <div class="form-row node-input-filename">
         <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="file.label.filename"></span></label>
         <input id="node-input-filename" type="text">
         <input type="hidden" id="node-input-filenameType">
    </div>
    <div class="form-row">
        <label for="node-input-overwriteFile"><i class="fa fa-random"></i> <span data-i18n="file.label.action"></span></label>
        <select type="text" id="node-input-overwriteFile" style="width: 250px;">
            <option value="false" data-i18n="file.action.append"></option>
            <option value="true" data-i18n="file.action.overwrite"></option>
            <option value="delete" data-i18n="file.action.delete"></option>
        </select>
    </div>
    <div class="form-row form-row-file-write-options">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-appendNewline" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-appendNewline" style="width: 70%;"><span data-i18n="file.label.addnewline"></span></label>
    </div>
    <div class="form-row form-row-file-write-options">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-createDir" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-createDir" style="width: 70%;"><span data-i18n="file.label.createdir"></span></label>
    </div>
    <div class="form-row form-row-file-encoding">
        <label for="node-input-encoding"><i class="fa fa-flag"></i> <span data-i18n="file.label.encoding"></span></label>
        <select type="text" id="node-input-encoding" style="width: 250px;">
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-tips"><span data-i18n="file.tip"></span></div>
</script>

<script type="text/html" data-template-name="file in">
    <div class="form-row">
         <label for="node-input-filename"><i class="fa fa-file"></i> <span data-i18n="file.label.filename"></span></label>
         <input id="node-input-filename" type="text">
         <input type="hidden" id="node-input-filenameType">
    </div>
    <div class="form-row">
        <label for="node-input-format"><i class="fa fa-sign-out"></i> <span data-i18n="file.label.outputas"></span></label>
        <select id="node-input-format" style="width: 250px;">
            <option value="utf8" data-i18n="file.output.utf8"></option>
            <option value="lines" data-i18n="file.output.lines"></option>
            <option value="" data-i18n="file.output.buffer"></option>
            <option value="stream" data-i18n="file.output.stream"></option>
        </select>
    </div>
    <div class="form-row" id="file-allprops">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-allProps" style="display:inline-block; width:auto; vertical-align:top;">
        <label for="node-input-allProps" style="width: 70%;"><span data-i18n="file.label.allProps"></span></label>
    </div>
    <div class="form-row" id="encoding-spec">
        <label for="node-input-encoding"><i class="fa fa-flag"></i> <span data-i18n="file.label.encoding"></span></label>
        <select type="text" id="node-input-encoding" style="width:250px;">
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-tips"><span data-i18n="file.tip"></span></div>
</script>

<script type="text/javascript">
(function(){
    var encodings = [
        [ "file.encoding.native",
          "utf8",
          "ucs2",
          "utf-16le",
          "ascii",
          "binary",
          "base64",
          "hex"
        ],
        [ "file.encoding.unicode",
          "utf-16be",
        ],
        [ "file.encoding.japanese",
          "Shift_JIS",
          "Windows-31j",
          "Windows932",
          "EUC-JP"
        ],
        [ "file.encoding.chinese",
          "GB2312",
          "GBK",
          "GB18030",
          "Windows936",
          "EUC-CN"
        ],
        [ "file.encoding.korean",
          "KS_C_5601",
          "Windows949",
          "EUC-KR"
        ],
        [ "file.encoding.taiwan",
          "Big5",
          "Big5-HKSCS",
          "Windows950"
        ],
        [ "file.encoding.windows",
          "cp874",
          "cp1250",
          "cp1251",
          "cp1252",
          "cp1253",
          "cp1254",
          "cp1255",
          "cp1256",
          "cp1257",
          "cp1258"
        ],
        [ "file.encoding.iso",
          "ISO-8859-1",
          "ISO-8859-2",
          "ISO-8859-3",
          "ISO-8859-4",
          "ISO-8859-5",
          "ISO-8859-6",
          "ISO-8859-7",
          "ISO-8859-8",
          "ISO-8859-9",
          "ISO-8859-10",
          "ISO-8859-11",
          "ISO-8859-12",
          "ISO-8859-13",
          "ISO-8859-14",
          "ISO-8859-15",
          "ISO-8859-16"
        ],
        [ "file.encoding.ibm",
          "cp437",
          "cp737",
          "cp775",
          "cp808",
          "cp850",
          "cp852",
          "cp855",
          "cp856",
          "cp857",
          "cp858",
          "cp860",
          "cp861",
          "cp866",
          "cp869",
          "cp922",
          "cp1046",
          "cp1124",
          "cp1125",
          "cp1129",
          "cp1133",
          "cp1161",
          "cp1162",
          "cp1163"
        ],
        [ "file.encoding.mac",
          "maccroatian",
          "maccyrillic",
          "macgreek",
          "maciceland",
          "macroman",
          "macromania",
          "macthai",
          "macturkish",
          "macukraine",
          "maccenteuro",
          "macintosh"
        ],
        [ "file.encoding.koi8",
          "koi8-r",
          "koi8-u",
          "koi8-ru",
          "koi8-t"
        ],
        [ "file.encoding.misc",
          "armscii8",
          "rk1048",
          "tcvn",
          "georgianacademy",
          "georgianps",
          "pt154",
          "viscii",
          "iso646cn",
          "iso646jp",
          "hproman8",
          "tis620"
        ]
    ];

    RED.nodes.registerType('file',{
        category: 'storage',
        defaults: {
            name: {value:""},
            filename: {value:""},
            filenameType: {value:"str"},
            appendNewline: {value:true},
            createDir: {value:false},
            overwriteFile: {value:"false"},
            encoding: {value:"none"}
        },
        color:"BurlyWood",
        inputs:1,
        outputs:1,
        icon: "file-out.svg",
        label: function() {
            var fn = this.filename;
            if(this.filenameType != "str" && this.filenameType != "env" ) { fn = ""; }
            if(this.filenameType === "env") { fn = "env."+fn; }
            if (this.overwriteFile === "delete") {
                return this.name||this._("file.label.deletelabel",{file:fn});
            } else {
                return this.name||fn||this._("file.label.write");
            }
        },
        paletteLabel: RED._("node-red:file.label.write"),
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            var encSel = $("#node-input-encoding");
            var label = node._("file.encoding.none");
            $("<option/>", {
                value: "none",
                label: label
            }).text(label).appendTo(encSel);
            $("<option/>", {
                value: "setbymsg",
                label: node._("file.encoding.setbymsg")
            }).text(label).appendTo(encSel);
            $("#node-input-filename").typedInput({
                default: "str",
                types: [{label:RED._("node-red:file.label.path"), value:"str", icon:""}, "msg", "jsonata", "env"],
                typeField: $("#node-input-filenameType")
            });
            if(typeof node.filenameType == 'undefined') {
                //existing node AND filenameType is not set - inplace (compatible) upgrade to new typedInput
                if(node.filename == "") { //was using empty value to denote msg.filename - set typedInput to match
                    node.filename = "filename";
                    node.filenameType = "msg";
                    $("#node-input-filename").typedInput("type", node.filenameType);
                    $("#node-input-filename").typedInput("value", node.filename);
                } else if(/^\${[^}]+}$/.test(node.filename)) { //was using an ${ENV_VAR}
                    node.filenameType = "env";
                    node.filename = node.filename.replace(/\${([^}]+)}/g, function(match, name) {
                        return (name === undefined)?"":name;
                    });
                    $("#node-input-filename").typedInput("type", node.filenameType);
                    $("#node-input-filename").typedInput("value", node.filename);
                } else { //was using a static filename - set typedInput type to str
                    node.filenameType = "str";
                    $("#node-input-filename").typedInput("type", node.filenameType);
                    $("#node-input-filename").typedInput("value", node.filename);
                }
            }
            encodings.forEach(function(item) {
                if(Array.isArray(item)) {
                    var group = $("<optgroup/>", {
                        label: node._(item[0])
                    }).appendTo(encSel);
                    for (var i = 1; i < item.length; i++) {
                        var enc = item[i];
                        $("<option/>", {
                            value: enc,
                            label: enc
                        }).text(enc).appendTo(group);
                    }
                }
                else {
                    $("<option/>", {
                        value: item,
                        label: item
                    }).text(item).appendTo(encSel);
                }
            });
            encSel.val(node.encoding);
            $("#node-input-overwriteFile").on("change",function() {
                if (this.value === "delete") {
                    $(".form-row-file-write-options").hide();
                    $(".form-row-file-encoding").hide();
                } else {
                    $(".form-row-file-write-options").show();
                    $(".form-row-file-encoding").show();
                }
            });
        }
    });

    RED.nodes.registerType('file in',{
        category: 'storage',
        defaults: {
            name: {value:""},
            filename: {value:""},
            filenameType: {value:"str"},
            format: {value:"utf8"},
            chunk: {value:false},
            sendError: {value: false},
            encoding: {value: "none"},
            allProps: {value: false}
        },
        color:"BurlyWood",
        inputs:1,
        outputs:1,
        outputLabels: function(i) {
            var l;
            if (this.format === "utf8") {
                l = "file.label.utf8String";
            } else if (this.format === "lines") {
                l = "file.label.utf8String_plural";
            } else if (this.format === "stream") {
                l = "file.label.binaryBuffer_plural";
            } else {
                l = "file.label.binaryBuffer";
            }
            return this._(l);
        },
        icon: "file-in.svg",
        label: function() {
            var fn = this.filename;
            if(this.filenameType != "str" && this.filenameType != "env" ) { fn = ""; }
            if(this.filenameType === "env") { fn = "env."+fn; }
            return this.name||fn||this._("file.label.read");
        },
        paletteLabel: RED._("node-red:file.label.read"),
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var node = this;
            var encSel = $("#node-input-encoding");
            var label = node._("file.encoding.none");
            $("<option/>", {
                value: "none",
                label: label
            }).text(label).appendTo(encSel);
            $("#node-input-filename").typedInput({
                default: "str",
                types: [{label:RED._("node-red:file.label.path"), value:"str", icon:""}, "msg", "jsonata", "env"],
                typeField: $("#node-input-filenameType")
            });
            if(typeof node.filenameType == 'undefined') {
                //existing node AND filenameType is not set - inplace (compatible) upgrade to new typedInput
                if(node.filename == "") { //was using empty value to denote msg.filename - set typedInput to match
                    node.filename = "filename";
                    node.filenameType = "msg";
                    $("#node-input-filename").typedInput("type", node.filenameType);
                    $("#node-input-filename").typedInput("value", node.filename);
                } else if(/^\${[^}]+}$/.test(node.filename)) { //was using an ${ENV_VAR}
                    node.filenameType = "env";
                    node.filename = node.filename.replace(/\${([^}]+)}/g, function(match, name) {
                        return (name === undefined)?"":name;
                    });
                    $("#node-input-filename").typedInput("type", node.filenameType);
                    $("#node-input-filename").typedInput("value", node.filename);
                } else { //was using a static filename - set typedInput type to str
                    node.filenameType = "str";
                    $("#node-input-filename").typedInput("type", node.filenameType);
                    $("#node-input-filename").typedInput("value", node.filename);
                }
            }
            encodings.forEach(function(item) {
                if(Array.isArray(item)) {
                    var group = $("<optgroup/>", {
                        label: node._(item[0])
                    }).appendTo(encSel);
                    for (var i = 1; i < item.length; i++) {
                        var enc = item[i];
                        $("<option/>", {
                            value: enc,
                            label: enc
                        }).text(enc).appendTo(group);
                    }
                }
                else {
                    $("<option/>", {
                        value: item,
                        label: item
                    }).text(item).appendTo(encSel);
                }
            });
            encSel.val(node.encoding);
            $("#node-input-format").on("change",function() {
                var format = $("#node-input-format").val();
                if ((format === "utf8") || (format === "lines")) {
                    $("#encoding-spec").show();
                }
                else {
                    $("#encoding-spec").hide();
                }
                if ((format === "lines") || (format === "stream")) {
                    $("#file-allprops").show();
                }
                else {
                    $("#file-allprops").hide();
                }
            });
        }
    });
})();
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="file">
    <p>Grava <code> msg.payload</code> em um arquivo, adicionando ao final ou substituindo o contedo existente.
        Alternativamente, pode-se excluir o arquivo.</p>
     <h3>Entradas</h3>
     <dl class="message-properties">
         <dt class="optional"> nome do arquivo <span class="property-type"> cadeia de caracteres</span></dt>
         <dd> O nome do arquivo a ser atualizado pode ser fornecido na configurao do n, ou como uma propriedade da mensagem.
         Por padro utilizar <code>msg.filename</code>. Mas, isso pode ser customizado no n.</dd>
         <dt class="optional"> codificao <span class="property-type"> cadeia de caracteres</span></dt>
         <dd>Se a codificao estiver configurada para ser definida por msg, ento esta propriedade opcional pode definir a codificao.</dt>
    </dl>
     <h3>Sada</h3>
     <p>Ao concluir a gravao, a mensagem de entrada  enviada para a porta de sada.</p>
     <h3>Detalhes</h3>
     <p>Cada carga til da mensagem ser adicionada ao final do arquivo, opcionalmente anexando
     um caractere de nova linha (\n) entre cada um.</p>
     <p>Se <code>msg.filename</code> for utilizado, o arquivo ser fechado aps cada gravao.
     Para melhor desempenho, use um nome de arquivo fixo.</p>
     <p>Pode ser configurado para sobrescrever o arquivo todo ao invs de ser adicionado ao final. Por exemplo,
     ao gravar dados binrios em um arquivo, como uma imagem, esta opo deve ser usada 
     e a opo de adicionar uma nova linha deve ser desativada.</p>
     <p>A codificao de dados gravados em um arquivo pode ser especificada na lista de codificaes.</p>
     <p>Como alternativa, este n pode ser configurado para excluir o arquivo.</p>
</script>

<script type="text/html" data-help-name="file in">
    <p>L o contedo de um arquivo como cadeia de caracteres ou armazenamento temporrio binrio.</p>
    <h3>Entradas</h3>
    <dl class="message-properties">
        <dt class="optional">nome do arquivo <span class="property-type">cadeia de caracteres</span></dt>
        <dd>O nome do arquivo a ser lido pode ser fornecido na configurao, ou como uma propriedade da mensagem.
        Por padro utilizar <code>msg.filename</code>. Mas, isso pode ser customizado no n.</dd>
    </dl>
    <h3>Sadas</h3>
    <dl class="message-properties">
        <dt>carga til<span class="property-type"> cadeia de caracteres | armazenamento temporrio</span></dt>
        <dd>O contedo do arquivo como uma cadeia de caracteres ou armazenamento temporrio binrio.</dd>
        <dt class="optional"> nome do arquivo <span class="property-type"> cadeia de caracteres</span></dt>
        <dd>Se no estiver configurada no n, esta propriedade opcional define o nome do arquivo a ser lido.</dd>
   </dl>
    <h3>Detalhes</h3>
    <p>O nome do arquivo deve ser um caminho absoluto, caso contrrio, ser relativo ao
    diretrio de trabalho do processo Node-RED.</p>
    <p>No Windows, os separadores de caminho podem precisar da sequncia de escape, por exemplo: <code>\\Users\\myUser</code>.</p>
    <p>Opcionalmente, um arquivo de texto pode ser dividido em linhas, gerando uma mensagem por linha ou um arquivo binrio
    dividido em blocos menores de armazenamento temporrio - o tamanho do bloco depende do sistema operacional, mas normalmente 64k(Linux/Mac) ou 41k(Windows).</p>
    <p>Quando dividida em vrias mensagens, cada mensagem ter uma propriedade <code> partes</code>
    definida, formando uma sequncia de mensagem completa.</p>
    <p>A codificao dos dados de entrada pode ser especificada na lista de codificaes; se o formato de sada for cadeia de caracteres.</p>
    <p>Os erros devem ser detectados e tratados usando um n de Captura.</p>
</script>

</div><div><!-- --- [red-module:node-red/watch] --- -->
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-template-name="watch">
    <div class="form-row node-input-filename">
         <label for="node-input-files"><i class="fa fa-file"></i> <span data-i18n="watch.label.files"></span></label>
         <input id="node-input-files" type="text" tabindex="1" data-i18n="[placeholder]watch.placeholder.files">
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-recursive" style="display:inline-block; width:auto; vertical-align:top;">
        <label for="node-input-recursive" style="width:70%;"> <span data-i18n="watch.label.recursive"></span></label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
     <div id="node-input-tip" class="form-tips"><span data-i18n="watch.tip"></span></div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('watch',{
        category: 'storage',
        defaults: {
            name: {value:""},
            files: {value:"",required:true,
                    label:RED._("node-red:watch.label.files")},
            recursive: {value:""}
        },
        color:"BurlyWood",
        inputs:0,
        outputs:1,
        icon: "watch.svg",
        label: function() {
            return this.name||this.files||this._("watch.watch");
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>
<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="watch">
  <p>Observa um diretrio ou arquivo em busca de alteraes.</p>
  <p>Voc pode inserir uma lista de diretrios e/ou arquivos separados por vrgulas. Voc ir
  precisa colocar aspas "..." ao redor de qualquer um que tenha espaos.</p>
  <p>No Windows, voc deve usar barras invertidas duplas \\ em qualquer nome de diretrio.</p>
  <p>O nome completo do arquivo que realmente mudou  colocado em <code>msg.payload</code> e <code>msg.filename</code>,
  enquanto uma verso, em forma de cadeia de caracteres, da lista de observao  retornada em <code>msg.topic</code>.</p>
  <p> <code>msg.file</code> contm apenas o nome abreviado do arquivo que foi alterado.
  <code>msg.type</code> contem o tipo alterado, geralmente <i>arquivo</i> ou <i>diretrio</i>,
  enquanto <code>msg.size</code> contm o tamanho do arquivo em bytes.</p>
  <p>Claro que no Linux, <i>tudo</i>  um arquivo. Portanto, pode ser observado ... </p>
  <p><b>Nota:</b> O diretrio ou arquivo deve existir para ser monitorado. Se o arquivo
  ou o diretrio for excludo, ele no poder mais ser monitorado, mesmo se for recriado.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-conversation-v1] --- -->
<!--
  Copyright 2016, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-conversation-v1">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/assistant/api">
    </div>

    <div class="form-row">
        <label for="node-input-workspaceid"><i class="fa fa-tag"></i> Workspace ID</label>
        <input type="text" id="node-input-workspaceid" placeholder="WorkspaceID">
    </div>
    <div class="form-row">
        <label for="node-input-timeout"><i class="fa fa-tag"></i> Timeout Period</label>
        <input type="text" id="node-input-timeout" placeholder="Leave empty to disable">
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-context" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-context" style="width: 70%;"> Save context</label>
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-multiuser" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-multiuser" style="width: 70%;"> Multiple Users</label>
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-empty-payload" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-empty-payload" style="width: 70%;"> Permit Empty Payload</label>
    </div>
    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-optout-learning" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-optout-learning" style="width: 70%;"> Opt Out Request Logging</label>
    </div>

    <div class="form-tips" id="conversation-form-tips">
      <strong>Note:</strong> When using with multiple users, <code>msg.user</code> must be set.<br>
      See info box for details.
    </div>
</script>




<script type="text/javascript">
    var oneditprepare = function() {
        $('input#node-input-context').change(function () {
            var checked = $('input#node-input-context').prop('checked');
            if (checked) {
                $('input#node-input-multiuser').parent().show();
                $('#conversation-form-tips').show();
            } else {
                $('input#node-input-multiuser').parent().hide();
                $('#conversation-form-tips').hide();
            }
        });

        $.getJSON('watson-conversation/vcap/')
            .done(function (service) {
              $('.credentials').toggle(!service);
            })
            .fail(function () {
              $('.credentials').show();
            })
            .always(function () {
              $('#credentials-check').hide();
            })
    };

    (function() {
        RED.nodes.registerType('watson-conversation-v1', {
            category: 'IBM Watson',
            defaults: {
              name: {value: ''},
              workspaceid: {value: ''},
              multiuser: {value: false},
              context: {value: true},
              'empty-payload': {value: false},
              'service-endpoint' : {value: ''},
              timeout: {value: '', validate: RED.validators.number(true)},
              'optout-learning': {value: false}
            },
            credentials: {
              apikey: {type:'password'}
            },
            color: 'rgb(84,149,230)',
            inputs: 1,
            outputs: 1,
            icon: 'conversation-v1-25x25.png',
            paletteLabel: 'assistant',
            label: function() {
                return this.name || 'assistant';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: oneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-conversation-v1">
	<p>With the IBM Watson Assistant service you can create cognitive agents  virtual agents that combine machine learning, natural language understanding, and integrated dialog scripting tools to provide outstanding customer engagements.</p>

    <p><b>Usage</b></p>
    <p>This node should be provided in input : </p>
    <ul>
    <li><code>msg.payload</code> : the message of the Assistant to analyse. Format: String </li>
    <li><code>msg.user</code> (optional): unique identifier of the user. This will be used to maintain the context of the Assistant for each user when using with multiple users. Format: String </li>
    <li><code>msg.params.workspace_id</code> : unique identifier of the workspace to be used. Could be also configured in the node. Format: String </li>
    <li><code>msg.params.timeout</code> (optional): The timeout period (in millisecond) for Watson request. Leave empty or set to 0 to disable. </li>
    <li><code>msg.params.context</code> (optional): A context object that includes state information for the Assistant. When you send multiple requests for the same Assistant, include the context object from the response. (<a href="http://www.ibm.com/watson/developercloud/assistant/api/v1/#send_input" target="_blank">documentation</a>). This will overwrite any context saved in the node. Format: JSON </li>
    <li><code>msg.params.alternate_intents</code> (optional) : whether to return more than one intent. Default is false. Set to true to return all matching intents. For example, return all intents when the confidence is not high to allow users to choose their intent.</li>
    <li><code>msg.params.output</code> (optional) : see API documentation </li>
    <li><code>msg.params.entities</code> (optional) : see API documentation </li>
    <li><code>msg.params.output</code> (optional) : see API documentation </li>
    <li><code>msg.additional_context</code> (optional) : additional properties that will be added to the context object. Format: Object </li>
    <br/>
    <li><code>msg.params.apikey</code> : If provided will be used as the api key credential for the Assistant service.</li>
    <li><code>msg.params.endpoint</code> : If provided will be used as the url for the Assistant service.</li>
    <li><code>msg.params.version</code> : If provided will be used as the API version date for the Assistant service.</li>
    <li><code>msg.params.optout_learning</code> : Set to true to opt out of request logging. Check the <a href="https://console.bluemix.net/docs/services/watson/getting-started-logging.html#controlling-request-logging-for-watson-services" target="_blank">documentation</a> for details.</li>
    <li><code>msg.params.disable_ssl_verification</code> : Set to true to disable SSL verification. <b>Note that this has serious security implications - only do this if you really mean to!</b></li>
    <br/>
    <li><code>msg.params.customerId</code> (optional) : Set to associate a customer ID with the data.
      By specifying a customer ID, you indicate that it contains data that belongs to that customer.</li>
    </ul>
    <p>See <a href="http://www.ibm.com/watson/developercloud/assistant/api/v1/#send_input" target="_blank">Assistant API documentation</a> for details.</p>
    <p>All Results will made available at <code>msg.payload</code> in JSON format. Check the  <a href="http://www.ibm.com/watson/developercloud/assistant/api/v1/#send_input" target="_blank">documentation</a> for details.</p>

    <p><b>Important</b> : before using this node, a workspace must be created and configured using the Watson Assistant Tool available in IBM Cloud, in the Watson Assistant instance detail page.</p>
    <p><b>Documentation</b>
    <ul>
    <li><a href="https://console.bluemix.net/docs/services/assistant/index.html" target="_blank">Watson Assistant API documentation</a></li>
    <li><a href="https://watson-api-explorer.mybluemix.net/apis/assistant-v1" target="_blank">Watson API Explorer</a></li>
    <li><a href="https://console.bluemix.net/docs/services/assistant/getting-started.html" target="_blank">Getting started tutorial</a>
    <li><a href="https://github.com/watson-developer-cloud/node-red-bluemix-starter" target="_blank">Sample Flow in the Watson Node-RED Starter</a>
    </ul>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-conversation-workspace-manager-v1] --- -->
<!--
  Copyright 2017, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-conversation-v1-workspace-manager">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div>
        <label id="node-label-message"><i class="fa fa-exclamation-triangle"></i></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name"></input>
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-cwm-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-cwm-service-endpoint" placeholder="https://gateway.watsonplatform.net/assistant/api">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-custom-mode"><i class="fa fa-book"></i> Mode: </label>
        <select type="text" id="node-input-cwm-custom-mode" style="display: inline-block; width: 70%;">
            <option value="listWorkspaces">List Workspaces</option>
            <option value="getWorkspace">Get Workspace Details</option>
            <option value="createWorkspace">Create Workspace</option>
            <option value="updateWorkspace">Update Workspace</option>
            <option value="deleteWorkspace">Delete Workspace</option>
            <option disabled>______________</option>
            <option value="listIntents">List Intents</option>
            <option value="getIntent">Get Intent Details</option>
            <option value="createIntent">Create Intent</option>
            <option value="updateIntent">Update Intent</option>
            <option value="deleteIntent">Delete Intent</option>
            <option disabled>______________</option>
            <option value="listExamples">List Examples</option>
            <option value="createExample">Create Example</option>
            <option value="deleteExample">Delete Example</option>
            <option disabled>______________</option>
            <option value="listCounterExamples">List Counter Examples</option>
            <option value="createCounterExample">Create Counter Example</option>
            <option value="deleteCounterExample">Delete Counter Example</option>
            <option disabled>______________</option>
            <option value="listEntities">List Entities</option>
            <option value="getEntity">Get Entity Details</option>
            <option value="createEntity">Create Entity</option>
            <option value="updateEntity">Update Entity</option>
            <option value="deleteEntity">Delete Entity</option>
            <option disabled>______________</option>
            <option value="listEntityValues">List Entity Values</option>
            <option value="getEntityValue">Get Entity Value Details</option>
            <option value="addEntityValue">Add Entity Value</option>
            <option value="updateEntityValue">Update Entity Value</option>
            <option value="deleteEntityValue">Delete Entity Value</option>
            <option disabled>______________</option>
            <option value="listDialogNodes">List Dialog Nodes</option>
            <option value="getDialogNode">Get Dialog Node Details</option>
            <option value="createDialogNode">Create Dialog Node</option>
            <option value="updateDialogNode">Update Dialog Node</option>
            <option value="deleteDialogNode">Delete Dialog Node</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-cwm-workspace-id"><i class="fa fa-book"></i> Workspace ID</label>
        <input type="text" id="node-input-cwm-workspace-id" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-intent"><i class="fa fa-book"></i> Intent</label>
        <input type="text" id="node-input-cwm-intent" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-example"><i class="fa fa-book"></i> Example Input</label>
        <input type="text" id="node-input-cwm-example" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-entity"><i class="fa fa-book"></i> Entity</label>
        <input type="text" id="node-input-cwm-entity" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-entity-value"><i class="fa fa-book"></i> Entity Value</label>
        <input type="text" id="node-input-cwm-entity-value" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-dialog-node"><i class="fa fa-book"></i> Dialog Node ID</label>
        <input type="text" id="node-input-cwm-dialog-node" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-cwm-export-content"><i class="fa fa-book"></i> Export All Content</label>
        <input type="checkbox" id="node-input-cwm-export-content" placeholder="">
    </div>

</script>



<script type="text/javascript">

  // Need to simulate a namespace, as some of the variables had started to leak across nodes
  function CV1WM () {
  }

  // This is the namespace for cv1wm. Currently only contains models, but more vars and functions may need to be
  // moved in if there is a clash with other nodes.
  var cv1wm = new CV1WM();
  cv1wm.mode_selected = null;

  cv1wm.showSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().show();
    }
  }

  cv1wm.hideSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().hide();
    }
  }

  // Function to be used at the start, as don't want to expose any fields, unless the models are
  // available. The models can only be fetched if the credentials are available.
  cv1wm.hideEverything = function () {
    var fields = [];

    fields.push('#node-input-cwm-workspace-id'
                     + ', #node-input-cwm-intent'
                     + ', #node-input-cwm-example'
                     + ', #node-input-cwm-entity'
                     + ', #node-input-cwm-entity-value'
                     + ', #node-input-cwm-dialog-node'
                     + ', #node-input-cwm-export-content');

    cv1wm.hideSelectedFields(fields);
  }

  cv1wm.processSelectedMethod = function(method) {
    var fields = [];

    cv1wm.hideEverything();

    switch (method) {
      case 'getWorkspace':
      case 'listIntents':
      case 'listEntities':
        fields.push('#node-input-cwm-workspace-id'
                       + ', #node-input-cwm-export-content');
        break;
      case 'getIntent':
        fields.push('#node-input-cwm-workspace-id'
                       + ', #node-input-cwm-intent'
                       + ', #node-input-cwm-export-content');
        break;
      case 'updateIntent':
      case 'deleteIntent':
      case 'listExamples':
        fields.push('#node-input-cwm-workspace-id'
                     + ', #node-input-cwm-intent');
        break;
      case 'createExample':
      case 'deleteExample':
        fields.push('#node-input-cwm-workspace-id'
                     + ', #node-input-cwm-intent'
                     + ', #node-input-cwm-example');
        break;
      case 'createCounterExample':
      case 'deleteCounterExample':
        fields.push('#node-input-cwm-workspace-id'
                      + ', #node-input-cwm-example');
        break;
      case 'getEntity':
      case 'listEntityValues':
        fields.push('#node-input-cwm-workspace-id'
                        + ', #node-input-cwm-entity'
                        + ', #node-input-cwm-export-content');
        break;
      case 'getEntityValue':
        fields.push('#node-input-cwm-workspace-id'
                        + ', #node-input-cwm-entity'
                        + ', #node-input-cwm-entity-value'
                        + ', #node-input-cwm-export-content');
        break;
      case 'updateEntity':
      case 'deleteEntity':
        fields.push('#node-input-cwm-workspace-id'
                       + ', #node-input-cwm-entity');
        break;
      case 'getDialogNode':
      case 'updateDialogNode':
      case 'deleteDialogNode':
        fields.push('#node-input-cwm-workspace-id'
                       + ', #node-input-cwm-dialog-node');
        break;
      case 'addEntityValue':
      case 'updateEntityValue':
      case 'deleteEntityValue':
        fields.push('#node-input-cwm-workspace-id'
                        + ', #node-input-cwm-entity'
                        + ', #node-input-cwm-entity-value');
        break;
      case 'deleteWorkspace':
      case 'updateWorkspace':
      case 'createIntent':
      case 'createEntity':
      case 'listCounterExamples':
      case 'listDialogNodes':
      case 'createDialogNode':
        fields.push('#node-input-cwm-workspace-id');
        break;
      case 'listWorkspaces':
      case 'createWorkspace':
        break;
    }

    cv1wm.showSelectedFields(fields);
  }

  // Register the handlers for the fields
  cv1wm.handlersUI = function () {
    $('#node-input-cwm-custom-mode').change(function() {
      cv1wm.mode_selected = $('#node-input-cwm-custom-mode').val();
      cv1wm.processSelectedMethod(cv1wm.mode_selected);
    });
  }

  // This is the on edit prepare function, which will be invoked everytime the dialog
  // is shown.
  function cv1wmoneditprepare() {
    cv1wm.hideEverything();
    cv1wm.handlersUI();

    $.getJSON('watson-conversation-v1-workspace-manager/vcap/')
      // for some reason the getJSON resets the vars so need to restoreFromHidden again
      // so again.
      .done(function (service) {
        $('.credentials').toggle(!service);
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
     });
  }

  // Save the values in the dyanmic lists to the hidden fields.
  function cv1wmoneditsave(){
  }

    (function() {
        RED.nodes.registerType('watson-conversation-v1-workspace-manager', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                'cwm-custom-mode': {value:"listWorkspaces"},
                'cwm-workspace-id': {value:""},
                'cwm-intent': {value:""},
                'cwm-example': {value:""},
                'cwm-entity': {value:""},
                'cwm-entity-value': {value:""},
                'cwm-dialog-node': {value:""},
                'cwm-export-content': {value:false},
                'cwm-service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type: 'password'}
            },
            color: 'rgb(84,149,180)',
            inputs: 1,
            outputs: 1,
            icon: 'conversation-v1-25x25.png',
            paletteLabel: 'assistant workspace manager',
            label: function() {
                return this.name || 'assistant workspace manager';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: cv1wmoneditprepare,
            oneditsave: cv1wmoneditsave
        });
    })();

</script>
<script type="text/x-red" data-help-name="watson-conversation-v1-workspace-manager">
    <p>The Conversation Workspace Manager is used to ... </p>
    <ul>
    <li>list Workspaces
      <p>In this mode a list of all workspaces a that you have
        created in the conversation services are returned on
        <code>msg.workspaces</code>
      </p>
    </li>
    <li>Get Workspace
      <p>In this mode all information about a workspace,
        optionally including all workspace content, is retrieved.
        The information is returned on
        <code>msg.workspace</code>
      </p>
    </li>
    <li>Create Workspace
      <p>In this mode, a new worskpace is created. The input json structure
        defining the content of the new workspace
        should be passed in
        as <code>msg.payload</code>
      </p>
    </li>
    <li>Update Workspace
      <p>In this mode, the specified worskpace is updated. The input json structure
        defining the content of the updates
        should be passed in
        as <code>msg.payload</code>. Only the elements need to be included
        in the json. Any included element will override the existing setting
        for the element. ie. If only updating entities, then only entities need
        to be included in the json. Any existing entities in the workspace will
        be overridden. ie. If any entity is not mentioned in the json, then it
        will be deleted from the workspace.
      </p>
    </li>
    <li>Delete Workspace
      <p>In this mode the selected workspace is deleted.
      </p>
    </li>
    <li>list Intents
      <p>In this mode a list of all intents for the specified conversation
        workspace are returned on
        <code>msg.intents</code>
      </p>
    </li>
    <li>Get Intent
      <p>In this mode all information about the specified intent
        is retrieved. The information is returned on
        <code>msg.intent</code>
      </p>
    </li>
    <li>Create Intent
      <p>In this mode, a new intent is created in the specified workspace.
        The input json structure
        defining the content of the new intent
        should be passed in
        as <code>msg.payload</code>
      </p>
    </li>
    <li>Update Intent
      <p>In this mode, the specified intent is updated. The input json structure
        defining the content of the updates
        should be passed in
        as <code>msg.payload</code>. Only the elements need to be included
        in the json. Any included element will override the existing setting
        for the element. ie. If only updating examples, then only the examples
        need be included in the json. Any existing examples will
        be overridden. ie. If any example is not mentioned in the json, then it
        will be deleted.
        You can use this mode to rename an intent.
      </p>
    </li>
    <li>Delete Intent
      <p>In this mode the selected intent is removed from the worskpace.
      </p>
    </li>
    <li>List Examples
      <p>In this mode a list of all user input examples for an intent in
        the specified conversation
        workspace are returned on
        <code>msg.examples</code>
      </p>
    </li>
    <li>Create Example
      <p>In this mode a new example is created for an intent in the
        specified conversation workspace.
      </p>
    </li>
    <li>Delete Example
      <p>In this mode the selected example for an intent is removed.
      </p>
    </li>
    <li>List Counter Examples
      <p>In this mode a list of all counter examples in
        the specified conversation
        workspace are returned on
        <code>msg.counterexamples</code>.
        Counterexamples are examples that have been marked as
        irrelevant input.
      </p>
    </li>
    <li>Create Counter Example
      <p>In this mode a new counter example is created in the
        specified conversation workspace.
      </p>
    </li>
    <li>Delete Counter Example
      <p>In this mode an existing counter example is deleted from the
        specified conversation workspace.
      </p>
    </li>
    <li>list Entities
      <p>In this mode a list of all entities for the specified conversation
        workspace are returned on
        <code>msg.entities</code>
      </p>
    </li>
    <li>Get Entity
      <p>In this mode all information about the specified entity
        is retrieved. The information is returned on
        <code>msg.entity</code>
      </p>
    </li>
    <li>Create Entity
      <p>In this mode, a new entity is created in the specified workspace.
        The input json structure
        defining the content of the new entity
        should be passed in
        as <code>msg.payload</code>
      </p>
    </li>
    <li>Update Entity
      <p>In this mode, the specified entity is updated. The input json structure
        defining the content of the updates
        should be passed in
        as <code>msg.payload</code>. Only the elements need to be included
        in the json. Any included element will override the existing setting
        for the element. ie. Any existing elements will
        be overridden. ie. If any element is not mentioned in the json, then it
        will be deleted.
        You can use this mode to rename an entity.
      </p>
    </li>
    <li>Delete Entity
      <p>In this mode the selected entity is removed from the worskpace.
      </p>
    </li>
    <li>list Entity Values
      <p>In this mode a list of all values for an entitu for the specified conversation
        workspace are returned on
        <code>msg.values</code>
      </p>
    </li>
    <li>Get Entity Value
      <p>In this mode all information about the specified entity value
        is retrieved. The information is returned on
        <code>msg.value</code>
      </p>
    </li>
    <li>Add Entity Value
      <p>In this mode, a new entity value is created in the specified workspace.
        The input json structure
        defining the content of the new entity value
        should be passed in
        as <code>msg.value</code>
      </p>
    </li>
    <li>Update Entity Value
      <p>In this mode, the specified entity value is updated. The input json
        structure
        defining the content of the updates
        should be passed in
        as <code>msg.payload</code>. Only the elements need to be included
        in the json. Any included element will override the existing setting
        for the element. ie. Any existing elements will
        be overridden. ie. If any element is not mentioned in the json, then it
        will be deleted.
        You can use this mode to rename an entity value.
      </p>
    </li>
    <li>Delete Entity Value
      <p>In this mode the selected entity value is removed from the worskpace.
      </p>
    </li>
    <li>list Dialog Nodes
      <p>In this mode a list of all dialog nodes for the specified conversation
        workspace are returned on
        <code>msg.dialog_nodes</code>
      </p>
    </li>
    <li>Get Dialog Node
      <p>In this mode all information about the dialog node
        is retrieved. The information is returned on
        <code>msg.dialog_node</code>
      </p>
    </li>
    <li>Create Dialog Node
      <p>In this mode, a new dialog node is created. The input json structure
        defining the content of the node
        should be passed in
        as <code>msg.payload</code>.
      </p>
    </li>
    <li>Update Dialog Node
      <p>In this mode, the specified dialog node is updated. The input json structure
        defining the content of the updates
        should be passed in
        as <code>msg.payload</code>. Fields to be updated need a
        <code>new_</code> prefix as part of their key.
      </p>
    </li>
    <li>Delete Dialog Node
      <p>In this mode the selected dialog node is removed from the worskpace.
      </p>
    </li>
    </ul>

    <p>The node configurations can be overridden by setting
    <ul>
      <li>
        <code>msg.params.apikey</code>
      </li>
      <li>
        <code>msg.params.endpoint</code>
      </li>
      <li>
        <code>msg.params.workspace_id</code>
      </li>
      <li>
        <code>msg.params.intent</code>
      </li>
      <li>
        <code>msg.params.example</code>
      </li>
      <li>
        <code>msg.params.entity</code>
      </li>
      <li>
        <code>msg.params.entity_value</code>
      </li>
      <li>
        <code>msg.params.dialog_node</code>
      </li>

      <li>
        <code>msg.params.method</code>
        <p>to one of the following values:
        <select>
        <option> listWorkspaces </option>
        <option> getWorkspace </option>
        <option> createWorkspace </option>
        <option> updateWorkspace </option>
        <option> deleteWorkspace </option>
        <option> listIntents </option>
        <option> getIntent </option>
        <option> createIntent </option>
        <option> updateIntent </option>
        <option> deleteIntent </option>
        <option> listExamples </option>
        <option> createExample </option>
        <option> deleteExample </option>
        <option> listCounterExamples </option>
        <option> createCounterExample</option>
        <option> deleteCounterExample </option>
        <option> listEntities </option>
        <option> getEntity </option>
        <option> createEntity </option>
        <option> updateEntity </option>
        <option> deleteEntity </option>
        <option> listEntityValues </option>
        <option> getEntityValue </option>
        <option> addEntityValue </option>
        <option> updateEntityValue </option>
        <option> deleteEntityValue </option>
        <option> listDialogNodes </option>
        <option> getDialogNode </option>
        <option> createDialogNode </option>
        <option> updateDialogNode </option>
        <option> deleteDialogNode </option>
        </select>
        </p>


      </li>
    </ul>
    </p>

    <p>For more information about the conversation service,
    read the <a href="https://console.bluemix.net/docs/services/conversation/index.html">
    documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-assistant-v2] --- -->
<!--
  Copyright 2018 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-assistant-v2">
  <div id="credentials-check" class="form-row">
      <div class="form-tips">
          <i class="fa fa-question-circle"></i>
             <b> Please wait: </b> Checking for bound service credentials...
      </div>
  </div>

  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>

  <div class="form-row credentials" style="display: none;">
      <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
      <input type="password" id="node-input-apikey" placeholder="API Key"></input>
  </div>

  <div class="form-row credentials">
      <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
      <input type="text" id="node-input-service-endpoint" placeholder="https://api.eu-gb.assistant.watson.cloud.ibm.com/instances/ChangeMe-8888-4def-8888-invalidId">
  </div>

  <div class="form-row">
      <label for="node-input-assistant_id"><i class="fa fa-tag"></i> Assistant ID</label>
      <input type="text" id="node-input-assistant_id" placeholder="Assistant ID">
  </div>

  <div class="form-row">
      <label for="node-input-timeout"><i class="fa fa-tag"></i> Timeout Period</label>
      <input type="text" id="node-input-timeout" placeholder="Leave empty to disable">
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-debug" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-debug" style="width: 70%;"> Switch on Debug</label>
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-restart" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-restart" style="width: 70%;"> Restart Dialog</label>
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-return_context" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-return_context" style="width: 70%;"> Return Context</label>
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-alternate_intents" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-alternate_intents" style="width: 70%;"> Return Alternate Intents</label>
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-multisession" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-multisession" style="width: 70%;"> Multiple Sessions</label>
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-optout-learning" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-optout-learning" style="width: 70%;"> Opt Out Request Logging</label>
  </div>

  <div class="form-row">
      <label>&nbsp;</label>
      <input type="checkbox" id="node-input-persist-session-id" style="display: inline-block; width: auto; vertical-align: top;">
      <label for="node-input-persist-session-id" style="width: 70%;">Return session_id from request.</label>
  </div>

  <div class="form-tips" id="assistantv2-form-tips">
    <strong>Note:</strong> When using multiple sessions, and <code>msg.params.session_id</code>
    is not set then a new session id is generated. <br>
    See info box for details.
  </div>
</script>




<script type="text/javascript">
  // Need to simulate a namespace, so that some of the variables don't leak across nodes
  function AssistantV2 () {
  }

  // This is the namespace for document translator.
  var assistantV2 = new AssistantV2();

  assistantV2.UIListeners = function () {
    $('input#node-input-multisession').change(function () {
        var checked = $('input#node-input-multisession').prop('checked');
        if (checked) {
          $('#assistantv2-form-tips').show();
        } else {
          $('#assistantv2-form-tips').hide();
        }
    });
  }

  assistantV2.checkCredentials = function () {
    $.getJSON('watson-assistant-v2/vcap/')
      .done(function (service) {
        $('.credentials').toggle(!service);
      })
      .fail(function () {
        $('.credentials').show();
      })
      .always(function () {
        $('#credentials-check').hide();
      })
    }

  var oneditprepare = function() {
    assistantV2.UIListeners();
    assistantV2.checkCredentials()
  };

  (function() {
    RED.nodes.registerType('watson-assistant-v2', {
      category: 'IBM Watson',
      defaults: {
        name: { value: '' },
        'service-endpoint' : {value: ''},
        assistant_id: {value: ''},
        debug: {value: false},
        restart: {value: false},
        return_context: {value: true},
        alternate_intents: {value: false},
        multisession: {value: true},
        timeout: {value: '', validate: RED.validators.number(true)},
        'optout-learning': {value: false},
        'persist-session-id': {value: false}
      },
      credentials: {
        apikey: {type:'password'}
      },
      color: 'rgb(84,149,230)',
      inputs: 1,
      outputs: 1,
      paletteLabel: 'assistant V2',
      icon: 'conversation-v1-25x25.png',
      label: function() {
        return this.name || 'assistant V2';
      },
      labelStyle: function() {
        return this.name ? 'node_label_italic' : '';
      },
      oneditprepare: oneditprepare
    });
  })();
</script>
<script type="text/x-red" data-help-name="watson-assistant-v2">
  <p>With the IBM Watson Assistant V2 service you can create cognitive agents
     virtual agents that combine machine learning,
    natural language understanding, and integrated dialog scripting tools to
    provide outstanding customer engagements.</p>

    <p><b>Usage</b></p>
    <p>This node should be provided in input : </p>
    <ul>
    <li><code>msg.payload</code> : the message of the Assistant to analyse. Format: String </li>
    <li><code>msg.params.session_id</code> (optional): unique identifier for the conversation session.
      If this field is not provided then the node will generate a new session_id and
      return it as part of the response. If the node is not used in multi-session mode, then
      a session_id need not be provided, to reset the session_id in single-session mode
      send a null value as the session_id.
      Format: String </li>
    <li><code>msg.params.reset_session</code> (optional): Will force a session reset
      Format: Any </li>
    <li><code>msg.params.assistant_id</code> : unique identifier of the assistant to be used. Could be also configured in the node. Format: String </li>
    <li><code>msg.params.timeout</code> (optional): The timeout period (in millisecond) for Watson request. Leave empty or set to 0 to disable. </li>
    <li><code>msg.params.alternate_intents</code> (optional) : whether to return more than one intent. Default is false. Set to true to return all matching intents. For example, return all intents when the confidence is not high to allow users to choose their intent.</li>
    <li><code>msg.params.entities</code> (optional) : see API documentation </li>
    <li><code>msg.params.intents</code> (optional) : see API documentation </li>
    <li><code>msg.params.return_context</code> (optional) : see API documentation </li>
    <li><code>msg.params.debug</code> (optional) : see API documentation </li>
    <li><code>msg.params.restart</code> (optional) : see API documentation </li>
    <li><code>msg.additional_context</code> (optional) : additional properties that will be added to the context object. Format: Object </li>
    <br/>
    <li><code>msg.params.apikey</code> : If provided will be used as the api key credential for the Assistant service.</li>
    <li><code>msg.params.endpoint</code> : If provided will be used as the url for the Assistant service.</li>
    <li><code>msg.params.version</code> : If provided will be used as the API version date for the Assistant service.</li>
    <li><code>msg.params.optout_learning</code> : Set to true to opt out of request logging. Check the <a href="https://console.bluemix.net/docs/services/watson/getting-started-logging.html#controlling-request-logging-for-watson-services" target="_blank">documentation</a> for details.</li>
    <li><code>msg.params.persist_session_id</code> (optional) : Set to true to return session_id that was provided with request.</li>
    <li><code>msg.params.disable_ssl_verification</code> : Set to true to disable SSL verification. <b>Note that this has serious security implications - only do this if you really mean to!</b></li>
    <br/>
    <li><code>msg.params.customerId</code> (optional) : Set to associate a customer ID with the data.
      By specifying a customer ID, you indicate that it contains data that belongs to that customer.</li>
    </ul>
    <p>See <a href="https://cloud.ibm.com/apidocs/assistant-v2" target="_blank">Assistant V2 API documentation</a> for details.</p>
    <p>All Results will made available at <code>msg.payload</code> in JSON format.
      Check the  <a href="https://cloud.ibm.com/apidocs/assistant-v2"
      target="_blank">documentation</a> for details.</p>

    <p><b>Important</b> : before using this node, a workspace must be created and configured using the Watson Assistant Tool available in IBM Cloud, in the Watson Assistant instance detail page.</p>
    <p><b>Documentation</b>
    <ul>
    <li><a href="https://console.bluemix.net/docs/services/assistant/index.html" target="_blank">Watson Assistant API documentation</a></li>
    <li><a href="https://watson-api-explorer.mybluemix.net/apis/assistant-v1" target="_blank">Watson API Explorer</a></li>
    <li><a href="https://console.bluemix.net/docs/services/assistant/getting-started.html" target="_blank">Getting started tutorial</a>
    <li><a href="https://github.com/watson-developer-cloud/node-red-bluemix-starter" target="_blank">Sample Flow in the Watson Node-RED Starter</a>
    </ul>


</script></div><div><!-- --- [red-module:node-red-node-watson/watson-discovery-v1] --- -->
<!--
  Copyright 2016, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-discovery-v1">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/discovery/api">
    </div>

    <div class="form-row">
        <label for="node-input-discovery-method"><i class="fa fa-book"></i> Method: </label>
        <select type="text" id="node-input-discovery-method" style="display: inline-block; width: 70%;">
            <option value="query">Search in collection</option>
            <option value="queryNotices">Query Notices</option>
            <option disabled>______________</option>
            <option value="createEnvrionment">Create new environment</option>
            <option value="listEnvrionments">List existing environments</option>
            <option value="getEnvironmentDetails">Retrieve environment details</option>
            <option value="deleteEnvironment">Delete environment</option>
            <option disabled>______________</option>
            <option value="createCollection">Create new collection</option>
            <option value="listCollections">List existing collections</option>
            <option value="getCollectionDetails">Retrieve collection details</option>
            <option value="deleteCollection">Delete collection</option>
            <option disabled>______________</option>
            <option value="createConfiguration">Create new configuration</option>
            <option value="listConfigurations">List existing configurations</option>
            <option value="getConfigurationDetails">Retrieve configuration details</option>
            <option value="deleteConfiguration">Delete configuration</option>
            <option disabled>______________</option>
            <option value="listExpansions">Get expansion list for collection.</option>
            <option value="listTrainingData">Get training data for collection.</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-environmentname"><i class="fa fa-tag"></i> Environment Name</label>
        <input type="text" id="node-input-environmentname" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-environmentId"><i class="fa fa-tag"></i> Environment ID</label>
        <input type="text" id="node-input-environmentId" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-collection_name"><i class="fa fa-tag"></i> Collection Name</label>
        <input type="text" id="node-input-collection_name" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-collectionId"><i class="fa fa-tag"></i> Collection ID</label>
        <input type="text" id="node-input-collectionId" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-configurationname"><i class="fa fa-tag"></i> Configuration Name</label>
        <input type="text" id="node-input-configurationname" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-configurationId"><i class="fa fa-tag"></i> Configuration ID</label>
        <input type="text" id="node-input-configurationId" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-language_code"><i class="fa fa-language"></i> Language: </label>
        <select type="text" id="node-input-language_code" style="display: inline-block; width: 70%;">
            <option value="en">English</option>
            <option value="de">German</option>
            <option value="es">Spanish</option>
            <option value="ar">Arabic</option>
            <option value="fr">French</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="pt-br">Brazilian Portuguese</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-count"><i class="fa fa-tag"></i> Number of documents</label>
        <input type="text" id="node-input-count" placeholder="">
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-passages" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-passages" style="width: 70%;"> Passages</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-nlp_query" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-nlp_query" style="width: 70%;"> Query in Plain Language</label>
    </div>

    <div class="form-row">
        <label for="node-input-query"><i class="fa fa-tag"></i> Query for Search</label>
        <input type="text" id="node-input-query" placeholder="">
    </div>


    <div class="form-row">
        <label for="node-input-filter"><i class="fa fa-tag"></i> Filter for Search</label>
        <input type="text" id="node-input-filter" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-aggregation"><i class="fa fa-tag"></i> Aggregation for Search</label>
        <input type="text" id="node-input-aggregation" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-return"><i class="fa fa-tag"></i> List of sections to return</label>
        <input type="text" id="node-input-return" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-description"><i class="fa fa-tag"></i> Description</label>
        <input type="text" id="node-input-description" placeholder="Name">
    </div>
    <div class="form-row">
      <label for="node-input-size">Envrionment Size</label>
      <select type="text" id="node-input-size" style="display: inline-block; width: 70%;">
        <option value="LT">LT</option>
        <option value="XS">XS</option>
        <option value="S">S</option>
        <option value="MS">MS</option>
        <option value="M">M</option>
        <option value="ML">ML</option>
        <option value="L">L</option>
        <option value="XL">XL</option>
        <option value="XXL">XXL</option>
        <option value="XXXL">XXXL</option>
      </select>
    </div>

</script>



<script type="text/javascript">

    // Need to simulate a namespace, so that some of the variables don't leak across nodes
    function DiscoveryExperimentalV1 () {}

    // This is the namespace for this version of this Node.
    var disV1 = new DiscoveryExperimentalV1();

    //disV1.abc = 'abc';
    disV1.hideAll = function() {
      $('#node-input-environmentname').parent().hide();
      $('#node-input-environmentId').parent().hide();
      $('#node-input-collection_name').parent().hide();
      $('#node-input-collectionId').parent().hide();
      $('#node-input-configurationname').parent().hide();
      $('#node-input-configurationId').parent().hide();
      $('#node-input-language_code').parent().hide();
      $('#node-input-count').parent().hide();
      $('#node-input-passages').parent().hide();
      $('#node-input-nlp_query').parent().hide();
      $('#node-input-query').parent().hide();
      $('#node-input-filter').parent().hide();
      $('#node-input-aggregation').parent().hide();
      $('#node-input-return').parent().hide();
      $('#node-input-description').parent().hide();
      $('#node-input-size').parent().hide();
    };

    disV1.showSelectedFields = function(fields) {
      for (i = 0; i < fields.length; i++) {
        $(fields[i]).parent().show();
      }
    }

    disV1.processSelectedMethod = function(method) {
      disV1.hideAll();
      fields = [];
      switch (method) {
        case 'createEnvrionment':
          fields.push('#node-input-environmentname'
                          + ', #node-input-size'
                          + ', #node-input-description');
          break;
        case 'listEnvrionments':
          fields.push('#node-input-environmentname');
          break;
        case 'createCollection':
          fields.push('#node-input-environmentId'
                          + ', #node-input-configurationId'
                          + ', #node-input-language_code'
                          + ', #node-input-collection_name'
                          + ', #node-input-description');
          break;
        case 'listConfigurations':
        case 'getEnvironmentDetails':
        case 'listCollections':
        case 'deleteEnvironment':
          fields.push('#node-input-environmentId');
          break;
        case 'getCollectionDetails':
        case 'deleteCollection':
        case 'listExpansions':
        case 'listTrainingData':
          fields.push('#node-input-environmentId'
                          + ', #node-input-collectionId');
          break;
        case 'createConfiguration':
          fields.push('#node-input-environmentId'
                          + ', #node-input-configurationname');
          break;
        case 'getConfigurationDetails':
        case 'deleteConfiguration':
          fields.push('#node-input-environmentId'
                         + ', #node-input-configurationId');
          break;
        case 'query':
        case 'queryNotices':
          fields.push('#node-input-environmentId'
                         + ', #node-input-collectionId'
                         + ', #node-input-count'
                         + ', #node-input-passages'
                         + ', #node-input-nlp_query'
                         + ', #node-input-query'
                         + ', #node-input-filter'
                         + ', #node-input-aggregation'
                         + ', #node-input-return');
          break;
      }
      disV1.showSelectedFields(fields);
    }

    disV1.UIListeners = function () {
      $('#node-input-discovery-method').change(function(val){
        var method = $('#node-input-discovery-method').val();
        disV1.processSelectedMethod(method);
      });
    }

    disV1.checkForPrepare = function () {
      disV1.hideAll();
      disV1.UIListeners();
    };

    // This is the on edit prepare function, which will be invoked everytime the dialog is shown.
    function oneditprepare() {
      disV1.checkForPrepare();
      $.getJSON('watson-discovery/vcap/')
        .done(function (service) {
          $('.credentials').toggle(!service);
        })
        .fail(function () {
          $('.credentials').show();
        }).always(function () {
          $('#credentials-check').hide();
        })
    }

    (function() {
        RED.nodes.registerType('watson-discovery-v1', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                environmentname: {value: ''},
                environmentId: {value: ''},
                collectionId: {value: ''},
                configurationname: {value: ''},
                configurationId: {value: ''},
                language_code: {value: 'en'},
                collection_name: {value: ''},
                count: {value: '1'},
                passages: {value: 'false'},
                nlp_query: {value: 'false'},
                query: {value: ''},
                filter: {value: ''},
                aggregation: {value: ''},
                return: {value: ''},
                description: {value: ''},
                size: {value: 'LT'},
                'discovery-method': {value:'query'},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type:'password'}
            },
            color: 'rgb(230,140,80)',
            inputs: 1,
            outputs: 1,
            icon: 'discovery.png',
            paletteLabel: 'discovery',
            label: function() {
                return this.name || 'discovery';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: oneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-discovery-v1">
    <p>This is the Node for the V1 Watson Discovery service.</p>
    <p>The following methods are available:</p>
    <ul>
    <li>
        <p><b>Create New Environment</b><p>
        <p>For this method the node needs an Environment Name,
        Description and Environment Size as input.
        </p>
        <p>The name and description can be overridden by specifying
          in <code>msg.discoveryparams.environmentname</code>
          , <code>msg.discoveryparams.description</code>
          and <code>msg.discoveryparams.size</code>
        </p>
        <p>Node output : </p>
          <ul>
            <li><code>msg.environment</code> : Information about the
            newly created envrionment.</li>
          </ul>
    </li>
    <br/>
        <li>
            <p><b>List Existing Environments</b><p>
            <p>For this method the node does not need any input. If the envrionment name field is left blank
      it will list all envrionments created for the instance of the Discovery service.
      If the envrionment name is specified, then only the details for
      the Discovery envrionment with the specified name will be returned.
            </p>
            <p>The environment being requested can be overridden by specifying the search name
      in <code>msg.discoveryparams.environmentname</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.environments</code> : A list of the envrionments created under
              the Discovery service instance.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>Get Envrionment Details</b><p>
            <p>For this method the node needs an Environment ID as input.
            </p>
            <p>The environment being requested can be overridden by specifying the search id
      in <code>msg.discoveryparams.environmentId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.environment_details</code> : Details of the requested environment.</li>
              </ul>
        </li>
        <li>
            <p><b>Create New Collection</b><p>
            <p>For this method the node needs an Environment ID, Collection Name,
            Description, Configuration ID and Language Code as input.
            </p>
            <p>The fields can be overridden by specifying
              in <code>msg.discoveryparams.environmentId</code>
              , <code>msg.discoveryparams.collection_name</code>
              , <code>msg.discoveryparams.description</code>
              , <code>msg.discoveryparams.configurationId</code>
              and <code>msg.discoveryparams.language_code</code>
            </p>

            <p>Node output : </p>
              <ul>
                <li><code>msg.collection</code> : Information about the
                newly created collection.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>List Existing Collections</b><p>
            <p>For this method the node needs an Environment ID as input.</p>
            <p>The Environment ID for the collection list being requested can be overridden by specifying the search id
      in <code>msg.discoveryparams.environmentId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.collections</code> : A list of the collections created under
              the environment in the Discovery service instance.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>Get Collections Details</b><p>
            <p>For this methond the node needs an Environment ID and Collection ID as input.
            </p>
            <p>The collection being requested can be overridden by specifying the
            search ids in
            <code>msg.discoveryparams.environmentId</code>
            and <code>msg.discoveryparams.collectionId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.collection_details</code> : Details of the requested collection.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>List Existing Configurations</b><p>
            <p>For this method the node needs an Environment ID as input.</p>
            <p>and an optional Configuration name to show only the
               configuration with the given name.</p>
            <p>The Environment ID for the configuration list being requested can be
               overridden by specifying the environment id in
               <code>msg.discoveryparams.environmentId</code>
               The configuration name can be overridden by specifying the name inspect
               <code>msg.discoveryparams.configuration_name</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.configurations</code> : A list of the configurations
                  created under
                  the environment in the Discovery service instance.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>Get Configuration Details</b><p>
            <p>For this method node needs an Environment ID and Configuration ID as input.</p>
            <p>The Environment and Configuration IDs for the configuration being
               requested can be
               overridden by specifying the environment id in
               <code>msg.discoveryparams.environmentId</code>
               and the configuration id in
               <code>msg.discoveryparams.configurationId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.configuration_details</code> : Details the
                  requested configuration.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>Delete Configuration</b><p>
            <p>For this method node needs an Environment ID and Configuration ID as input.</p>
            <p>The Environment and Configuration IDs for the configuration being
               deleted can be
               overridden by specifying the environment id in
               <code>msg.discoveryparams.environmentId</code>
               and the configuration id in
               <code>msg.discoveryparams.configurationId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.configuration</code> : Details the
                  deleted configuration.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>List Expansions</b><p>
            <p>For this method the node needs an Environment ID and Collection ID as input.</p>
            <p>The Environment ID, and Collection ID for the collection list being requested can be overridden by specifying the search id
      in <code>msg.discoveryparams.environmentId</code>
      and in <code>msg.discoveryparams.collectionId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.expansions</code> : The current expansion list for the specified collection.
                  If an expansion list is not specified, an object with empty expansion arrays is returned.</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>List Training Data</b><p>
            <p>For this method the node needs an Environment ID and Collection ID as input.</p>
            <p>The Environment ID, and Collection ID for the collection list being requested can be overridden by specifying the search id
      in <code>msg.discoveryparams.environmentId</code>
      and in <code>msg.discoveryparams.collectionId</code>
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.trainingData</code> : Lists the training data for the specified collection</li>
              </ul>
        </li>
        <br/>
        <li>
            <p><b>Search in Collection</b><p>
            <p>For this method the node needs an Environment ID and Collection ID as input.
            </p>
            <p>The collection being requested can be overridden by specifying the
            search ids in
            <code>msg.discoveryparams.environmentId</code>
            and <code>msg.discoveryparams.collectionId</code>
            </p>
            <p>Optionally you can specify the number of documents to retrieve, a
               query to find the most relevant search results, whether to
               retrieve the most relevant passages,
               to limit the search results, an aggregation to return an
               exact result, and a comma separated list of the sections of the
               documents to return.</p>
            <p>The query being submitted can be overridden by specifying the
            query in <code>msg.discoveryparams.query</code>.
            </p>
            <p>The passages parameter can be overridden by specifying
            <code>msg.discoveryparams.passages</code>.
            </p>
            <p>Node output : </p>
              <ul>
                <li><code>msg.search_results</code> : Details of the requested collection.</li>
              </ul>
        </li>

        <li>
          <p><b>Query Notices</b><p>
          <p>Queries for notices (errors or warnings) that might have been generated by the system</p>
          <p>For this method the node needs an Environment ID and Collection ID as input.
          </p>
        </li>

    </ul>

    <p>For more information about the Discovery service,
    read the service <a href="https://console.bluemix.net/docs/services/discovery/index.html">documentation</a>.</p>

</script></div><div><!-- --- [red-module:node-red-node-watson/watson-discovery-v1-document-loader] --- -->
<!--
  Copyright 2016, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-discovery-v1-document-loader">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/discovery/api">
    </div>

    <div class="form-row">
        <label for="node-input-environmentId"><i class="fa fa-tag"></i> Environment ID</label>
        <input type="text" id="node-input-environmentId" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-collectionId"><i class="fa fa-tag"></i> Collection ID</label>
        <input type="text" id="node-input-collectionId" placeholder="">
    </div>
    <div class="form-row">
        <label for="node-input-filename"><i class="fa fa-tag"></i> Filename</label>
        <input type="text" id="node-input-filename" placeholder="">
    </div>

</script>



<script type="text/javascript">

    // Need to simulate a namespace, so that some of the variables don't leak across nodes
    function DiscoveryDocLoaderV1 () {}

    // This is the namespace for this version of this Node.
    var disdocV1 = new DiscoveryDocLoaderV1();

    disdocV1.UIListeners = function () {
    }

    disdocV1.checkForPrepare = function () {
      disdocV1.UIListeners();
    };

    // This is the on edit prepare function, which will be invoked everytime the dialog is shown.
    function oneditprepare() {
      disdocV1.checkForPrepare();
      $.getJSON('watson-discovery-docs/vcap/')
        .done(function (service) {
          $('.credentials').toggle(!service);
        })
        .fail(function () {
          $('.credentials').show();
        }).always(function () {
          $('#credentials-check').hide();
        })
    }

    (function() {
        RED.nodes.registerType('watson-discovery-v1-document-loader', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                environmentId: {value: ''},
                collectionId: {value: ''},
                filename: {value: ''},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type:'password'}
            },
            color: 'rgb(230,140,10)',
            inputs: 1,
            outputs: 1,
            icon: 'discovery.png',
            paletteLabel: 'discovery document loader',
            label: function() {
                return this.name || 'discovery document loader';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: oneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-discovery-v1-document-loader">
    <p>This is the document loader Node for the V1 Watson Discovery service.</p>
    <p>The node needs an Environment ID and Collection ID as input.
    </p>
    <p>If a filename is not provided then one is automatically generated</p>
    <p>The collection being written to can be overridden by specifying the
    search ids in
    <code>msg.discoveryparams.environmentId</code>
    , <code>msg.discoveryparams.collectionId</code>
    and <code>msg.discoveryparams.filename</code>
    </p>
    <p>The document to be added should be passed in as a data buffer
    in <code>msg.payload</code>
    </p>

    <p>For more information about the Discovery service,
    read the service <a href="https://console.bluemix.net/docs/services/discovery/index.html">documentation</a>.</p>

</script></div><div><!-- --- [red-module:node-red-node-watson/watson-discovery-v1-query-builder] --- -->
<!--
  Copyright 2016, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-discovery-v1-query-builder">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div id="credentials-not-found" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Could not bind to service.
            </b> This node can not be further configured without a valid service.
            Try entering valid credentials?
        </div>
    </div>
    <div id="something-went-wrong" class="form-row">
        <div class="form-tips">
            <div>
                <input disabled type="text" id="node-input-errorwarning"/>
            </div>
        </div>
    </div>


    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/discovery/api">
    </div>

    <div class="form-row">
        <label for="node-input-environment"><i class="fa fa-book"></i> Environment</label>
        <select type="text" id="node-input-environment" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-environmenthidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-collection"><i class="fa fa-book"></i> Collection</label>
        <select type="text" id="node-input-collection" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-collectionhidden"/>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-passages" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-passages" style="width: 70%;"> Passages</label>
    </div>
    <div>
        <input type="hidden" id="node-input-passageshidden"/>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-nlp_query" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-nlp_query" style="width: 70%;"> Query in Plain Language</label>
    </div>
    <div>
        <input type="hidden" id="node-input-nlp_queryhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-querynlp"><i class="fa fa-book"></i> NLP Query </label>
        <input type="text" id="node-input-querynlp" placeholder="">
    </div>
    <div>
        <input type="hidden" id="node-input-querynlphidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-query1"><i class="fa fa-book"></i> Query Key 1</label>
        <select type="text" id="node-input-query1" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
        <input type="text" id="node-input-queryvalue1" placeholder="">
    </div>
    <div>
        <input type="hidden" id="node-input-query1hidden"/>
        <input type="hidden" id="node-input-queryvalue1hidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-query2"><i class="fa fa-book"></i> Query Key 2</label>
        <select type="text" id="node-input-query2" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
        <input type="text" id="node-input-queryvalue2" placeholder="">
    </div>
    <div>
        <input type="hidden" id="node-input-query2hidden"/>
        <input type="hidden" id="node-input-queryvalue2hidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-query3"><i class="fa fa-book"></i> Query Key 3</label>
        <select type="text" id="node-input-query3" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
        <input type="text" id="node-input-queryvalue3" placeholder="">
    </div>
    <div>
        <input type="hidden" id="node-input-query3hidden"/>
        <input type="hidden" id="node-input-queryvalue3hidden"/>
    </div>

</script>



<script type="text/javascript">

    // Need to simulate a namespace, so that some of the variables don't leak across nodes
    function DiscoveryQueryBuilderV1 () {}

    // This is the namespace for this version of this Node.
    var disQB = new DiscoveryQueryBuilderV1();
    disQB.environments = null;
    disQB.collections = {};
    disQB.schemas = {};

    // Initially assume that we dont have credentials and that neither system
    // nor local set have been provided.
    disQB.have_credentials = false;
    disQB.using_local_credentials = true;

    disQB.environment_selected = $('#node-input-environmenthidden').val();
    disQB.collection_selected = $('#node-input-collectionhidden').val();
    disQB.query1_selected = $('#node-input-query1hidden').val();
    disQB.query2_selected = $('#node-input-query2hidden').val();
    disQB.query3_selected = $('#node-input-query3hidden').val();
    disQB.passages_selected = $('#node-input-passageshidden').val();
    disQB.nlp_query_selected = $('#node-input-nlp_queryhidden').val();

    // Nothing is to be shown unless the values to show in the listCollections
    // can be obtained from the service.
    disQB.hideAll = function() {
      $('#credentials-not-found').show();
      //disQB.hideSelectedFields(fields);
      $('#something-went-wrong').hide();
      $('#node-input-environment').parent().hide();
      $('#node-input-collection').parent().hide();
      $('#node-input-querynlp').parent().hide();
      $('#node-input-query1').parent().hide();
      $('#node-input-query2').parent().hide();
      $('#node-input-query3').parent().hide();
    };

    disQB.showSelectedFields = function(fields) {
      for (i = 0; i < fields.length; i++) {
        $(fields[i]).parent().show();
      }
    }

    disQB.hideSelectedFields = function(fields) {
      for (i = 0; i < fields.length; i++) {
        $(fields[i]).parent().hide();
      }
    }

    // Set up listeners for the select lists to determine if the subsequent
    // list boxes need refreshing. ie. A change in selected Envionment, needs
    // the collection list to be revised. A change in selected collection, needs
    // the schema lists to be revised.
    disQB.UIListeners = function () {

      $('#node-input-apikey').change(function(val){
        disQB.getCredentials();
      });

      $('#node-input-environment').change(function (val) {
        disQB.environment_selected = $('#node-input-environment').val();
        if (disQB.environment_selected &&
              !disQB.collectionCheck()) {
          disQB.getCollections();
        }
        else if (disQB.environment_selected) {
          disQB.populateCollections();
        }
      });

      $('#node-input-collection').change(function (val) {
        disQB.collection_selected = $('#node-input-collection').val();
        if (disQB.collection_selected &&
              !disQB.schemaCheck()) {
          disQB.getSchemas();
        }
        else if (disQB.collection_selected) {
          disQB.populateSchemas();
        }
      });

      $('#node-input-query1').change(function (val) {
        disQB.query1_selected = $('#node-input-query1').val();
      });

      $('#node-input-query2').change(function (val) {
        disQB.query2_selected = $('#node-input-query2').val();
      });

      $('#node-input-query3').change(function (val) {
        disQB.query3_selected = $('#node-input-query3').val();
      });

      $('input#node-input-nlp_query').change(function () {
          var checked = $('input#node-input-nlp_query').prop('checked');
          if (checked) {
            $('#node-input-querynlp').parent().show();
            $('#node-input-query1').parent().hide();
            $('#node-input-query2').parent().hide();
            $('#node-input-query3').parent().hide();
          } else {
            $('#node-input-querynlp').parent().hide();
            $('#node-input-query1').parent().show();
            $('#node-input-query2').parent().show();
            $('#node-input-query3').parent().show();
          }
      });

    }

    // The dialog is about to be shown.
    disQB.checkForPrepare = function () {
      disQB.hideAll();
      disQB.UIListeners();
    };

    // Search the cache for a collection
    disQB.collectionCheckForEnv = function (env) {
      var coll = null;
      if (disQB.collections && disQB.collections[env])
      {
        coll = disQB.collections[env];
      }
      return coll;
    }

    // Search the collection cache for the selected envrionment
    disQB.collectionCheck = function () {
      return disQB.collectionCheckForEnv(disQB.environment_selected);
    }

    // Search for a collection schema
    disQB.schemaCheckForCollection = function (coll) {
      var schema = null;
      if (disQB.schemas && disQB.schemas[coll])
      {
        schema = disQB.schemas[coll];
      }
      return schema;
    }

    // Search the schema cache for the selected collection.
    disQB.schemaCheck = function () {
      return disQB.schemaCheckForCollection(disQB.collection_selected);
    }

    // Fill up the Envrionment switch list
    disQB.populateEnvironments = function() {
      if (disQB.environments && disQB.environments.length) {
        $('select#node-input-environment').empty();

        disQB.environments.forEach(function(env) {
          var selectedText = '';
          if (disQB.environment_selected === env.environment_id) {
            selectedText = 'selected="selected"';
          }
          $('select#node-input-environment')
            .append('<option value='
                          + '"' + env.environment_id + '"'
                          + selectedText
                          + '>'
                          + env.name
                          + '</option>');
        });
        if (!disQB.collectionCheck()) {
          disQB.getCollections();
        }
      }
    };

    // Fill up the collection switch list
    disQB.populateCollections = function() {
      var coll = disQB.collectionCheck();
      if (coll && coll.length) {
        $('select#node-input-collection').empty();

        coll.forEach(function(c) {
          var selectedText = '';
          if (disQB.collection_selected === c.collection_id) {
            selectedText = 'selected="selected"';
          }
          $('select#node-input-collection')
            .append('<option value='
                          + '"' + c.collection_id + '"'
                          + selectedText
                          + '>'
                          + c.name
                          + '</option>');
        });
        if (!disQB.schemaCheck()) {
          disQB.getSchemas();
        }
      }
    };

    // Fill up the 3 schema switch lists
    disQB.populateSchemas = function() {
      var schema = disQB.schemaCheck();
      if (schema && schema.length) {
        $('select#node-input-query1').empty();
        $('select#node-input-query2').empty();
        $('select#node-input-query3').empty();

        schema.forEach(function(s) {
          var selected1Text = '';
          var selected2Text = '';
          var selected3Text = '';
          if (disQB.query1_selected === s) {
            selected1Text = 'selected="selected"';
          }
          if (disQB.query2_selected === s) {
            selected2Text = 'selected="selected"';
          }
          if (disQB.query3_selected === s) {
            selected3Text = 'selected="selected"';
          }
          $('select#node-input-query1')
            .append('<option value='
                          + '"' + s + '"'
                          + selected1Text
                          + '>'
                          + s
                          + '</option>');
          $('select#node-input-query2')
            .append('<option value='
                          + '"' + s + '"'
                          + selected2Text
                          + '>'
                          + s
                          + '</option>');
          $('select#node-input-query3')
            .append('<option value='
                          + '"' + s + '"'
                          + selected3Text
                          + '>'
                          + s
                          + '</option>');
        });
      }
    };


    // If we have a list of envrionments, then the
    // environment switch list can be shown.
    disQB.showEnvironments = function () {
      if (disQB.environments) {
        $('select#node-input-environment').parent().show();
        disQB.populateEnvironments();
      }
    }

    // If we have a collection for the envrionment, then the
    // collection switch list can be shown.
    disQB.showCollections = function () {
      if (disQB.collections && disQB.collectionCheck()) {
        $('select#node-input-collection').parent().show();
        disQB.populateCollections();
      }
    }

    // If we have a schema for the collection, then the
    // three query switch lists can be shown.
    disQB.showSchemas = function () {
      if (disQB.schemas && disQB.schemaCheck()) {
        var checked = $('input#node-input-nlp_query').prop('checked');
        if (!checked) {
          $('select#node-input-query1').parent().show();
          $('select#node-input-query2').parent().show();
          $('select#node-input-query3').parent().show();
        }
        disQB.populateSchemas();
      }
    }

    // Retrieve the available environments from the server, if data is returned, then
    // can enable the dynamic selection fields.
    disQB.getEnvironments = function () {
      var k = $('#node-input-apikey').val();

      var creds = {key: k};

      creds.endpoint = $('#node-input-service-endpoint').val();

      $.getJSON('watson-discovery-v1-query-builder/environments', creds
      ).done(function (data) {
        $('#something-went-wrong').hide();
        if (data.error) {
          $('#something-went-wrong').show();
          $('input#node-input-errorwarning').val(data.error);
        }
        else {
          $('#credentials-not-found').hide();
          disQB.environments = data;
          disQB.have_credentials = true;
          disQB.showEnvironments();
        }
      }).fail(function (err) {
        var txt = 'Got server error ';
        if (err.status) {
          txt += '(' + err.status + ') '
        }
        txt += 'when trying to retrieve available envrionments';
        $('#something-went-wrong').show();
        $('input#node-input-errorwarning').val(txt);
      }).always(function () {
      });
    }

    // Retrieve the available collections in the selected envrionment from the server,
    // if data is returned, then can enable the dynamic selection fields.
    disQB.getCollections = function () {
      var k = $('#node-input-apikey').val();

      var creds = {key: k};

      creds.endpoint = $('#node-input-service-endpoint').val();

      creds.environment_id = disQB.environment_selected;

      $.getJSON('watson-discovery-v1-query-builder/collections', creds
      ).done(function (data) {
        $('#something-went-wrong').hide();
        if (data.error) {
          $('#something-went-wrong').show();
          $('input#node-input-errorwarning').val(data.error);
        }
        else {
          disQB.collections[disQB.environment_selected] = data;
          disQB.showCollections();
        }
      }).fail(function (err) {
        var txt = 'Got server error ';
        if (err.status) {
          txt += '(' + err.status + ') '
        }
        txt += 'when trying to retrieve available collections';
        $('#something-went-wrong').show();
        $('input#node-input-errorwarning').val(txt);
      }).always(function () {
      });
    }

    // Retrieve the available collections in the selected envrionment from the server,
    // if data is returned, then can enable the dynamic selection fields.
    disQB.getSchemas = function () {
      var k = $('#node-input-apikey').val();

      var creds = {key: k};

      creds.endpoint = $('#node-input-service-endpoint').val();

      creds.environment_id = disQB.environment_selected;
      creds.collection_id = disQB.collection_selected;

      $.getJSON('watson-discovery-v1-query-builder/schemas', creds
      ).done(function (data) {
        $('#something-went-wrong').hide();
        if (data.error) {
          $('#something-went-wrong').show();
          $('input#node-input-errorwarning').val(data.error);
        }
        else {
          disQB.schemas[disQB.collection_selected] = data;
          disQB.showSchemas();
        }
      }).fail(function (err) {
        var txt = 'Got server error ';
        if (err.status) {
          txt += '(' + err.status + ') '
        }
        txt += 'when trying to retrieve available schemas for collection';
        $('#something-went-wrong').show();
        $('input#node-input-errorwarning').val(txt);
      }).always(function () {
      });
    }


    // Simple check that is only invoked if the service is not bound into bluemix.
    // In this case the user has to provide credentials. Once there are credentials,
    // then the discovery environments are retrieved.
    disQB.getCredentials = function () {
      var k = $('#node-input-apikey').val();

      if ( (k && k.length) ) {
        if (!disQB.environments) {
          disQB.getEnvironments();
        }
      }
    }

    // The dynamic nature of the selection fields in this node has caused problems.
    // Whenever there is a fetch for the models, on a page refresh or applicaiton
    // restart, the settings for the dynamic fields are lost.
    // So hidden (text) fields are being used to squirrel away the values, so that
    // they can be restored.
    disQB.restoreHidden = function () {
      disQB.environment_selected = $('#node-input-environmenthidden').val();
      $('#node-input-environment').val(disQB.environment_selected);

      disQB.collection_selected = $('#node-input-collectionhidden').val();
      $('#node-input-collection').val(disQB.collection_selected);

      disQB.querynlp_selected = $('#node-input-querynlphidden').val();
      $('#node-input-querynlp').val(disQB.querynlp_selected);

      disQB.query1_selected = $('#node-input-query1hidden').val();
      $('#node-input-query1').val(disQB.query1_selected);

      disQB.queryvalue1_selected = $('#node-input-queryvalue1hidden').val();
      $('#node-input-queryvalue1').val(disQB.queryvalue1_selected);

      disQB.query2_selected = $('#node-input-query2hidden').val();
      $('#node-input-query2').val(disQB.query2_selected);

      disQB.queryvalue2_selected = $('#node-input-queryvalue2hidden').val();
      $('#node-input-queryvalue2').val(disQB.queryvalue2_selected);

      disQB.query3_selected = $('#node-input-query3hidden').val();
      $('#node-input-query3').val(disQB.query3_selected);

      disQB.queryvalue3_selected = $('#node-input-queryvalue3hidden').val();
      $('#node-input-queryvalue3').val(disQB.queryvalue3_selected);

      disQB.passages_selected = $('#node-input-passageshidden').val();
      $('#node-input-passages').val(disQB.passages_selected);

      disQB.nlp_query_selected = $('#node-input-nlp_queryhidden').val();
      $('#node-input-nlp_query').val(disQB.nlp_query_selected);
    }


    // This is the on edit prepare function, which will be invoked everytime the dialog is shown.
    function disQBoneditprepare() {
      disQB.hideAll();
      disQB.restoreHidden();

      disQB.checkForPrepare();
      if (!disQB.have_credentials) {
        $.getJSON('watson-discovery-v1-query-builder/vcap/')
          .done(function (service) {
            $('.credentials').toggle(!service);
            // for some reason the getJSON resets the vars so need to restoreHidden again
            // so again.
            disQB.have_credentials = true;
            disQB.restoreHidden();
            if (!service) {
              // no bound service, so check local settings to see if they are valid
              disQB.using_local_credentials = true;
              disQB.getCredentials();
            } else {
              // credentials are only valid if we can get hold of the models using them
              disQB.using_local_credentials = false;
              if (!disQB.environments) {disQB.getEnvironments();}
            }
          })
          .fail(function () {
            $('.credentials').show();
          }).always(function () {
            $('#credentials-check').hide();
          })
      }
      // credentials can be set during the disQBoneditprepare process, so check again.
      if (disQB.have_credentials || disQB.using_local_credentials)
      {
        $('#credentials-check').hide();
        if (disQB.have_credentials) {
          $('#credentials-not-found').hide();
        }
        if (disQB.using_local_credentials) {
          $('.credentials').show();
        }
        disQB.showEnvironments();
        disQB.showCollections();
        disQB.showSchemas();
      }
    }

    // Save the values in the dyanmic lists to the hidden fields.
    function disQoneditsave(){
      disQB.environment_selected = $('#node-input-environment').val();
      $('#node-input-environmenthidden').val(disQB.environment_selected);

      disQB.collection_selected = $('#node-input-collection').val();
      $('#node-input-collectionhidden').val(disQB.collection_selected);

      disQB.querynlp_selected = $('#node-input-querynlp').val();
      $('#node-input-querynlphidden').val(disQB.querynlp_selected);

      disQB.query1_selected = $('#node-input-query1').val();
      $('#node-input-query1hidden').val(disQB.query1_selected);

      disQB.queryvalue1_selected = $('#node-input-queryvalue1').val();
      $('#node-input-queryvalue1hidden').val(disQB.queryvalue1_selected);

      disQB.query2_selected = $('#node-input-query2').val();
      $('#node-input-query2hidden').val(disQB.query2_selected);

      disQB.queryvalue2_selected = $('#node-input-queryvalue2').val();
      $('#node-input-queryvalue2hidden').val(disQB.queryvalue2_selected);

      disQB.query3_selected = $('#node-input-query3').val();
      $('#node-input-query3hidden').val(disQB.query3_selected);

      disQB.queryvalue3_selected = $('#node-input-queryvalue3').val();
      $('#node-input-queryvalue3hidden').val(disQB.queryvalue3_selected);

      disQB.passages_selected = $('#node-input-passages').val();
      $('#node-input-passageshidden').val(disQB.passages_selected);

      disQB.nlp_query_selected = $('#node-input-nlp_query').val();
      $('#node-input-nlp_queryhidden').val(disQB.nlp_query_selected);
    }

    (function() {
        RED.nodes.registerType('watson-discovery-v1-query-builder', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                apikey: {type:'password'},
                environment: {value: ''},
                environmenthidden: {value: ''},
                collection: {value: ''},
                collectionhidden: {value: ''},
                nlp_query: {value: 'true'},
                nlp_queryhidden: {value: 'true'},
                querynlp: {value: ''},
                querynlphidden: {value: ''},
                query1: {value: ''},
                query1hidden: {value: ''},
                queryvalue1: {value: ''},
                queryvalue1hidden: {value: ''},
                query2: {value: ''},
                query2hidden: {value: ''},
                queryvalue2: {value: ''},
                queryvalue2hidden: {value: ''},
                query3: {value: ''},
                query3hidden: {value: ''},
                queryvalue3: {value: ''},
                queryvalue3hidden: {value: ''},
                passages: {value: false},
                passageshidden: {value: false},
                'service-endpoint' :{value: ''}

            },
            credentials: {
            },
            color: "rgb(200,140,80)",
            inputs: 1,
            outputs: 1,
            icon: "discovery.png",
            paletteLabel: "discovery query builder",
            label: function() {
                return this.name || "discovery query builder";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: disQBoneditprepare,
            oneditsave: disQoneditsave
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-discovery-v1-query-builder">
    <p>This is the Query Builder Node for the V1 Watson Discovery service.</p>
    <p>Use this node upflow of a Watson Discovery Node to build the query to be used
    by the Discovery Node</p>

    <p>The node fetches the searchable fields in the collection and allows you to
      set upto 3 query search items.
    </p>
    <p>The output from the Node is an object in <code>msg.discoveryparams</code>
    that the Watson Discovery Node uses as override settings.
    </p>

    <p>For more information about the Discovery service,
    read the service <a href="https://console.bluemix.net/docs/services/discovery/index.html">documentation</a>.</p>

</script></div><div><!-- --- [red-module:node-red-node-watson/watson-discovery-v2-project-manager] --- -->
<!--
  Copyright 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-discovery-v2-project-manager">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/discovery/api">
    </div>

    <div class="form-row">
        <label for="node-input-discovery-method"><i class="fa fa-book"></i> Method: </label>
        <select type="text" id="node-input-discovery-method" style="display: inline-block; width: 70%;">
          <option disabled>______________</option>
          <option value="query">Run natural language query</option>
          <option value="querySearch">Run query search</option>
          <option disabled>______________</option>
          <option value="listProjects">List existing projects</option>
          <option value="createProject">Create new project</option>
          <option value="getProject">Retrieve project details</option>
          <option value="updateProject">Update project</option>
          <option value="deleteProject">Delete project</option>
          <option disabled>______________</option>
          <option value="listCollections">List existing collections</option>
          <option value="createCollection">Create new collection</option>
          <option value="getCollection">Retrieve collection details</option>
          <option value="updateCollection">Update collection</option>
          <option value="deleteCollection">Delete collection</option>
          <option disabled>______________</option>
          <option value="getComponentSettings">List component settings</option>
          <option disabled>______________</option>
          <option value="listTrainingQueries">List training queries</option>
          <option value="getTrainingQuery">Retrieve training query details</option>
          <option value="deleteTrainingQueries">Delete all training queries</option>
          <option value="deleteTrainingQuery">Delete a training query</option>
          <option disabled>______________</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-projectId"><i class="fa fa-tag"></i> Project ID</label>
        <input type="text" id="node-input-projectId" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-projectName"><i class="fa fa-tag"></i> Project Name</label>
        <input type="text" id="node-input-projectName" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-projectType"> Project Type: </label>
        <select type="text" id="node-input-projectType" style="display: inline-block; width: 70%;">
            <option value="document_retrieval">document_retrieval</option>
            <option value="conversational_search">conversational_search</option>
            <option value="content_intelligence">content_intelligence</option>
            <option value="content_mining">content_mining</option>
            <option value="other">other</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-collectionId"><i class="fa fa-tag"></i> Collection ID</label>
        <input type="text" id="node-input-collectionId" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-collectionName"><i class="fa fa-tag"></i> Collection Name</label>
        <input type="text" id="node-input-collectionName" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-queryId"><i class="fa fa-tag"></i> Query ID</label>
        <input type="text" id="node-input-queryId" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-description"><i class="fa fa-tag"></i> Description</label>
        <input type="text" id="node-input-description" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-language"><i class="fa fa-tag"></i> Language</label>
        <input type="text" id="node-input-language" placeholder="">
    </div>


</script>



<script type="text/javascript">

    // Need to simulate a namespace, so that some of the variables don't leak across nodes
    function DiscoveryExperimentalV1 () {}

    // This is the namespace for this version of this Node.
    var disV2pm = new DiscoveryExperimentalV1();


    disV2pm.hideAll = function() {
      $('#node-input-projectId').parent().hide();
      $('#node-input-projectName').parent().hide();
      $('#node-input-projectType').parent().hide();
      $('#node-input-collectionId').parent().hide();
      $('#node-input-collectionName').parent().hide();
      $('#node-input-description').parent().hide();
      $('#node-input-language').parent().hide();
      $('#node-input-queryId').parent().hide();
    };

    disV2pm.showSelectedFields = function(fields) {
      for (let i = 0; i < fields.length; i++) {
        $(fields[i]).parent().show();
      }
    }

    disV2pm.processSelectedMethod = function(method) {
      disV2pm.hideAll();
      let fields = [];

      switch (method) {
        case 'getProject':
        case 'deleteProject':
        case 'listCollections':
        case 'getComponentSettings':
        case 'listTrainingQueries':
        case 'deleteTrainingQueries':
        case 'query':
        case 'querySearch':
          fields.push('#node-input-projectId');
          break;
        case 'createProject':
          fields.push('#node-input-projectName');
          fields.push('#node-input-projectType');
          break;
        case 'updateProject':
          fields.push('#node-input-projectId');
          fields.push('#node-input-projectName');
          break;
        case 'getCollection':
        case 'deleteCollection':
          fields.push('#node-input-projectId');
          fields.push('#node-input-collectionId');
          break;
        case 'updateCollection':
          fields.push('#node-input-collectionId');
          // deliberate no break;
        case 'createCollection':
          fields.push('#node-input-projectId');
          fields.push('#node-input-collectionName');
          fields.push('#node-input-description');
          fields.push('#node-input-language');
          break;
        case 'getTrainingQuery':
        case 'deleteTrainingQuery':
          fields.push('#node-input-projectId');
          fields.push('#node-input-queryId');
          break;
      }

      disV2pm.showSelectedFields(fields);
    }

    disV2pm.UIListeners = function () {
      $('#node-input-discovery-method').change(function(val){
        var method = $('#node-input-discovery-method').val();
        disV2pm.processSelectedMethod(method);
      });
    }

    disV2pm.checkForPrepare = function () {
      disV2pm.hideAll();
      disV2pm.UIListeners();
    };

    // This is the on edit prepare function, which will be invoked everytime the dialog is shown.
    function oneditprepare() {
      disV2pm.checkForPrepare();
      $.getJSON('watson-discovery-v2-pm/vcap/')
        .done(function (service) {
          $('.credentials').toggle(!service);
        })
        .fail(function () {
          $('.credentials').show();
        }).always(function () {
          $('#credentials-check').hide();
        })
    }

    (function() {
        RED.nodes.registerType('watson-discovery-v2-project-manager', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                projectId: {value: ''},
                projectName: {value: ''},
                collectionName: {value: ''},
                description: {value: ''},
                language: {value: 'en'},
                projectType: {value: 'document_retrieval'},
                collectionId: {value: ''},
                queryId: {value: ''},
                'discovery-method': {value:'query'},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type:'password'}
            },
            color: 'rgb(200,100,80)',
            inputs: 1,
            outputs: 1,
            icon: 'discovery.png',
            paletteLabel: 'discovery V2',
            label: function() {
                return this.name || 'discovery V2';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: oneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-discovery-v2-project-manager">
    <p>This is the Node for the V2 Watson Discovery service.</p>
    <p>The following methods are available:</p>
    <ul>

    <li>
      <p><b>Natural Language Query and Query Search</b><p>
      <p>For these method the node needs project Id input.
      </p>
      <p><code>msg.payload</code> is used as the query.
      </p>
      <p>The project being requested can be overridden by specifying
        the id in <code>msg.discoveryparams.projectId</code>.
      </p>
      <p>Additional query parameters can be set by
        adding to  <code>msg.discoveryparams</code> eg.
        <code>msg.discoveryparams.collectionIds</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Response for the input query.</li>
        </ul>
    </li>

    <br/>
    <li>

    <p><b>List Existing Projects</b><p>
    <p>For this method the node does not need any input.
    </p>
    <p>Node output : </p>
      <ul>
        <li><code>msg.projects</code> : A list of the projects created under
      the Discovery service instance.</li>
      </ul>
    </li>

    <br/>

    <li>
      <p><b>Retrieve project details</b><p>
      <p>For this method the node needs project Id as input.
      </p>
      <p>The project being requested can be overridden by specifying
        the search id in <code>msg.discoveryparams.projectId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the requested project.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Create new project</b><p>
      <p>For this method the node needs project name and type as input.
      </p>
      <p>The name and type can be overridden by specifying
        the <code>msg.discoveryparams.projectName</code>
        and <code>msg.discoveryparams.projectType</code>
      </p>
      <p>The default query parameters for the project can be set by
        specifying <code>msg.discoveryparams.defaultQueryParameters</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the new project.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Update Project</b><p>
        <p>For this method the node needs project Id and name as input.
        </p>
        <p>The name and Id can be overridden by specifying
          the <code>msg.discoveryparams.projectId</code>
          and <code>msg.discoveryparams.projectName</code>
        </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the updated project.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Delete Project</b><p>
        <p>For this method the node needs project Id as input.
        </p>
        <p>The Id can be overridden by specifying
          the <code>msg.discoveryparams.projectId</code>
        </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : result of the delete request.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>List Collections</b><p>
      <p>For this method the node needs project Id as input.
      </p>
      <p>The project Id can be overridden by specifying
        the search id in <code>msg.discoveryparams.projectId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.collections</code> : List of collections in the project.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Create new collection</b><p>
      <p>For this method the node needs project id, and collection name.
        Optional inputs are
        description and language as input.
      </p>
      <p>The project id, collection name, description and language
        can be overridden by specifying
        the <code>msg.discoveryparams.projectId</code> ,
        <code>msg.discoveryparams.collectionName</code> ,
        <code>msg.discoveryparams.description</code>
        and <code>msg.discoveryparams.language</code>
      </p>
      <p>Any enrichments for the collection can be set by
        specifying <code>msg.discoveryparams.enrichments</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the new collection.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Update collection</b><p>
      <p>For this method the node needs project id, collection id.
        Optional inputs are collection name,
        description and language as.
      </p>
      <p>The project id, collection id, collection name, description and language
        can be overridden by specifying
        the <code>msg.discoveryparams.projectId</code> ,
        <code>msg.discoveryparams.collectionId</code> ,
        <code>msg.discoveryparams.collectionName</code> ,
        <code>msg.discoveryparams.description</code>
        and <code>msg.discoveryparams.language</code>
      </p>
      <p>Any enrichments for the collection can be set by
        specifying <code>msg.discoveryparams.enrichments</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the updated collection.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Delete Collection</b><p>
        <p>For this method the node needs project Id and collection Id as input.
        </p>
        <p>The Ids can be overridden by specifying
          <code>msg.discoveryparams.projectId</code> and
          <code>msg.discoveryparams.collectionId</code>
        </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : result of the delete request.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>List component settings</b><p>
      <p>For this method the node needs project Id as input.
      </p>
      <p>The project being searched can be overridden by specifying
        the id in <code>msg.discoveryparams.projectId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the component settings.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>List Training Queries</b><p>
      <p>For this method the node needs project Id as input.
      </p>
      <p>The project Id can be overridden by specifying
        the id in <code>msg.discoveryparams.projectId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.queries</code> : List of training queries in the project.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Get Training Query</b><p>
      <p>For this method the node needs project Id and query Id as input.
      </p>
      <p>The Ids can be overridden by specifying
         <code>msg.discoveryparams.projectId</code>
         and <code>msg.discoveryparams.queryId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Details of the requested training query.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Delete all Training Queries</b><p>
      <p>For this method the node needs project Id as input.
      </p>
      <p>The project Id can be overridden by specifying
        the id in <code>msg.discoveryparams.projectId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Result of the delete request.</li>
        </ul>
    </li>

    <br/>

    <li>
      <p><b>Delete Training Query</b><p>
      <p>For this method the node needs project Id and query Id as input.
      </p>
      <p>The Ids can be overridden by specifying
         <code>msg.discoveryparams.projectId</code>
         and <code>msg.discoveryparams.queryId</code>
      </p>
      <p>Node output : </p>
        <ul>
          <li><code>msg.discovery_response</code> : Result of the delete request.</li>
        </ul>
    </li>

    </ul>

    <p>For more information about the Discovery service,
    read the service <a href="https://cloud.ibm.com/docs/discovery-data">documentation</a>.</p>

</script></div><div><!-- --- [red-module:node-red-node-watson/watson-language-translator-v3] --- -->
<!--
  Copyright 2013,2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-translator">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div id="credentials-not-found" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Could not bind to service. </b> This node can not be further configured without a valid service. Try entering valid credentials?
        </div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name"/>
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/language-translator/api">
    </div>

    <div class="form-row">
        <label for="node-input-action"><i class="fa fa-cog"></i> Mode</label>
        <select type="text" id="node-input-action" style="display: inline-block; vertical-align:middle; width: 70%;">
            <option value="translate">Translate</option>
            <option value="custom">Customised Translate</option>
            <option value="train">Train</option>
            <option value="listcustom">List Customised Models</option>
            <option value="listdefault">List Default Models</option>
            <option value="getstatus">Get status</option>
            <option value="delete">Delete</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-domain"><i class="fa fa-book"></i> Domains</label>
        <select type="text" id="node-input-domain" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>

    <div>
        <input type="hidden" id="node-input-domainhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-custom"><i class="fa fa-book"></i> Customised Model</label>
        <select type="text" id="node-input-custom" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>

    <div>
        <input type="hidden" id="node-input-customhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-srclang"><i class="fa fa-comments-o"></i> Source</label>
        <select type="text" id="node-input-srclang" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-srclanghidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-destlang"><i class="fa fa-comments-o"></i> Target</label>
        <select type="text" id="node-input-destlang" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-destlanghidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-basemodel"><i class="fa fa-book"></i> Base model</label>
        <select type="text" id="node-input-basemodel" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-basemodelhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-filetype"><i class="fa fa-book"></i> File type</label>
        <select type="text" id="node-input-filetype" style="display: inline-block; vertical-align:middle; width: 70%;">
            <option value="forcedglossary" selected="selected">Forced glossary</option>
            <option value="parallelcorpus">Parallel corpus</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-trainid"><i class="fa fa-tag"></i> Model ID</label>
        <input type="text" id="node-input-trainid" placeholder="Model ID">
    </div>

    <div class="form-row">
       <label for="node-input-lgparams2"><i class="fa fa-cog"></i> Parameters Scope</label>
       <input type="checkbox" id="node-input-lgparams2" style="display: inline-block; width: auto; vertical-align: top;">
       <label for="node-input-lgparams2" style="width: 70%;"> Not using translation utility</label>
    </div>

    <div class="form-tips" id="languagetranslation-form-tips">
      <strong>Note:</strong> When <strong>not</strong> using the languge translation
      utility to set credentials then
      'Not using translation utility' must be checked, else credentials
      will not be found.<br>
    </div>

</script>



<script type="text/javascript">
  // Need to simulate a namespace, so that some of the variables don't leak across nodes
  function Translator () {
  }

  // This is the namespace for tts.
  var tor = new Translator();

  tor.models = null;
  tor.domains = null;
  tor.basemodels = null;
  tor.custommodels = null;
  tor.domain_type;
  tor.have_credentials = false;
  tor.using_local_credentials = false;
  tor.using_local_parameters2 = false;
  tor.using_gloabal_parameters2 = false;

  tor.action = $('#node-input-action').val();
  tor.domain_selected = $('#node-input-domainhidden').val();
  tor.custom_selected = $('#node-input-customhidden').val();
  tor.srclang_selected = $('#node-input-srclanghidden').val();
  tor.destlang_selected = $('#node-input-destlanghidden').val();
  tor.base_model_selected = $('#node-input-basemodelhidden').val();

  tor.LANGUAGES = { 'ar' : 'Arabic',
                    'arz': 'Spoken Arabic',
                    'eu' : 'Basque',
                    'bn' : 'Bengali',
                    'bs' : 'Bosnian',
                    'bg' : 'Bulgarian',
                    'CA-en' : 'Canadian English',
                    'ca' : 'Catalan',
                    'cs' : 'Czech',
                    'da' : 'Danish',
                    'el' : 'Greek',
                    'en' : 'English',
                    'es' : 'Spanish',
                    'et' : 'Estonian',
                    'fr' : 'French',
                    'fr-CA' : 'French Canadian',
                    'fi' : 'Finnish',
                    'ga' : 'Galican',
                    'gu' : 'Gujarati',
                    'he' : 'Hebrew',
                    'hi' : 'Hindi',
                    'hr' : 'Croatian',
                    'hu' : 'Hungarian',
                    'id' : 'Indonesian',
                    'it' : 'Italian',
                    'de' : 'German',
                    'ja' : 'Japanese',
                    'kn' : 'Kannada',
                    'lv' : 'Latvian',
                    'lt' : 'Lithuanian',
                    'mr' : 'Marathi',
                    'ms' : 'Malay',
                    'ml' : 'Malayalam',
                    'mt' : 'Maltese',
                    'cnr' : 'Montenegrin',
                    'ne' : 'Nepali',
                    'pa' : 'Punjabi',
                    'pt' : 'Portuguese',
                    'ko' : 'Korean',
                    'nb' : 'Norwegian Bokml',
                    'nl' : 'Dutch',
                    'pl' : 'Polish',
                    'ro' : 'Romanian',
                    'ru' : 'Russian',
                    'sr' : 'Serbian',
                    'si' : 'Sinhalese',
                    'sk' : 'Slovak',
                    'sl' : 'Slovenian',
                    'sv' : 'Swedish',
                    'ta' : 'Tamil',
                    'te' : 'Telugu',
                    'th' : 'Thai',
                    'tr' : 'Turkish',
                    'uk' : 'Ukrainian',
                    'ur' : 'Urdu',
                    'vi' : 'Vietnamese',
                    'cy' : 'Welsh',
                    'zh' : 'Chinese',
                    'zh-TW' : 'Taiwanese',
                    'zht' : 'Traditional Chinese'
                  };

  // convert an id in the form it-ko into Italian - Korean for display
  tor.changeIdToText = function (id) {
    var txt = "";
    var langs = id.split('-');
    var first = true;

    langs.forEach(function(language){
      txt += (tor.LANGUAGES[language] ? tor.LANGUAGES[language] : language);
      if (first) {
        txt += ' - ';
        first = false;
      }
    })
    return txt;
  }

  // Function to be used at the start, as don't want to expose any fields, unless the model is
  // available. The model it self can only be fetched if the credentials are available.
  tor.hideAll = function () {
    if (!tor.models) {
        $('#credentials-not-found').show();
        $('#node-input-action').parent().hide();
        $('select#node-input-srclang, select#node-input-destlang').parent().hide();
        $('select#node-input-domain').parent().hide();
        $('select#node-input-custom').parent().hide();
        $('select#node-input-basemodel').parent().hide();
        $('select#node-input-filetype').parent().hide();
        $('input#node-input-trainid').parent().hide();
        $('input#node-input-lgparams2').parent().hide();
        $('#languagetranslation-form-tips').show();
    }
  }

  // If we have models, then certain fields can be shown.
  // this is invoked in the process tha obtains the models, which may be
  // after the dialog is shown.
  // ie. all the fields are initially hidden, but once the credentials are valid and
  // the model has been retrieved then this function is invoked to update what fields
  // are shown without the user having to close the dialog.
  // Problem is that the onchange is only invoked when the user tabs to another field.
  tor.checkVisibility = function () {
    if (tor.models) {
      $('#node-input-action').parent().show();
      tor.checkActionSelected();
    }
  }

  // sorting functions
  tor.checkUnique = function (value, index, self) {
    return self.indexOf(value) === index;
  }


  // Retrieve the available models from the server, if data is returned, then
  // can enable the dynamic selection fields.
  tor.checkModels = function () {
    var k = $('#node-input-apikey').val();
    var e = $('#node-input-service-endpoint').val();
    var creds = {key: k};

    creds.e = e;

    $.getJSON('watson-translator/models/', creds)
    .done(function (data) {
      if (data.models) {
        tor.models = data.models;
        tor.have_credentials = true;
        tor.checkVisibility();
      }
    }).fail(function (err) {
      console.log(err);
    }).always(function () {});
  }

  // Simple check that is only invoked if the service is not bound into bluemix. In this case the
  // user has to provide credentials. Once there are credentials, then the models are retrieved.
  tor.getCredentials = function () {
    var k = $('#node-input-apikey').val();

    if ( (k && k.length) ) {
      if (!tor.models) {
        tor.checkModels();
        if (tor.models) {$('#node-input-action').parent().show(); }
      }
    } else if (!tor.models) {
      $('#node-input-action').parent().hide();
    }
  }

  // function that is called when the domain or the source language is changed. In this case the
  // destination language selection field is dynamically repopulated, and reselected if the
  // previously selection is still in the new list.
  tor.langDestAvailable = function () {
    if (!tor.domain_type) { return; }

    var pair_lang = tor.domain_type.map(function (a) {
      return a.model_id;
    });

    // need to do an exact source language match to allow for variations
    // like ar and arz. if the input is ar, then don't want it to match with arz
    var available_destlang = pair_lang.filter(function (model_id) {
      return model_id.match('^' + tor.srclang_selected + '-');
    });

    // Flush out the list first
    $('select#node-input-destlang').empty();

    available_destlang.sort();

    available_destlang.forEach(function (val) {
      // can now have languages like zh-TW, so simple split on -
      // no longer works.
      // var lang = val.split('-')[1];
      let lang = val.replace(tor.srclang_selected + '-', '');

      var selectedText = '';
      if (tor.destlang_selected === lang) {
        selectedText = 'selected="selected"';
      }
      $('select#node-input-destlang')
        .append('<option value='
                      + '"' + lang + '"'
                      + selectedText
                      + '>'
                      + (tor.LANGUAGES[lang] ? tor.LANGUAGES[lang] : lang)
                      + '</option>');
    });
    tor.destlang_selected = $('#node-input-destlang').val();
  }

  // Populates the domains selection field.
  // If domains have already been retrieved then no need to refetch them.
  tor.checkDomains = function () {
    if (!tor.domains) {
      tor.domains = tor.models.map(function (a) {
        return a.domain;
      });
    }
    if (tor.domains && tor.domains.length) {
      $('select#node-input-domain').empty();
      var unique_domains = tor.domains.filter(tor.checkUnique);

      unique_domains.forEach(function(domain) {
        var selectedText = '';
        if (tor.domain_selected === domain) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-domain')
          .append('<option value='
                        + '"' + domain + '"'
                        + selectedText
                        + '>'
                        + domain.charAt(0).toUpperCase()
                        + domain.slice(1)
                        + '</option>');
      });

    tor.checkDomainSelected();
    }
  }

  tor.modelcompare = function(a, b) {
    let result = 0;
    if (a.model_id && b.model_id) {
      if (a.model_id > b.model_id) {
        result = 1;
      } else if (a.model_id < b.model_id) {
        result = -1;
      }
    }
    return result;
  }

  // Populates the base model field. These are the models that are available to be customised.
  tor.checkBaseModels = function () {
    if (!tor.basemodels && tor.models) {
      tor.basemodels = tor.models.filter(function (model) {
        return model.customizable === true;
      });
      tor.basemodels.sort(tor.modelcompare);
    }
    if (tor.basemodels) {
      $('select#node-input-basemodel').empty();
      tor.basemodels.forEach(function(base_model){
        var selectedText = '';
        if (tor.base_model_selected === base_model.model_id) {
            selectedText = 'selected="selected"';
        }
        $('select#node-input-basemodel')
            .append('<option value='
                          + '"' + base_model.model_id + '"'
                          + selectedText
                          + '>'
                          + tor.changeIdToText(base_model.model_id)
                          + '</option>');
      });
    }
  }

  // Populates the customised models field. These are the models that have been
  // customised. This control needs to be refreshed. Currently the only that that
  // will happen is by a page refresh. Need to have a trigger everytime the create
  // new model is triggerd, but that is a little complicated and needs to be done on
  // a clear mind.
  tor.checkCustomsAvailable = function () {
    if (!tor.custommodels && tor.models) {
      tor.custommodels = tor.models.filter(function (m) {
        return (m.base_model_id && ('' != m.base_model_id));
      });
    }
    if (tor.custommodels) {
      $('select#node-input-custom').empty();

      tor.custommodels.forEach(function(m){
        var selectedText = '';
        if (tor.custom_selected === m.model_id) {
            selectedText = 'selected="selected"';
        }
        $('select#node-input-custom')
            .append('<option value='
                        + '"' + m.model_id + '"'
                        + selectedText
                        + '>'
                        + m.model_id
                        + ' (' + m.domain + ' ' + m.base_model_id + ' ' + m.name + ')'
                        + '</option>');

      });
    }
  }


  // UI Handler for the Mode / switch.
  // Princliple function is to show / hide the appropriate fields.
  tor.checkActionSelected = function () {
    tor.action = $('#node-input-action').val();
    if (tor.models) {
      $('#credentials-not-found').hide();
      switch (tor.action) {
        case 'translate':
          $('select#node-input-srclang, select#node-input-destlang').parent().show();
          $('select#node-input-domain').parent().show();
          $('select#node-input-custom').parent().hide();
          $('select#node-input-basemodel, select#node-input-filetype').parent('').hide();
          $('input#node-input-trainid').parent('').hide();
          $('input#node-input-lgparams2').parent().show();
          $('#languagetranslation-form-tips').show();
          break;
        case 'custom':
          $('select#node-input-custom').parent().show();
          $('select#node-input-srclang, select#node-input-destlang').parent().hide();
          $('select#node-input-domain').parent().hide();
          $('select#node-input-basemodel, select#node-input-filetype').parent('').hide();
          $('input#node-input-trainid').parent('').hide();
          $('input#node-input-lgparams2').parent().show();
          $('#languagetranslation-form-tips').show();
          break;
        case 'train':
          $('select#node-input-custom').parent().hide();
          $('select#node-input-srclang, select#node-input-destlang').parent().hide();
          $('select#node-input-domain').parent().hide();
          $('select#node-input-basemodel, select#node-input-filetype').parent('').show();
          $('input#node-input-trainid').parent('').hide();
          $('input#node-input-lgparams2').parent().show();
          $('#languagetranslation-form-tips').show();
          break;
        case 'getstatus':
        case 'delete':
          $('select#node-input-custom').parent().hide();
          $('input#node-input-trainid').parent('').show();
          $('select#node-input-srclang, select#node-input-destlang').parent().hide();
          $('select#node-input-domain').parent().hide();
          $('select#node-input-basemodel, select#node-input-filetype').parent('').hide();
          $('input#node-input-lgparams2').parent().show();
          $('#languagetranslation-form-tips').show();
          break;
        case 'listcustom':
        case 'listdefault':
          $('select#node-input-custom').parent().hide();
          $('input#node-input-trainid').parent('').hide();
          $('select#node-input-srclang, select#node-input-destlang').parent().hide();
          $('select#node-input-domain').parent().hide();
          $('select#node-input-basemodel, select#node-input-filetype').parent('').hide();
          $('input#node-input-lgparams2').parent().hide();
          $('#languagetranslation-form-tips').show();
      }
      tor.checkDomains();
      tor.checkBaseModels();
      tor.checkCustomsAvailable();
    } else {
      $('#credentials-not-found').show();
    }
  }

  // UI Handler for the Parameter scope switch: Local or Global
//  tor.checkParamScopeSelected = function (){
//    // Checkbox control
//    tor.lg_parameters_selected2 = $('input#node-input-lgparams2').prop('checked');
//    if (checked) {
//      tor.using_gloabal_parameters2 = true;
//      tor.using_local_parameters2 = false;
//    } else {
//      tor.using_gloabal_parameters2 = false;
//      tor.using_local_parameters2 = true;
//    }
//  }


  // UI Handler for the domain switch
  // Repopulate the source and languages based on the available translations for the domain
  tor.checkDomainSelected = function (){
    $('#node-input-srclang').empty();
    $('#node-input-destlang').empty();
    if (tor.models && tor.domains) {
      tor.domain_selected = $('#node-input-domain').val();
      tor.domain_type = tor.models.filter(function (model) {
        return model.domain === tor.domain_selected && model.status === 'available';
      });
      var input_lang = tor.domain_type.map(function (a) {
        return a.source;
      });
      var output_lang = tor.domain_type.map(function (a) {
        return a.target;
      });

      input_lang_unique = input_lang.filter(tor.checkUnique);
      output_lang_unique = output_lang.filter(tor.checkUnique);

      // Flush out the List before repopulating it.
      $('select#node-input-srclang').empty();
      input_lang_unique.sort();

      input_lang_unique.forEach(function(lang){
        var selectedText = '';
        if (tor.srclang_selected === lang) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-srclang')
          .append('<option value='
                        + '"' + lang + '"'
                        + selectedText
                        + '>'
                        + (tor.LANGUAGES[lang] ? tor.LANGUAGES[lang] : lang)
                        + '</option>');
      });
      // Having repopulated the input language selection, the old selected item
      // may no longer be in the list, so refresh it.
      tor.srclang_selected = $('#node-input-srclang').val();
      tor.langDestAvailable();
    }
  }


  // Register the handlers for the fields
  tor.UIListeners = function () {
    $('#node-input-apikey').change(function(val){
      tor.getCredentials();
      if (tor.have_credentials) {
        tor.checkActionSelected();
      }
    });

    $('#node-input-action').change(function(val){
      tor.action = $('#node-input-action').val();
      tor.checkActionSelected();
    });

    $('#node-input-domain').change(function (val) {
      tor.domain_selected = $('#node-input-domain').val();
      tor.checkDomainSelected();
    });

    $('#node-input-custom').change(function () {
      tor.custom_selected = $('#node-input-custom').val();
    });

    $('#node-input-srclang').change(function () {
      tor.srclang_selected = $('#node-input-srclang').val();
      tor.langDestAvailable();
    });

    $('#node-input-destlang').change(function () {
      tor.destlang_selected = $('#node-input-destlang').val();
    });

    $('#node-input-basemodel').change(function (val) {
      tor.base_model_selected = $('#node-input-basemodel').val();
    });
  }

  // The dynamic nature of the selection fields in this node has caused problems.
  // Whenever there is a fetch for the models, on a page refresh or applicaiton
  // restart, the settings for the dynamic fields are lost.
  // So hidden (text) fields are being used to squirrel away the values, so that
  // they can be restored.
  tor.restoreHidden = function () {
    tor.domain_selected = $('#node-input-domainhidden').val();
    $('select#node-input-domain').val(tor.domain_selected);
    tor.srclang_selected = $('#node-input-srclanghidden').val();
    $('select#node-input-srslang').val(tor.srclang_selected);
    tor.destlang_selected = $('#node-input-destlanghidden').val();
    $('select#node-input-destlang').val(tor.destlang_selected);

    tor.base_model_selected = $('#node-input-basemodelhidden').val();
    $('select#node-input-basemodel').val(tor.base_model_selected);
    tor.custom_selected = $('#node-input-customhidden').val();
    $('select#node-input-custom').val(tor.custom_selected);

  }

  // This is the on edit prepare function, which will be invoked everytime the dialog is shown.
  function oneditprepare() {
    tor.hideAll();
    tor.restoreHidden();

    tor.UIListeners();
    // Look for VCAP Json file, done is called if found or not, with service indicating
    // if the translation service is actually bound into this application.
    if (!tor.have_credentials) {
      $.getJSON('watson-translator/vcap/')
        .done(function (service) {
          // for some reason the getJSON resets the vars so need to restoreHidden again
          // so again.
          tor.restoreHidden();
          $('.credentials').toggle(!service);
          if (!service) {
            // no bound service, so check local settings to see if they are valid
            tor.using_local_credentials = true;
            tor.getCredentials();
          } else {
            // credentials are only valid if we can get hold of the models using them
            tor.using_local_credentials = false;
            if (!tor.models) {tor.checkModels();}
          }
        }).fail(function () {
          $('.credentials').show();
        }).always(function () {
          $('#credentials-check').hide();
        });
    }
    // credentials can be set during the oneditprepare process, so check again.
    if (tor.have_credentials || tor.using_local_credentials)
    {
      $('#credentials-check').hide();
      if (tor.have_credentials) {
        $('#credentials-not-found').hide();
      }
      if (tor.using_local_credentials) {
        $('.credentials').show();
      }
      tor.checkActionSelected();
    }
  }

  // Save the values in the dyanmic lists to the hidden fields.
  function oneditsave(){
    $('#node-input-domainhidden').val(tor.domain_selected);
    $('#node-input-srclanghidden').val(tor.srclang_selected);
    $('#node-input-destlanghidden').val(tor.destlang_selected);
    $('#node-input-basemodelhidden').val(tor.base_model_selected);
    $('#node-input-customhidden').val(tor.custom_selected);
  }

  // Define and run the function to register this node.
  (function() {
        RED.nodes.registerType('watson-translator', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                action: {value: 'translate'},
                basemodel: {value: ''},
                domain: {value: 'news'},
                srclang: {value: 'en'},
                destlang: {value: 'fr'},
                apikey: {value: ''},
                custom: {value: ''},
                domainhidden: {value: ''},
                srclanghidden: {value: ''},
                destlanghidden: {value: ''},
                basemodelhidden: {value: ''},
                customhidden: {value: ''},
                filetype: {value: 'forcedglossary'},
                trainid: {value: ''},
                lgparams2: {value: 'lparams'},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              // password: {type: 'text'} << moved to keep track of previous data
            },
            color: "rgb(84,149,230)",
            inputs: 1,
            outputs: 1,
            icon: "LanguageTranslator25x25.png",
            paletteLabel: "language translator",
            label: function() {
                return this.name || "language translator";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: oneditprepare,
            oneditsave: oneditsave
        });
  })();

</script>
<script type="text/x-red" data-help-name="watson-translator">
    <p>The Watson Language Translator service enables you to translate text from one language to another and to add your own translation models.</p>
    <p></p>

    <p><b>Translation Mode</b>.</p>
    <p>The text to translate should be passed in on <code>msg.payload</code>.</p>
    <p>The translated text will be returned on <code>msg.payload</code>.</p>
    <p>The full response from the service will be returned on <code>msg.translation</code></p>
    <p>Source and destination language parameters can be configured through the editor panel or set
    dynamically using
    the language codes in the following properties, <code>msg.srclang</code>
    and <code>msg.destlang</code>. Set the values to either two or five character
    IETF language Codes,
    eg. <code>en</code> for English or <code>pt-BR</code> for Brazilian Portuguese
    Please see
    the documentation linked below for the currently supported source and destination
    languages translation permutations.</p>
    <p></p>

    <p><b>Customised Translation Mode</b>.</p>
    <p>In this mode you can select a translation model that you have customised through
    the training options.</p>
    <p>The text to translate should be passed in on <code>msg.payload</code>.</p>
    <p>The translated text will be returned on <code>msg.payload</code>.</p>
    <p>The full response from the service will be returned on <code>msg.translation</code></p>
    <p></p>

    <p><b>Training Mode</b>.</p>
    <p>This mode enables you to add your own customized model to the Watson Language Translator service. </p>
    <p>In <code>msg.payload</code>, (this can be through box, dropbox or a file-inject node.
       you must specify one of the following file options to customize the training:</p>
    <p>forced_glossary - A UTF-8 encoded TMX file that contains pairs of matching terms in the source and target language that are seen as absolute by the system. This file completely overwrites the original domain data.</p>
    <p>parallel_corpus - A UTF-8 encoded TMX file that contains matching phrases in the source and target language that serve as examples for Watson. Parallel corpora differ from glossaries because they do not overwrite the original domain data.</p>
    <p>The Language Translator Node will return the ID of the created customized model.</p>
    <p<b>Note:</b>As the input file is expected on msg.payload, only one file can be specified. This is
    an enforced restriction by this Node. The service API allows more than one file to be specified.</p>
    <p></p>

    <p><b>Get Status Mode</b>.</p>
    <p>This mode allows you to get the status of a model sent to training by providing its ID.</p>
    <p>Values can be the followings:</p>
    <p>training - Training is still in progress.</p>
    <p>queued@<#> - Training has not yet started and the model is in the queue. The # indicates the number of your model in the queue.</p>
    <p>error - Training did not complete because of an error. if you want to see the reason behind the error
    this will be returned in <code>msg.translation</code></p>
    <p>available - Training is completed, and the service is now available to use with your custom translation model.</p>
    <p></p>

    <p><b>List Default models Mode</b>.</p>
    <p>This mode returns a list of all the default translation models.</p>
    <p></p>

    <p><b>List Customised models Mode</b>.</p>
    <p>This mode returns a list of all the customised translation models.</p>
    <p></p>

    <p><b>Delete Mode</b>.</p>
    <p>This mode allows you to delete a model by providing its ID</p>
    <p><b>Parameters Scope</b>.</p>
    <p>This parameter makes the language translation node to toogle using incoming parameters form the dashboard Dropdown list or locally.</p>
    <p>Values can be the followings:</p>
    <p><b>Local</b>  -  Local parametres if the node is used by its own (default value).</p>
    <p><b>Global</b> -  Global parametres if the node is used with the 'language translator util' and 'dropdown' node.
    Global parameters are set when <b>local in unchecked</b>.</p>
    <p>For more information about the Language Translator service, read the <a href="https://console.bluemix.net/docs/services/language-translator/index.html">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-doc-translator-v3] --- -->
<!--
  Copyright 2018, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-doc-translator">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div id="credentials-not-found" class="form-row" style="display: none;">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Could not bind to service. </b>
            This node can not be further configured without a valid service.
            Try entering valid credentials?
        </div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/language-translator/api">
    </div>

    <div class="form-row">
        <label for="node-input-action"><i class="fa fa-cog"></i> Mode</label>
        <select type="text" id="node-input-action" style="display: inline-block; vertical-align:middle; width: 70%;">
            <option value="translateDocument">translate document</option>
            <option value="translateSubmittedDocument">translate submitted document</option>
            <option value="listDocuments">list documents</option>
            <option value="documentStatus">document status</option>
            <option value="deleteDocument">delete document</option>
            <option value="getDocument">get translated document</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-srclang"><i class="fa fa-comments-o"></i> Source</label>
        <select type="text" id="node-input-srclang" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-srclanghidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-destlang"><i class="fa fa-comments-o"></i> Target</label>
        <select type="text" id="node-input-destlang" style="display: inline-block; vertical-align:middle; width: 70%;">
        </select>
    </div>
    <div>
        <input type="hidden" id="node-input-destlanghidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-filename"><i class="fa fa-tag"></i> Filename</label>
        <input type="text" id="node-input-filename" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-document-id"><i class="fa fa-tag"></i> Document ID</label>
        <input type="text" id="node-input-document-id" placeholder="">
    </div>


</script>




<script type="text/javascript">
    // Need to simulate a namespace, so that some of the variables don't leak across nodes
    function DocTranslator () {
    }

    // This is the namespace for document translator.
    var doctor = new DocTranslator();

    doctor.models = null;

    doctor.action = $('#node-input-action').val();
    doctor.srclang_selected = $('#node-input-srclanghidden').val();
    doctor.destlang_selected = $('#node-input-destlanghidden').val();

    doctor.using_local_credentials = false;

    doctor.LANGUAGES = { 'ar' : 'Arabic',
                      'arz': 'Spoken Arabic',
                      'eu' : 'Basque',
                      'bn' : 'Bengali',
                      'bs' : 'Bosnian',
                      'bg' : 'Bulgarian',
                      'CA-en' : 'Canadian English',
                      'ca' : 'Catalan',
                      'cs' : 'Czech',
                      'da' : 'Danish',
                      'el' : 'Greek',
                      'en' : 'English',
                      'es' : 'Spanish',
                      'et' : 'Estonian',
                      'fr' : 'French',
                      'fr-CA' : 'French Canadian',
                      'fi' : 'Finnish',
                      'ga' : 'Galican',
                      'he' : 'Hebrew',
                      'hi' : 'Hindi',
                      'hr' : 'Croatian',
                      'hu' : 'Hungarian',
                      'id' : 'Indonesian',
                      'it' : 'Italian',
                      'de' : 'German',
                      'gu' : 'Gujarati',
                      'ja' : 'Japanese',
                      'kn' : 'Kannada',
                      'lv' : 'Latvian',
                      'lt' : 'Lithuanian',
                      'mr' : 'Marathi',
                      'ms' : 'Malay',
                      'ml' : 'Malayalam',
                      'mt' : 'Maltese',
                      'cnr' : 'Montenegrin',
                      'ne' : 'Nepali',
                      'pa' : 'Punjabi',
                      'pt' : 'Portuguese',
                      'ko' : 'Korean',
                      'nb' : 'Norwegian Bokml',
                      'nl' : 'Dutch',
                      'pl' : 'Polish',
                      'ro' : 'Romanian',
                      'ru' : 'Russian',
                      'sr' : 'Serbian',
                      'si' : 'Sinhalese',
                      'sk' : 'Slovak',
                      'sl' : 'Slovenian',
                      'sv' : 'Swedish',
                      'ta' : 'Tamil',
                      'te' : 'Telugu',
                      'th' : 'Thai',
                      'tr' : 'Turkish',
                      'uk' : 'Ukrainian',
                      'ur' : 'Urdu',
                      'vi' : 'Vietnamese',
                      'cy' : 'Welsh',
                      'zh' : 'Chinese',
                      'zh-TW' : 'Taiwanese',
                      'zht' : 'Traditional Chinese'
                    };

    doctor.showSelectedFields = function(fields) {
      for (i = 0; i < fields.length; i++) {
        $(fields[i]).parent().show();
      }
    }

    doctor.hideSelectedFields = function(fields) {
      for (i = 0; i < fields.length; i++) {
        $(fields[i]).parent().hide();
      }
    }

    // Function to be used at the start, as don't want to expose any fields, unless the model is
    // available. The model it self can only be fetched if the credentials are available.
    //doctor.hideAll = function () {
      //var hideFields = [];
      //var showFields = [];

      //showFields.push('#credentials-not-found');
      //hideFields.push('#node-input-action');
    //}

    // UI Handler for the Mode / switch.
    // Princliple function is to show / hide the appropriate fields.
    doctor.checkActionSelected = function () {
      var hideFields = [];
      var showFields = [];
      tor.action = $('#node-input-action').val();
      switch (tor.action) {
        case 'translateDocument':
          showFields.push('#node-input-srclang' +
                            ', #node-input-destlang' +
                            ', #node-input-filename');
          hideFields.push('#node-input-document-id');
          break;
        case 'translateSubmittedDocument':
          showFields.push('#node-input-srclang' +
                            ', #node-input-destlang' +
                            ', #node-input-document-id');
          hideFields.push('#node-input-filename');
          break;
        case 'listDocuments':
          hideFields.push('#node-input-srclang' +
                            ', #node-input-destlang' +
                            ', #node-input-filename' +
                            ', #node-input-document-id');
          break;
        case 'documentStatus':
        case 'deleteDocument':
        case 'getDocument':
          hideFields.push('#node-input-srclang' +
                          ', #node-input-destlang' +
                          ', #node-input-filename');
          showFields.push('#node-input-document-id');
        default:
          break;
      }
      doctor.showSelectedFields(showFields);
      doctor.hideSelectedFields(hideFields);
    }

    // Register the handlers for the fields
    doctor.UIListeners = function () {

      $('#node-input-apikey').change((val) => {
        doctor.checkModels().then(() => {}).catch((err) => {console.log(err)});
      });

      $('#node-input-action').change((val) => {
        doctor.action = $('#node-input-action').val();
        doctor.checkActionSelected();
      });

      $('#node-input-srclang').change(function () {
        doctor.srclang_selected = $('#node-input-srclang').val();
        if (doctor.models) {
          doctor.buildTargetList();
        }
      });

      $('#node-input-destlang').change(function () {
        doctor.destlang_selected = $('#node-input-destlang').val();
      });
    }

    doctor.restoreHidden = function () {
      doctor.srclang_selected = $('#node-input-srclanghidden').val();
      $('select#node-input-srslang').val(doctor.srclang_selected);
      doctor.destlang_selected = $('#node-input-destlanghidden').val();
      $('select#node-input-destlang').val(doctor.destlang_selected);
    }

    doctor.checkCredentials = function() {
      return new Promise(function resolver(resolve, reject){
        $.getJSON('watson-doc-translator/vcap/')
          .done(function (service) {
            $('.credentials').toggle(!service);
            if (service) {
              doctor.using_local_credentials = false;
            } else {
              doctor.using_local_credentials = true;
            }
          })
          .fail(function () {
            $('.credentials').show();
            doctor.using_local_credentials = true;
          }).always(function () {
            $('#credentials-check').hide();
            resolve();
          })
      });
    }

    doctor.checkModels = function () {
      return new Promise(function resolver(resolve, reject){
        // Take a sneaky look to see if the translator node
        // has pulled down models
        if (!doctor.models && tor && tor.models) {
          doctor.models = tor.models;
        }
        if (doctor.models) {
          resolve();
        } else {
          var k = $('#node-input-apikey').val();
          var e = $('#node-input-service-endpoint').val();
          var creds = {un: u, pwd: p, key: k};

          creds.e = e;

          $.getJSON('watson-doc-translator/models/', creds)
          .done(function (data) {
            if (data.models) {
              doctor.models = data.models;
              resolve()
            } else {
              reject('No Translation Models Found');
            }
          }).fail(function (err) {
            console.log(err);
            reject('Error Retrieving Translation Models');
          }).always(function () {});
        }
      });
    }

    // sorting functions
    doctor.checkUnique = function (value, index, self) {
      return self.indexOf(value) === index;
    }

    doctor.buildSourceList = function () {
      $('#node-input-srclang').empty();
      // $('#node-input-destlang').empty();

      // For Some reason this gets lost in the JSON get
      doctor.srclang_selected = $('#node-input-srclanghidden').val();

      //if (!doctor.srclang_seleted) {
      //  doctor.srclang_selected = 'en';
      //}

      if (doctor.models) {
        var input_lang = doctor.models.map(function (a) {
          return a.source;
        });

        //var output_lang = doctor.models.map(function (a) {
        //  return a.target;
        //});

        var input_lang_unique = input_lang.filter(tor.checkUnique);
        //var output_lang_unique = output_lang.filter(tor.checkUnique);

        input_lang_unique.sort();

        input_lang_unique.forEach(function(lang){
          var selectedText = '';

          if (doctor.srclang_selected === lang) {
            selectedText = 'selected="selected"';
          }
          $('select#node-input-srclang')
            .append('<option value='
                          + '"' + lang + '"'
                          + selectedText
                          + '>'
                          + (doctor.LANGUAGES[lang] ? doctor.LANGUAGES[lang] : lang)
                          + '</option>');
        });

      }
    }

    doctor.buildTargetList = function () {
      $('#node-input-destlang').empty();

      // For Some reason this gets lost in the JSON get
      doctor.destlang_selected = $('#node-input-destlanghidden').val();

      var pair_lang = doctor.models.map(function (a) {
        return a.model_id;
      });

      // need to do an exact source language match to allow for variations
      // like ar and arz. if the input is ar, then don't want it to match with arz
      var available_destlang = pair_lang.filter(function (model_id) {
        return model_id.match('^' + doctor.srclang_selected + '-');
      });

      available_destlang.sort();

      available_destlang.forEach(function (val) {
        // can now have languages like zh-TW, so simple split on -
        // no longer works.
        // var lang = val.split('-')[1];
        let lang = val.replace(doctor.srclang_selected + '-', '');

        var selectedText = '';
        if (doctor.destlang_selected === lang) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-destlang')
          .append('<option value='
                        + '"' + lang + '"'
                        + selectedText
                        + '>'
                        + (doctor.LANGUAGES[lang] ? doctor.LANGUAGES[lang] : lang)
                        + '</option>');
      });
    }


    // This is the on edit prepare function, which will be invoked everytime
    // the dialog is shown.
    function oneditprepare() {
      //doctor.hideAll();
      doctor.restoreHidden();
      doctor.UIListeners();
      doctor.checkCredentials()
        .then(() => {
          return doctor.checkModels();
        })
        .then(() => {
          doctor.buildSourceList();
          doctor.buildTargetList();
        })
        .catch(function(err){
        });
    }

    // Save the values in the dyanmic lists to the hidden fields.
    function oneditsave(){
      $('#node-input-srclanghidden').val(doctor.srclang_selected);
      $('#node-input-destlanghidden').val(doctor.destlang_selected);
    }

    (function() {
        RED.nodes.registerType('watson-doc-translator', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ""},
                apikey: {value: ''},
                action: {value: 'translateDocument'},
                srclang: {value: 'en'},
                destlang: {value: 'fr'},
                srclanghidden: {value: ''},
                destlanghidden: {value: ''},
                filename: {value: ''},
                'document-id': {value: ''},
                'service-endpoint' :{value: ''}
            },
            credentials: {
            },
            color: "rgb(84,149,230)",
            inputs: 1,
            outputs: 1,
            paletteLabel: "document translator",
            icon: "LanguageTranslator25x25.png",
            label: function() {
                return this.name || "document translator";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: oneditprepare,
            oneditsave: oneditsave
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-doc-translator">
    <p>The Watson Document Translator Node makes use of the Language
      translator service to translate documents. A list of the supported
      file types can be found
      <a href="https://console.bluemix.net/docs/services/language-translator/translating-documents.html#supported-file-formats">
        here.</a>

    <p><b>Translate document</b>.</p>
    <p>In this mode the node should be provided in input : </p>
    <ul>
      <li><code>msg.payload</code> : A stream buffer of the document to convert.
      </li>
    </ul>
    <p>Source and target language parameters can be configured through the
      configuration editor panel or set dynamically using
      the language codes in the following properties, <code>msg.srclang</code>
      and <code>msg.destlang</code>. Please see the documentation linked below
      for the currently supported source and destination
      languages translation permutations.
    </p>

    <br/><br/>

    <p><b>Translate submitted document</b>.</p>
    <p>In this mode the node should be provided in input : </p>
    <ul>
      <li><code>msg.payload</code> : Document ID in one of the following formats
        <ul>
          <li>A string
          </li>
          <li>Document status JSON object as returned by the get document status
            method. The object will contain a document id
          </li>
          <li>JSON object containing an array of document details
            as returned by the get document list, each containing
            a document id. In this mode a translation will be attempted for
            each document.
          </li>
        </ul>
      </li>
    </ul>
    <p>Source and target language parameters see Translate document mode
      for details. If the document id is provided as a JSON object, the source
      languge for the new translation is searched for in the JSON object.
    </p>

    <br/><br/>

    <p><b>List Documents</b>.</p>
    <p>In this mode no input is required. A JSON object containing an array
      of documents submitted for translation is returned in
      <code>msg.payload</code>
    </p>

    <br/><br/>

    <p><b>Document status</b>.</p>
    <p>In this mode the node should be provided in input : </p>
    <ul>
      <li><code>msg.payload</code> : Document ID. See Translate submitted
        document for the format details.
      </li>
    </ul>
    <p>A JSON object detailing document status is returned in
      <code>msg.payload</code>
    </p>

    <br/><br/>

    <p><b>Delete document</b>.</p>
    <p>In this mode the node should be provided in input : </p>
    <ul>
      <li><code>msg.payload</code> : Document ID. See Translate submitted
        document for the format details.
      </li>
    </ul>
    <p>The documents are deleted. </p>

    <br/><br/>

    <p><b>Get document</b>.</p>
    <p>In this mode the node should be provided in input : </p>
    <ul>
      <li><code>msg.payload</code> : Document ID. See Translate submitted
        document for the format details.
      </li>
    </ul>
    <p>The requested documents are returned as a buffer in
      <code>msg.payload</code>
    </p>

    <br/><br/>

    <p>For more information about the Language Translator service, read the
      <a href="https://console.bluemix.net/docs/services/language-translator/index.html">
        documentation</a>.
    </p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-language-translator-identify-v3] --- -->
<!--
  Copyright 2013,2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-language-translator-identify">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-cwm-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/language-translator/api">
    </div>
</script>



<script type="text/javascript">

// This is the on edit prepare function, which will be invoked everytime the dialog
// is shown.
  function li2oneditprepare() {
    $.getJSON('watson-language-translator-identify/vcap/')
      .done(function (service) {
        $('.credentials').toggle(!service);
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
      });
  }

    (function() {
        RED.nodes.registerType('watson-language-translator-identify', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type: 'password'}
            },
            color: 'rgb(84,149,230)',
            inputs: 1,
            outputs: 1,
            icon: 'LanguageTranslator25x25.png',
            paletteLabel: 'language identify',
            label: function() {
                return this.name || 'language identify';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: li2oneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-language-translator-identify">
    <p>Packaged in with release 0.7.0 of node-red-node-watson</p>
    <p>The Watson Language Translator service can be used to identify languages used in a text input. <p>
    <p>Node input : </p>
    <ul>
    <li><code>msg.payload</code> : The input text to identify language against in UTF-8 format</li>
    </ul>
    <p>Node output : </p>
    <ul>
    <li><code>msg.lang</code> : The identified language with the highest confidence level</li>
    <li><code>msg.languages</code> : array of identified languages with the language 5-letter ISO language code
    with the associated confidence score</li>
    </ul>
    <p>For more information about the Language Identification service,
    read the service <a href="https://console.bluemix.net/docs/services/language-translator/index.html">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-language-translator-util-v3] --- -->
<!--
  Copyright 2013,2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-translator-util">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name (LTU)</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-cwm-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/language-translator/api">
    </div>

</script>




<script type="text/javascript">
    (function() {
        RED.nodes.registerType('watson-translator-util', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ""},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type: 'password'}
            },
            color: "rgb(84,149,230)",
            inputs: 1,
            outputs: 1,
            icon: "languageid.png",
            paletteLabel: "language translator util",
            label: function() {
                return this.name || "language translator util";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: function() {
                $.getJSON('watson-translator-util/vcap/')
                  .done(function (service) {
                    $('.credentials').toggle(!service);
                  })
                  .fail(function () {
                    $('.credentials').show();
                  }).always(function () {
                    $('#credentials-check').hide();
                  })
            }
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-translator-util">
    <p>The Language Translator Utility service enables you to set using dasboard utility functions
    the language translation to be used by the Language Translator Node.</p>
    <p></p>
    <p><b>Translator Mode Utility</b>.</p>
    <p>The regular Watson Translator credentials should be set through the UI.</p>
    <p>No input is needed for the node. The node fetches the information automatically.</p>
    <p></p>
    <p>When this node is used with the 'language translator' node, in the 'language translator' node the scope of variables should be set to global.</p>
    <p></p>
    <p>The node will return the following arrays:</p>
    <p>Message model_id (e.g.: en-fr-conversational)<code>msg.model_id</code>.</p>
    <p>Message Domains (e.g.: Conversational)<code>msg.domain</code>.</p>
    <p>Message Source Language (e.g.: English)<code>msg.source</code>.</p>
    <p>Message Target Language (e.g.: French)<code>msg.target</code>.</p>
    <p>For more information about the Language Translator service, read the <a href="https://console.bluemix.net/docs/services/language-translator/index.html">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-natural-language-classifier-v1] --- -->
<!--
  Copyright 2013,2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-natural-language-classifier">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/natural-language-classifier/api">
    </div>

    <div class="form-row">
        <label for="node-input-mode"><i class="fa fa-question"></i> Mode</label>
        <select type="text" id="node-input-mode" style="display: inline-block; width: 70%;" >
            <option value="classify">Classify</option>
            <option value="createClassifier">Train</option>
            <option value="listClassifiers">List</option>
            <option value="getClassifier">Classifier details</option>
            <option value="deleteClassifier">Remove</option>
        </select>
    </div>
    <div class="form-row mode classify getClassifier deleteClassifier">
        <label for="node-input-classifier"><i class="fa fa-tag"></i> Classifier ID</label>
        <input type="text" id="node-input-classifier" placeholder="Classifier ID">
    </div>
    <div class="form-row mode createClassifier">
        <label for="node-input-language"><i class="fa fa-language"></i> Language</label>
        <select type="text" id="node-input-language" style="display: inline-block; width: 70%;" >
            <option value="ar">Arabic</option>
            <option value="en">English</option>
            <option value="de">German</option>
            <option value="fr">French</option>
            <option value="it">Italian</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="pt">Portuguese</option>
            <option value="es">Spanish</option>
        </select>
    </div>
    <div class="form-row mode classify">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-collections-off" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-collections-off" style="width: 70%;"> Do not auto detect collections</label>
    </div>

</script>



<script type="text/javascript">
  // Need to simulate a namespace, so that some of the variables don't leak across nodes
  function NaturalLanguageClassifierV1 () {}

  // This is the namespace for this version of this Node.
  var nlcV1 = new NaturalLanguageClassifierV1();

  nlcV1.CreateIListener = function(listen, action, opp) {
    opp = typeof opp === 'undefined' ? false : opp;
    listen.change(function(val){
      var isSet = listen.prop('checked');
      if (opp) {
        isSet = !isSet;
      }
      nluV1.setVisibility(action, isSet);
    });
  }

  nlcV1.UIListeners = function () {
    $('#node-input-mode').change(function () {
      var mode = $('#node-input-mode').val();
      $('.form-row.mode.' + mode).show();
      $('.form-row.mode:not(.' + mode + ')').hide();
    });
  };

  nlcV1.checkForPrepare = function () {
    nlcV1.UIListeners();
  };

  // This is the on edit prepare function, which will be
  //invoked everytime the dialog is shown.
  function nlconeditprepare() {


    nlcV1.checkForPrepare();
    $.getJSON('watson-natural-language-classifier/vcap/')
      .done(function (service) {
        $('.credentials').toggle(!service);
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
      })
  }


    (function() {
        RED.nodes.registerType('watson-natural-language-classifier', {
            category: 'IBM Watson',
            defaults: {
              name: {value: ""},
              mode: {value: "classify"},
              language: {value: "en"},
              classifier: {value: ""},
              'collections-off' :{value: true},
              'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type: 'password'}
            },
            color: "rgb(140, 198, 63)",
            inputs: 1,
            outputs: 1,
            icon: "NLClassifier.png",
            paletteLabel: "natural language classifier",
            label: function() {
                return this.name || "natural language classifier";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: nlconeditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-natural-language-classifier">
    <p>The Natural Language Classifier service uses machine learning algorithms to return the top matching predefined classes for short text inputs.</p>
    <p>The node can either train new classifiers or match text against existing classifiers.
       Use the drop-down menu in the node configuration window to select the mode.</p>
    <p></p>
    <p><b>Classifier Mode</b>.</p>
    <p>Set the classifier id in the node configuration window.</p>
    <p>The classifier can be overriden by setting msg.nlcparams.classifier_id</p>
    <p>The text to classify should be passed in on <code>msg.payload</code>.</p>

    <p> If <code>msg.payload</code> contains multiple sentences then the sentences will
    be split and the set will be classified as a collection. If there are no sentence
    terminators then it will not be recognised as a sentence.
    </p>
    <p> If <code>msg.payload</code> contains an array of strings, then each string will be
    treated as a separate sentence and the set treated as a collection. </p>
    <p>If <code>msg.payload</code> contains an array of objects, then there is a
    search for the <code>text</code> key in each object. Each text object will be
    treated as part of the collection.</p>

    <p>The returned classification and confidence values will be returned on <code>msg.payload</code>.</p>
    <p></p>
    <p><b>Training Mode</b>.</p>
    <p>Set the training data language in the node configuration window.</p>
    <p>The CSV training data should be passed in on <code>msg.payload</code> as a String or String Array. For more details on the training data format, see this <a href="https://console.bluemix.net/docs/services/natural-language-classifier/using-your-data.html">link</a></p>
    <p>The returned classification training status will be returned on <code>msg.payload</code>.</p>
	<p><b>List Mode</b>.</p>
    <p>Set the mode in the node configuration window.</p>
    <p>The request is triggered by a request to the input node
    <p>The returned list of classifiers will be returned on <code>msg.payload</code>.</p>
  <p><b>Classifier Details Mode</b>.</p>
    <p>Set the mode in the node configuration window.</p>
    <p>If not set in the configuration the Classifier ID should be passed in on
      <code>msg.payload</code> as a String<p>
    <p>The details of the classifier be returned on <code>msg.payload</code>.</p>
  <p><b>Remove Mode</b>.</p>
    <p>Set the mode in the node configuration window.</p>
    <p>The status of the delete be returned on <code>msg.payload</code>. It will contain {} if successful.
  <p>For more information about the Natural Language Classifier service, read the <a href="http://www.ibm.com/watson/developercloud/natural-language-classifier/api/v1/">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-natural-language-understanding-v1] --- -->
<!--
  Copyright 2017, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="natural-language-understanding">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div class="form-row" style="padding-top: 10px;">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
      <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
      <input type="password" id="node-input-apikey" placeholder="API Key">
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/natural-language-understanding/api">
    </div>

    <div class="form-row">
        <label for="node-input-features" style="width: 100%"><i class="fa fa-book"></i> Extract the following features: </label>
          <div style="float: left;">

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-categories" />
              <label style="width: auto;" for="node-input-categories">Categories</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-limitcategories">Limit Categories</label>
              <input type="number" min="1" max="10"
                     id="node-input-limitcategories" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-classifications" />
              <label style="width: auto;" for="node-input-classifications">Classifications</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-classifications-model">Classification model</label>
              <input type="text" id="node-input-classifications-model" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-concepts" />
              <label style="width: auto;" for="node-input-concepts">Concepts</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-maxconcepts">Maximum Concepts</label>
              <input type="number" min="1"
                     id="node-input-maxconcepts" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-doc-emotion" />
              <label style="width: auto;" for="node-input-doc-emotion">Document Emotion</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-doc-emotion-target">Emotion Targets</label>
              <input type="text" id="node-input-doc-emotion-target" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-doc-sentiment" />
              <label style="width: auto;" for="node-input-doc-sentiment">Document Sentiment</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-doc-sentiment-target">Sentiment Targets</label>
              <input type="text" id="node-input-doc-sentiment-target" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-entity" />
              <label style="width: auto;" for="node-input-entity">Entities</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-entity-emotion" />
              <label style="width: auto;" for="node-input-entity-emotion">Entity Emotion</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-entity-sentiment" />
              <label style="width: auto;" for="node-input-entity-sentiment">Entity Sentiment</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-maxentities">Maximum Entities</label>
              <input type="number" min="1"
                     id="node-input-maxentities" />
            </div>

          </div>

          <div style="margin-left: -200px; float: right;">

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-keyword" />
              <label style="width: auto;" for="node-input-keyword">Keywords</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-keyword-emotion" />
              <label style="width: auto;" for="node-input-keyword-emotion">Keyword Emotion</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-keyword-sentiment" />
              <label style="width: auto;" for="node-input-keyword-sentiment">Keyword Sentiment</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-maxkeywords">Maximum Keywords</label>
              <input type="number" min="1"
                     id="node-input-maxkeywords" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-metadata" />
              <label style="width: auto;" for="node-input-metadata">Metadata</label>
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-relation" />
              <label style="width: auto;" for="node-input-relation">Relations</label>
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-semantic" />
              <label style="width: auto;" for="node-input-semantic">Semantic Roles</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-semantic-entities" />
              <label style="width: auto;" for="node-input-semantic-entities-">Semantic Entities</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-semantic-keywords" />
              <label style="width: auto;" for="node-input-semantic-keywords">Semantic Keywords</label>
            </div>
            <div>
              <label style="width: auto;" for="node-input-maxsemantics">Maximum Semantic Roles</label>
              <input type="number" min="1"
                     id="node-input-maxsemantics" />
            </div>

            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-syntax" />
              <label style="width: auto;" for="node-input-syntax">Syntax</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-syntax-sentences" />
              <label style="width: auto;" for="node-input-syntax-sentences">Syntax Sentences</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-syntax-tokens-lemma" />
              <label style="width: auto;" for="node-input-syntax-tokens-lemma">Lemma Tokens</label>
            </div>
            <div>
              <input style="width: 30px; margin-left: 20px; margin-top: 0;"
                     type="checkbox" id="node-input-syntax-tokens-pos" />
              <label style="width: auto;" for="node-input-syntax-tokens-pos">Part of Speech</label>
            </div>

          </div>
    </div>

    <div class="form-row">
        <label for="node-input-limittextcharacters">Limit Text Characters</label>
        <input type="number" min="0" step='1'
                 id="node-input-limittextcharacters" />
    </div>

</script>




<script type="text/javascript">
  // Need to simulate a namespace, so that some of the variables don't leak across nodes
  function NaturalLanguageUnderstandingV1 () {}

  // This is the namespace for this version of this Node.
  var nluV1 = new NaturalLanguageUnderstandingV1();

  nluV1.hideAll = function() {
    $('#node-input-classifications-model').parent().hide();
    $('#node-input-maxconcepts').parent().hide();
    $('#node-input-limitcategories').parent().hide();
    $('#node-input-doc-emotion-target').parent().hide();
    $('#node-input-doc-sentiment-target').parent().hide();
    $('#node-input-entity-emotion').parent().hide();
    $('#node-input-entity-sentiment').parent().hide();
    $('#node-input-maxentities').parent().hide();
    $('#node-input-keyword-emotion').parent().hide();
    $('#node-input-keyword-sentiment').parent().hide();
    $('#node-input-maxkeywords').parent().hide();
    $('#node-input-semantic-entities').parent().hide();
    $('#node-input-semantic-keywords').parent().hide();
    $('#node-input-maxsemantics').parent().hide();
    $('#node-input-syntax-sentences').parent().hide();
    $('#node-input-syntax-tokens-lemma').parent().hide();
    $('#node-input-syntax-tokens-pos').parent().hide();
  };

  nluV1.setVisibility = function(field, visible) {
    if (visible) {
      field.parent().show();
    } else {
      field.parent().hide();
    }
  };

  nluV1.CreateIListener = function(listen, action, opp) {
    opp = typeof opp === 'undefined' ? false : opp;
    listen.change(function(val){
      var isSet = listen.prop('checked');
      if (opp) {
        isSet = !isSet;
      }
      nluV1.setVisibility(action, isSet);
    });
  }

  nluV1.UIListeners = function () {
    nluV1.CreateIListener($('#node-input-classifications'),
                               $('#node-input-classifications-model'));

    nluV1.CreateIListener($('#node-input-concepts'),
                               $('#node-input-maxconcepts'));

    nluV1.CreateIListener($('#node-input-categories'),
                               $('#node-input-limitcategories'));

    nluV1.CreateIListener($('#node-input-doc-emotion'),
                                $('#node-input-doc-emotion-target'));

    nluV1.CreateIListener($('#node-input-doc-sentiment'),
                                $('#node-input-doc-sentiment-target'));

    nluV1.CreateIListener($('#node-input-entity'),
                                $('#node-input-entity-emotion'
                                    + ', #node-input-entity-sentiment'
                                    + ', #node-input-maxentities'));

    nluV1.CreateIListener($('#node-input-keyword'),
                                $('#node-input-keyword-emotion'
                                    + ', #node-input-keyword-sentiment'
                                    + ', #node-input-maxkeywords'));

    nluV1.CreateIListener($('#node-input-semantic'),
                                $('#node-input-semantic-entities'
                                    + ', #node-input-semantic-keywords'
                                    + ', #node-input-maxsemantics'));

    nluV1.CreateIListener($('#node-input-syntax'),
                                $('#node-input-syntax-sentences'
                                    + ', #node-input-syntax-tokens-lemma'
                                    + ', #node-input-syntax-tokens-pos'));


  }

  nluV1.checkForPrepare = function () {
    nluV1.hideAll();
    nluV1.UIListeners();
  };

  // This is the on edit prepare function, which will be
  //invoked everytime the dialog is shown.
  function nluoneditprepare() {
    nluV1.checkForPrepare();
    $.getJSON('natural-language-understanding/vcap/')
      .done(function (service) {
        $('.credentials').toggle(!service);
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
      })
  }

    (function() {
        RED.nodes.registerType('natural-language-understanding', {
            category: 'IBM Watson',
            defaults: {
              'name': {value: ''},
              'categories': {value: false},
              'limitcategories': {value: '3'},
              'classifications': {value: false},
              'classifications-model': {value: '8'},
              'concepts': {value: false},
              'maxconcepts': {value: '8'},
              'doc-emotion': {value: false},
              'doc-emotion-target': {value: ''},
              'doc-sentiment': {value: false},
              'doc-sentiment-target': {value: ''},
              'entity': {value: false},
              'entity-emotion': {value: false},
              'entity-sentiment': {value: false},
              'maxentities' :{value: '50'},
              'keyword': {value: false},
              'keyword-emotion': {value: false},
              'keyword-sentiment': {value: false},
              'maxkeywords' :{value: '50'},
              'metadata': {value: false},
              'relation': {value: false},
              'semantic': {value: false},
              'semantic-entities': {value: false},
              'semantic-keywords': {value: false},
              'maxsemantics' :{value: '50'},
              'limittextcharacters': {value: '0'},
              'syntax': {value: false},
              'syntax-sentences': {value: false},
              'syntax-tokens-lemma': {value: false},
              'syntax-tokens-pos': {value: false},
              'service-endpoint' :{value: ''}
            },
            credentials: {
              apikey: {type:"password"}
            },
            color: '#00A2FF',
            inputs: 1,
            outputs: 1,
            icon: "NaturalLanguageUnderstanding.png",
            paletteLabel: "Natural Language Understanding",
            label: function() {
                return this.name || "Natural Language Understanding";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            } ,
            oneditprepare: nluoneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="natural-language-understanding">
    <p>Using the Watson Natural Language Understanding node, you can
    extract meta-data from content.
    You can analyse external URLs, HTML files or text content.</p>
    <p>The following features are available for analysis:</p>
    <ul>
        <li><b>Categories</b>, categorize content into a taxonomy.</li>
        <li><b>Classifications</b>, text classifications for the content.</li>
        <li><b>Concepts</b>, recognize high-level concepts.</li>
        <li><b>Document Emotion</b>, generate emotion scores.</li>
        <li><b>Emotion Targets</b>, optionally target the emotions scores to a
                                    comma seperated list eg.
                                    <code>apples,pears</code>.</li>
        <li><b>Document Sentiment</b>, generate sentiment scores.</li>
        <li><b>Sentiment Targets</b>, optionally target the sentiment scores to a
                                    comma seperated list eg.
                                    <code>dolphins,sharks</code>.</li>
        <li><b>Entities</b>, identify people, companies, organizations,
                            cities, geographic features, and other typed
                            entities.</li>
        <li><b>Keywords</b>, discover topic keywords for content.</li>
        <li><b>Metadata</b>, identify author name, title, RSS/ATOM feeds,
                                publication date, etc.</li>
        <li><b>Relations</b>, identify Subject-Action-Object relations.</li>
        <li><b>Semantic Roles</b>, parse out sentences into subject,
                                action, and object form.</li>
        <li><b>Syntax</b>, Returns information about the tokens and sentences in
                           the input text. </li>

    </ul>
    <p>
      You can limit the text analyzed by setting limit text characters. A value
      of 0 applies no limit.
    </p>
    <p>For full details on the feature details,
      please see the
      <a href="https://www.ibm.com/watson/services/natural-language-understanding/">
        service API documentation</a></p>
    <p>The content to be analysed should be passed in on <code>msg.payload</code>.</p>
    <p>Valid <code>msg.payload</code> types: URL, HTML or Text Content.</p>
    <br>
    <p>It is possible to send custom language and model settings on
      <code>msg.nlu_options</code>
      To override the default language detection set
      <code>msg.nlu_options.language</code> to a ISO 639-1 code.
      To override the model used for entities set
      <code>msg.nlu_options.entity_model</code>.
      To override the model used for relations set
      <code>msg.nlu_options.relations_model</code>.
      To override the model used for classifications set
      <code>msg.nlu_options.classifications_model</code>.
    </p>
    <br>
    <p>Results from the API service will made available
      at <code>msg.features</code>. Each feature result will be a separate
      child property.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-natural-language-understanding-model-manager-v1] --- -->
<!--
  Copyright 2020 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->


<script type="text/x-red" data-template-name="natural-language-understanding-model-manager-v1">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key">
    </div>
    <div class="form-row credentials">
        <label for="node-input-nlu-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-nlu-service-endpoint" placeholder="https://gateway.watsonplatform.net/natural-language-understanding/api">
    </div>

    <div class="form-row">
        <label for="node-input-nlu-model-mode"><i class="fa fa-book"></i> Mode: </label>
        <select type="text" id="node-input-nlu-model-mode" style="display: inline-block; width: 70%;">
            <option value="listModels">List Models</option>
            <option value="deleteModel">Delete Model</option>
        </select>
    </div>
</script>


<script type="text/javascript">

    (function() {
        RED.nodes.registerType('natural-language-understanding-model-manager-v1', {
            category: 'IBM Watson',
            defaults: {
              name: {value: ""},
              'nlu-service-endpoint' :{value: ""},
              "nlu-model-mode": {value: ""}
            },
            credentials: {
              apikey: {type:"password"}
            },
            color: '#60A2FF',
            inputs: 1,
            outputs: 1,
            icon: "NaturalLanguageUnderstanding.png",
            paletteLabel: "natural language understanding V1 model manager",
            label: function() {
                return this.name || "natural language understanding V1 model manager";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: function() {
              $.getJSON('watson-nlu-model-manager-v4/vcap/')
                  .done(function (service) {
                    $('.credentials').toggle(!service);
                  })
                  .fail(function () {
                    $('.credentials').show();
                  })
                  .always(function () {
                    $('#credentials-check').hide();
                  })
            }
        });
    })();
</script>


<script type="text/x-red" data-help-name="natural-language-understanding-model-manager-v1">
	<p> This node enables you to list or delete
    watson Knowledge Studio custom entities and relations models that are
    deployed to your Natural Language Understanding service.
  </p>
    <p>The following features are available :</p>
    <ul>
      <li><b>List models</b></li>
      <li><b>Delete a model</b></li>
    </ul>

    <p><b>List models</b></p>
    <p>No input parameters are required : </p>
    <p>More information on this
      <a href="https://cloud.ibm.com/apidocs/natural-language-understanding/natural-language-understanding?code=node#list-models">
        API documentation</a>.</p>

    <p><b>Delete model</b></p>
    <p>this feature should be provided as input : </p>
    <ul>
        <li><code>msg.payload</code> : The identifier of the model to delete (Required)</li>
    </ul>
    <p>More information on this
      <a href="https://cloud.ibm.com/apidocs/natural-language-understanding/natural-language-understanding?code=node#delete-model">
        API documentation</a>.</p>

</script></div><div><!-- --- [red-module:node-red-node-watson/watson-speech-to-text-v1] --- -->
<!--
  Copyright 2016, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-speech-to-text">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div>
        <label id="node-label-message"><i class="fa fa-exclamation-triangle"></i></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name"></input>
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://stream.watsonplatform.net/speech-to-text/api">
    </div>

    <div class="form-row">
        <label for="node-input-lang"><i class="fa fa-language"></i> Language</label>
        <select type="text" id="node-input-lang" style="display: inline-block; width: 70%;">
        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-langhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-langcustom"><i class="fa fa-language"></i> Language Customization</label>
        <select type="text" id="node-input-langcustom" style="display: inline-block; width: 70%;">
        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-langcustomhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-custom-weight"><i class="fa fa-tag"></i> Customization Weight</label>
        <input type="number" min='0' max='1' step='0.01' id="node-input-custom-weight">
    </div>

    <div class="form-row">
        <label for="node-input-band"><i class="fa fa-audio-o"></i> Quality</label>
        <select type="text" id="node-input-band" style="display: inline-block; width: 70%;">
        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-bandhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-alternatives">Max Alternative Transcripts</label>
        <input type="number" min="1" max="5" id="node-input-alternatives" />
    </div>

    <div class="form-row">
        <label for="node-input-keywords"><i class="fa fa-tag"></i> Keywords</label>
        <input type="text" id="node-input-keywords">
    </div>

    <div class="form-row">
        <label for="node-input-keywords-threshold"><i class="fa fa-tag"></i> Keywords Threshold</label>
        <input type="number" min='0' max='1' step='0.01' id="node-input-keywords-threshold">
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-word-confidence" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-word-confidence" style="width: 70%;"> Word Confidence</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-speakerlabels"style="display: inline-block; width: auto; vertical-align: top;"></input>
        <label for="node-input-speakerlabels" style="width: 70%;"><i class="fa fa-audio-o"></i> Speaker Labels</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-smartformatting"style="display: inline-block; width: auto; vertical-align: top;"></input>
        <label for="node-input-smartformatting" style="width: 70%;"><i class="fa fa-audio-o"></i> Smart Formatting</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-payload-response" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-payload-response" style="width: 70%;"> Place output on msg.payload</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-disable-precheck" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-disable-precheck" style="width: 70%;"> Disable Audio format pre-check</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-streaming-mode" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-streaming-mode" style="width: 70%;"> Streaming Mode</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-streaming-mute" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-streaming-mute" style="width: 70%;"> Mute in Streaming Mode</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-discard-listening" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-discard-listening" style="width: 70%;"> Discard Listening events from STT</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-auto-connect" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-auto-connect" style="width: 70%;"> Attempt auto connect on connection close</label>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="button" id="node-input-flushcache" value="Flush Config Cache"
                 style="display: inline-block; width: auto; vertical-align: top;">
    </div>

</script>



<script type="text/javascript">

  // Need to simulate a namespace, as some of the variables had started to leak across nodes
  function STT () {
  }


  // This is the namespace for stt. Currently only contains models, but more vars and functions may need to be
  // moved in if there is a clash with other nodes.
  var stt = new STT();
  stt.models = null;
  stt.languages = null;
  stt.customisations = null;
  stt.bands = null;
  stt.language_selected = '';
  stt.custom_selected = '';
  stt.band_selected = '';

  stt.LANGUAGES = { 'en-US': 'US English',
                    'pt-BR': 'Portuguese Braziilian',
                    'en-UK': 'UK English',
                    'en-GB': 'UK English',
                    'en-AU': 'Australian English',
                    'en-IN': 'Indian English',
                    'cs-CZ': 'Czech',
                    'de-DE': 'German',
                    'fr-CA': 'French (Canadian)',
                    'fr-FR': 'French',
                    'hi-IN': 'Hindi',
                    'nl-NL': 'Dutch',
                    'nl-BE': 'Dutch (Belgian)',
                    'it-IT': 'Italian',
                    'zh-CN': 'Mandarin',
                    'es-ES': 'Spanish',
                    'es-CO': 'Spanish (Columbian)',
                    'es-MX': 'Spanish (Mexican)',
                    'es-CL': 'Spanish (Chilean)',
                    'es-AR': 'Spanish (Argentinian)',
                    'es-PE': 'Spanish (Peruvian)',
                    'es-LA': 'Latin American Spanish',
                    'ar-AR': 'Arabic',
                    'ar-MS': 'Arabic (MS)',
                    'ko-KR': 'Korean',
                    'ja-JP': 'Japanese'
                  };

  // sorting functions
  stt.onlyUnique = function (value, index, self) {
    return self.indexOf(value) === index;
  }

  stt.showSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().show();
    }
  }

  stt.hideSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().hide();
    }
  }


  // Function to be used at the start, as don't want to expose any fields, unless the models are
  // available. The models can only be fetched if the credentials are available.
  stt.hideEverything = function () {
    if (!stt.models) {
      var fields = [];
      $('#credentials-not-found').show();

      fields.push('#node-label-message'
                     + ', #node-input-alternatives'
                     + ', #node-input-keywords'
                     + ', #node-input-keywords-threshold'
                     + ', #node-input-word-confidence'
                     + ', #node-input-speakerlabels'
                     + ', #node-input-smartformatting'
                     + ', #node-input-lang'
                     + ', #node-input-band'
                     + ', #node-input-langcustom'
                     + ', #node-input-custom-weight');
      stt.hideSelectedFields(fields);
    }
  }

  // Check if there is a model then can show the fields.
  // available. The models can only be fetched if the credentials are available.
  stt.VisibilityCheck = function () {
    var showFields = [];
    var hideFields = [];
    if (stt.models) {
      showFields.push('#node-input-alternatives'
                     + ', #node-input-keywords'
                     + ', #node-input-keywords-threshold'
                     + ', #node-input-word-confidence'
                     + ', #node-input-speakerlabels'
                     + ', #node-input-smartformatting'
                     + ', #node-input-lang'
                     + ', #node-input-band');

      hideFields.push('#node-label-message');
    } else {
      hideFields.push('#node-label-message'
                     + ', #node-input-alternatives'
                     + ', #node-input-keywords'
                     + ', #node-input-keywords-threshold'
                     + ', #node-input-word-confidence'
                     + ', #node-input-speakerlabels'
                     + ', #node-input-smartformatting'
                     + ', #node-input-langcustom'
                     + ', #node-input-custom-weight'
                     + ', #node-input-lang'
                     + ', #node-input-band');
    }
    stt.hideSelectedFields(hideFields);
    stt.showSelectedFields(showFields);
  }


  // Simple check that is only invoked if the service is not bound into bluemix. In this case the
  // user has to provide credentials. Once there are credentials, then the stt.models are retrieved.
  stt.checkCredentials = function () {
    var k = $('#node-input-apikey').val();

    if (k && k.length) {
      if (!stt.models) {
        stt.getModels();
      }
    }
  }

  // Populate the quality select field
  stt.populateBands = function () {
    if (!stt.bands && stt.models) {
      stt.bands = stt.models.map(function(m) {
        return m.name.split('_')[1];
      });
      var unique_bands = stt.bands.filter(stt.onlyUnique);
      stt.bands = unique_bands;
    }

    if (stt.bands) {
      $('select#node-input-band').empty();

      stt.bands.forEach(function(b) {
        var selectedText = '';
        if (stt.band_selected === b) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-band')
          .append('<option value='
                        + '"' + b + '"'
                        + selectedText
                        + '>'
                        + b
                        + '</option>');
      });
    }
  }

  // Populate the customisations selection field
  // Need to check if we have customisations and if the
  // selected language and model have an entry.
  stt.populateCustoms = function() {
    var showit = false;

    $('select#node-input-langcustom').empty();

    if (stt.customisations) {
      stt.language_selected = stt.language_selected ?
                                  stt.language_selected :
                                  $('#node-input-langhidden').val();
      stt.band_selected = stt.band_selected ?
                                 stt.band_selected :
                                 $('#node-input-band').val();

      var compareValue = stt.language_selected + '_' + stt.band_selected;

      stt.customisations.forEach(function(c) {
        // Should really be checking against the cached values
        // stt.language_selected and stt.band_selected
        // but for some reason they are not always set.

        if (compareValue === c['base_model_name']) {
          showit = true;
          var selectedText = '';
          if (stt.custom_selected === c['customization_id']) {
            selectedText = ' selected="selected" ';
          }
          $('select#node-input-langcustom')
            .append('<option value='
                          + '"' + c['customization_id'] + '"'
                          + selectedText
                          + '>'
                          + c['name']
                          + '</option>');
        }
      });
    }

    // Add an option to not select
    $('select#node-input-langcustom')
      .append('<option value='
                    + 'NoCustomisationSetting'
                    + '' //showit ? '' : ' selected="selected" '
                    + '>'
                    + 'None'
                    + '</option>');


    if (showit) {
      $('select#node-input-langcustom').parent().show();
      $('#node-input-custom-weight').parent().show();
    } else {
      $('select#node-input-langcustom').parent().hide();
      $('#node-input-custom-weight').parent().hide();
    }

  }

  stt.flushCache = function () {
    stt.models = null;
    stt.languages = null;
    stt.customisations = null;
    stt.bands = null;
    sttoneditprepare();
  }

  // Register the handlers for the fields
  stt.handlersUI = function () {
    $('#node-input-apikey').change(function(val){
      stt.checkCredentials();
    });

    $('#node-input-lang').change(function (val) {
      stt.language_selected = $('#node-input-lang').val();
      stt.populateBands();
      stt.populateCustoms();
    });

    $('#node-input-langcustom').change(function (val) {
      stt.custom_selected = $('#node-input-langcustom').val();
    });

    $('#node-input-band').change(function (val) {
      stt.band_selected = $('#node-input-band').val();
      stt.populateCustoms();
    });

    $('#node-input-streaming-mode').change(function () {
      var fields = [];
      fields.push('#node-input-streaming-mute'
                     + ', #node-input-discard-listening'
                     + ', #node-input-auto-connect');

      var checked = $('#node-input-streaming-mode').prop('checked')
      if (checked) {
        stt.showSelectedFields(fields);
      } else {
        stt.hideSelectedFields(fields);
      }
    });

    $('#node-input-flushcache').click(function () {
      stt.flushCache();
    });

  }

  // Function to fetch the customisations, should only be done once
  stt.fetchCustomisations = function() {
    if (!stt.customisations) {
      var k = $('#node-input-apikey').val();
      var e = $('#node-input-service-endpoint').val();
      var creds = {key: k};

      creds.e = e;

      $.getJSON('watson-speech-to-text/customs', creds)
      .done(function (data) {
        $('label#node-label-message').parent().hide();
        if (data.error) {
          $('label#node-label-message').parent().show();
          $('label#node-label-message').text(data.error);        }
        else {
          stt.customisations = data.customizations;
          stt.populateCustoms();
        }
      }).fail(function (err) {
        var txt = 'Got server error ';
        if (err.status) {
          txt += '(' + err.status + ') '
        }
        txt += 'when trying to retrieve available customisations';
        $('label#node-label-message').parent().show();
        $('label#node-label-message').text(txt);
      }).always(function () {
      });

    }
  }

  // Function called when either when the models have been retrieved, or
  // on dialog load, if the model has already been retrieved
  stt.postModelCheck = function () {
    stt.processModels();
    stt.VisibilityCheck();
    stt.fetchCustomisations();
  }

  // Retrieve the available models from the server, if data is returned, then
  // can enable the dynamic selection fields.
  stt.getModels = function (haveCredentials) {
    var k = $('#node-input-apikey').val();
    var e = $('#node-input-service-endpoint').val();
    var creds = {key: k};

    creds.e = e;

    $.getJSON('watson-speech-to-text/models/', creds)
    .done(function (data) {
      if (data.error) {
        $('label#node-label-message').parent().show();
        $('label#node-label-message').text(data.error);
      } else if (data.models) {
        stt.models = data.models;
        //have_credentials = true;
        stt.postModelCheck();
      }
    }).fail(function (err) {
      $('label#node-label-message').parent().show();
      $('label#node-label-message').text('Error trying to determine available service models');

    }).always(function () {});
  }

  // Called to complete the languages selection table
  stt.processSTTLanguages = function () {
    if (!stt.languages && stt.models) {
      stt.languages = stt.models.map(function(m) {
        return m.language;
      });
    }
    if (stt.languages) {
      $('select#node-input-lang').empty();
      var unique_langs = stt.languages.filter(stt.onlyUnique);

      unique_langs.sort();

      unique_langs.forEach(function(l) {
        var selectedText = '';
        if (stt.language_selected === l) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-lang')
          .append('<option value='
                        + '"' + l + '"'
                        + selectedText
                        + '>'
                        + (stt.LANGUAGES[l] ? stt.LANGUAGES[l] : l)
                        + '</option>');
      });
    }
  }

  // Called to work through the models, completing the dyanmic selection fields.
  stt.processModels = function () {
    if (stt.models) {
      stt.processSTTLanguages();
      stt.populateBands();
    }
  }

  // The dynamic nature of the selection fields in this node has caused problems.
  // Whenever there is a fetch for the models, on a page refresh or applicaiton
  // restart, the settings for the dynamic fields are lost.
  // So hidden (text) fields are being used to squirrel away the values, so that
  // they can be restored.
  stt.restoreFromHidden = function () {
    stt.language_selected = $('#node-input-langhidden').val();
    $('select#node-input-lang').val(stt.language_selected);

    stt.band_selected = $('#node-input-bandhidden').val();
    $('select#node-input-band').val(stt.band_selected);

    stt.custom_selected = $('#node-input-langcustomhidden').val();
    $('select#node-input-langcustom').val(stt.custom_selected);
  }

  // This is the on edit prepare function, which will be invoked everytime the dialog
  // is shown.
  function sttoneditprepare() {
    stt.hideEverything();
    stt.restoreFromHidden();
    stt.handlersUI();

    $.getJSON('watson-speech-to-text/vcap/')
      // for some reason the getJSON resets the vars so need to restoreFromHidden again
      // so again.
      .done(function (service) {
        stt.restoreFromHidden();
        $('.credentials').toggle(!service);
        if (!stt.models) {stt.getModels(service);}
        else {stt.postModelCheck();}
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
     });
  }

  // Save the values in the dyanmic lists to the hidden fields.
  function sttoneditsave(){
    $('#node-input-langhidden').val(stt.language_selected);
    $('#node-input-bandhidden').val(stt.band_selected);
    $('#node-input-langcustomhidden').val(stt.custom_selected);
  }

    (function() {
        RED.nodes.registerType('watson-speech-to-text', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                alternatives: {value: 1},
                speakerlabels: {value: true},
                smartformatting: {value: false},
                lang: {value: ''},
                langhidden: {value: ''},
                langcustom: {value: ''},
                langcustomhidden: {value: ''},
                'custom-weight': {value: '0.5'},
                band: {value: ''},
                bandhidden: {value: ''},
                keywords: {value: ''},
                'keywords-threshold': {value: '0.5'},
                'word-confidence': {value: false},
                password: {value: ''},
                apikey: {value: ''},
                'payload-response' :{value: false},
                'streaming-mode' :{value: false},
                'streaming-mute' :{value: true},
                'auto-connect' :{value: false},
                'discard-listening' :{value: false},
                'disable-precheck' :{value: false},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              // password: {type: 'password'}   - // Taken out because, was not being restored on dialog open.
            },
            color: 'rgb(140, 198, 63)',
            inputs: 1,
            outputs: 1,
            icon: 'speech_to_text.png',
            paletteLabel: 'speech to text',
            label: function() {
                return this.name || 'speech to text';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: sttoneditprepare,
            oneditsave: sttoneditsave
        });
    })();

</script>
<script type="text/x-red" data-help-name="watson-speech-to-text">
    <p>The Speech To Text converts the human voice into the written word. This service uses machine intelligence to
    combine information about grammar and language structure with knowledge of the composition of the audio signal to
    generate a more accurate transcription</p>
    <p>The audio file to be analysed should be passed in on <code>msg.payload</code>.</p>
    <p>Supported <code>msg.payload</code> types:</b>.</p>
    <ul>
        <li><b>String</b> URL to audio</li>
        <li><b>Buffer</b> Raw Audio Bytes</li>
    </ul>
    <p>Audio must be a <b>WAV, FLAC or OGG encoded file</b>.</p>
    <p>Speech To Text supports decoding speech from three languages: <b>English, Spanish, Japanese, Brazilian Portuguese
    and Mandarin Chinese</b>. This option can be modified in the configuration panel.</p>
    <p>Along with the language, you can also configure the source audio quality. The service supports two different
    source sampling rates, <b>Narrowband (8KHz) and Broadband (16Khz)</b>. Higher sample rates will be downsampled
    automatically but the is not true in reverse.</p>
    <p>Use the speaker label property to  identify which individuals spoke which words in a multi-participant exchange.
    </p>
    <p>Source language parameters can be configured through the editor panel or set dynamically using
    the language code in <code>msg.srclang</code> Please see
    the documentation linked below for the currently supported language codes. You can use the
    two character code from Language Indentification, but the language will default. eg. <code>en</code>
    will default to <code>en-US</code></p>
    <p></p>
    Keywords to identify should be entered as a comma separted list. If keywords are specified
    then keyword threshold must also be set.
    <p></p>
    Keywords to identify should be entered as a comma separted list. If keywords are specified
    then keyword threshold must also be set.
    <p></p>
    Check the word confidence setting if you want confidence scores for each word.
    <p></p>
    <p>The returned audio transcription will be returned on <code>msg.transcription</code>.</p>
    <p>The full response, including alternative transcriptions can be found on
    <code>msg.fullresult</code>.</p>

    <p>When streaming mode is selected the node makes use of a websocket connection
    to communicate with the Speech to Text service. Input to the node will be from
    a Node-RED websocket node. Output will be from a Node-RED websocket. WebSocket input
    is as per the WebSocket input for Speech To Text, with an action of either
    <code>start</code> or <code>stop</code> or an audio blob. No token is needed
    as the node takes care of that step.</p>
    <p>>The Mute option allows for the supression of session timeout messages.</p>
    <p>>The Discard Listening option allows for listening events from STT to be discarded.</p>
    <p>For more information about the Speech To Text service, read the <a href="https://www.ibm.com/watson/services/speech-to-text/">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-speech-to-text-corpus-builder-v1] --- -->
<!--
  Copyright 2017, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-speech-to-text-v1-query-builder">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div>
        <label id="node-label-message"><i class="fa fa-exclamation-triangle"></i></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name"></input>
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://stream.watsonplatform.net/speech-to-text/api">
    </div>

    <div class="form-row">
        <label for="node-input-stt-custom-mode"><i class="fa fa-book"></i> Detect: </label>
        <select type="text" id="node-input-stt-custom-mode" style="display: inline-block; width: 70%;">
            <option value="createCustomisation">Create a custom language model</option>
            <option value="listCustomisations">List Customizations</option>
            <option value="getCustomisation">Get Customization</option>
            <option value="resetCustomisation">Reset Customization</option>
            <option value="upgradeCustomisation">Upgrade Customization</option>
            <option value="deleteCustomisation">Delete Customization</option>
            <option disabled>______________</option>
            <option value="addCorpus">Add Corpus</option>
            <option value="getCorpus">Get Corpus</option>
            <option value="getCorpora">List Corpora</option>
            <option value="deleteCorpus">Delete Corpus</option>
            <option disabled>______________</option>
            <option value="addWords">Add Words</option>
            <option value="listCustomWords">List Custom Words</option>
            <option value="deleteCustomWord">Delete Custom Word</option>
            <option disabled>______________</option>
            <option value="train">Train Customization</option>

        </select>
    </div>

    <div class="form-row">
        <label for="node-input-stt-custom-model-name"><i class="fa fa-book"></i> Custom Model Name</label>
        <input type="text" id="node-input-stt-custom-model-name" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-stt-base-model"><i class="fa fa-language"></i> Base Model</label>
        <select type="text" id="node-input-stt-base-model" style="display: inline-block; width: 70%;">
        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-base-model-hidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-stt-custom-model-description"><i class="fa fa-book"></i> Custom Model Description</label>
        <input type="text" id="node-input-stt-custom-model-description" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-stt-custom-id"><i class="fa fa-book"></i> Customization ID</label>
        <input type="text" id="node-input-stt-custom-id" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-stt-corpus-name"><i class="fa fa-book"></i> Corpus Name</label>
        <input type="text" id="node-input-stt-corpus-name" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-stt-word-name"><i class="fa fa-book"></i> Word Name</label>
        <input type="text" id="node-input-stt-word-name" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-stt-allow-overwrite"><i class="fa fa-book"></i> Allow Overwrite</label>
        <input type="checkbox" id="node-input-stt-allow-overwrite" placeholder="">
    </div>


</script>



<script type="text/javascript">

  // Need to simulate a namespace, as some of the variables had started to leak across nodes
  function STTV1QBB () {
  }


  // This is the namespace for sttv1qbb. Currently only contains models, but more vars and functions may need to be
  // moved in if there is a clash with other nodes.
  var sttv1qbb = new STTV1QBB();
  sttv1qbb.models = null;
  sttv1qbb.mode_selected = null;
  sttv1qbb.model_selected = '';

  // Function to be used at the start, as don't want to expose any fields, unless the models are
  // available. The models can only be fetched if the credentials are available.
  sttv1qbb.hideEverything = function () {
    if (!sttv1qbb.models) {
      $('#credentials-not-found').show();
      $('label#node-label-message').parent().hide();
    }
    $('input#node-input-stt-custom-model-name').parent().hide();
    $('select#node-input-stt-base-model').parent().hide();
    $('input#node-input-stt-custom-model-description').parent().hide();
    $('input#node-input-stt-custom-id').parent().hide();
    $('input#node-input-stt-corpus-name').parent().hide();
    $('input#node-input-stt-word-name').parent().hide();
    $('input#node-input-stt-allow-overwrite').parent().hide();
  }

  sttv1qbb.showSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().show();
    }
  }

  // The dynamic nature of the selection fields in this node has caused problems.
  // Whenever there is a fetch for the models, on a page refresh or applicaiton
  // restart, the settings for the dynamic fields are lost.
  // So hidden (text) fields are being used to squirrel away the values, so that
  // they can be restored.
  sttv1qbb.restoreFromHidden = function () {
    sttv1qbb.model_selected = $('#node-input-base-model-hidden').val();
    $('select#node-input-stt-base-model').val(stt.model_selected);
  }

  sttv1qbb.processSelectedMethod = function(method) {
    sttv1qbb.hideEverything();
    fields = [];
    switch (method) {
      case 'createCustomisation':
        fields.push('#node-input-stt-custom-model-name'
                        + ', #node-input-stt-base-model'
                        + ', #node-input-stt-custom-model-description');
        break;
      case 'getCustomisation':
      case 'deleteCustomisation':
      case 'upgradeCustomisation':
      case 'resetCustomisation':
      case 'getCorpora':
      case 'train':
      case 'listCustomWords':
      case 'addWords':
        fields.push('#node-input-stt-custom-id');
        break;
      case 'addCorpus':
        fields.push('#node-input-stt-custom-id'
                     + ', #node-input-stt-corpus-name'
                     + ', #node-input-stt-allow-overwrite');
        break;
      case 'deleteCorpus':
      case 'getCorpus':
        fields.push('#node-input-stt-custom-id'
                      + ', #node-input-stt-corpus-name');
        break;
      case 'deleteCustomWord':
        fields.push('#node-input-stt-custom-id'
                     + ', #node-input-stt-word-name');
      break;
    }
    sttv1qbb.showSelectedFields(fields);
  }



  // Check if there is a model then can show the fields.
  // available. The models can only be fetched if the credentials are available.
  sttv1qbb.VisibilityCheck = function () {
    if (sttv1qbb.models) {
      $('label#node-label-message').parent().hide();
    } else {
      $('label#node-label-message').parent().hide();
    }
  }


  // Simple check that is only invoked if the service is not bound into bluemix. In this case the
  // user has to provide credentials. Once there are credentials, then the sttv1qbb.models are retrieved.
  sttv1qbb.checkCredentials = function () {
    var k = $('#node-input-apikey').val();

    if (k && k.length) {
      if (!sttv1qbb.models) {
        sttv1qbb.getModels();
      }
    }
  }


  // Register the handlers for the fields
  sttv1qbb.handlersUI = function () {
    $('#node-input-apikey').change(function(val){
      sttv1qbb.checkCredentials();
    });

    $('#node-input-stt-custom-mode').change(function() {
      sttv1qbb.mode_selected = $('#node-input-stt-custom-mode').val();
      sttv1qbb.processSelectedMethod(sttv1qbb.mode_selected);
    });

    $('#node-input-stt-base-model').change(function (val) {
      sttv1qbb.model_selected = $('#node-input-stt-base-model').val();
    });
  }

  // Called to complete the models table
  sttv1qbb.populateModels = function () {

    // node-input-stt-base-model
    if (sttv1qbb.models) {
      $('select#node-input-stt-base-model').empty();
      //var unique_langs = stt.languages.filter(stt.onlyUnique);

      sttv1qbb.models.forEach(function(m) {
        var selectedText = '';

        if (sttv1qbb.model_selected === m.name) {
          selectedText = ' selected="selected" ';
        }

        $('select#node-input-stt-base-model')
          .append('<option value='
                        + m.name
                        + selectedText
                        + '>'
                        + m.description
                        + '</option>');
      });
    }

  }


  // Called to work through the models, completing the dyanmic selection fields.
  sttv1qbb.processModels = function () {
    if (sttv1qbb.models) {
      sttv1qbb.populateModels();
    }
  }


  // Function called when either when the models have been retrieved, or
  // on dialog load, if the model has already been retrieved
  sttv1qbb.postModelCheck = function () {
    sttv1qbb.processModels();
    sttv1qbb.VisibilityCheck();
  }

  // Retrieve the available models from the server, if data is returned, then
  // can enable the dynamic selection fields.
  sttv1qbb.getModels = function (haveCredentials) {
    var k = $('#node-input-apikey').val();
    var e = $('#node-input-service-endpoint').val();
    var creds = {key: k};

    creds.e = e;

    $.getJSON('watson-speech-to-text-v1-query-builder/models/', creds)
    .done(function (data) {
      if (data.error) {
        $('label#node-label-message').parent().show();
        $('label#node-label-message').text(data.error);
      } else if (data.models) {
        sttv1qbb.models = data.models;
        //have_credentials = true;
        sttv1qbb.postModelCheck();
      }
    }).fail(function (err) {
      $('label#node-label-message').parent().show();
      $('label#node-label-message').text('Error trying to determine available service models');

    }).always(function () {});
  }


  // This is the on edit prepare function, which will be invoked everytime the dialog
  // is shown.
  function sttv1qbboneditprepare() {
    sttv1qbb.hideEverything();
    sttv1qbb.restoreFromHidden();
    sttv1qbb.handlersUI();

    $.getJSON('watson-speech-to-text-v1-query-builder/vcap/')
      // for some reason the getJSON resets the vars so need to restoreFromHidden again
      // so again.
      .done(function (service) {
        sttv1qbb.restoreFromHidden();
        $('.credentials').toggle(!service);
        if (!sttv1qbb.models) {sttv1qbb.getModels(service);}
        else {sttv1qbb.postModelCheck();}
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
     });
  }

  // Save the values in the dyanmic lists to the hidden fields.
  function sttv1qbboneditsave(){
    $('#node-input-base-model-hidden').val(sttv1qbb.model_selected);
  }

    (function() {
        RED.nodes.registerType('watson-speech-to-text-v1-query-builder', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                apikey: {value: ''},
                'stt-custom-mode': {value:"createCustomisation"},
                'stt-custom-model-name' : {value: ''},
                'stt-base-model' : {value: ''},
                'base-model-hidden' : {value: ''},
                'stt-custom-model-description' : {value: ''},
                'stt-custom-id' : {value: ''},
                'stt-corpus-name' : {value: ''},
                'stt-word-name' : {value: ''},
                'stt-allow-overwrite' : {value: false},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              // password: {type: 'password'}   - // Taken out because, was not being restored on dialog open.
            },
            color: 'rgb(100, 120, 50)',
            inputs: 1,
            outputs: 1,
            icon: 'speech_to_text.png',
            paletteLabel: 'speech to text custom builder',
            label: function() {
                return this.name || 'speech to text custom builder';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: sttv1qbboneditprepare,
            oneditsave: sttv1qbboneditsave
        });
    })();

</script>
<script type="text/x-red" data-help-name="watson-speech-to-text-v1-query-builder">
    <p>The Speech To Text Custom Builder is used to create customisations
    for Speech to Text. It supports the following modes </p>
    <ul>
    <li>Create Custom Language Model
      <p>In this mode, a new empty custom model is created. The
        new customization id is returned on
        <code>msg.customization_id</code>
      </p>
    </li>
    <li>List Customizations
      <p>In this mode, a list of all customizations that you have
        created in returned on
        <code>msg.customizations</code>
      </p>
    </li>
    <li>Get Customization
      <p>In this mode, details for the specified customization
        is returned on
        <code>msg.customization</code>
      </p>
    </li>
    <li>Reset Customization
      <p>In this mode, the specified customization is reset,
        removing all corpora, grammars, and words from the model.
      </p>
    </li>
    <li>Upgrade Customization
      <p>In this mode, an upgrade of the custom language model
        to the latest version of its base language model is
        initialised.
      </p>
    </li>
    <li>Delete Customization
      <p>In this mode, the specified customization is deleted.
      </p>
    </li>
    <li>Add Corpus
      <p>In this mode, the specified customization content is
        created. The input corpus content should be provided as buffer
        on
        <code>msg.payload</code>
      </p>
    </li>
    <li>Get Corpora
      <p>In this mode, a list of all the corpora created for
        the specified customization
        is returned on
        <code>msg.corpora</code>
      </p>
    </li>
    <li>Get Corpus
      <p>In this mode, details for the selected corporus
        is returned on
        <code>msg.corpus</code>
      </p>
    </li>
    <li>Train
      <p>In this mode, the custom model is prepared for use
        by the speech to text service.
      </p>
    </li>
    <li>List Custom Words
      <p>In this mode, a list of all the words from a custom model are
        retrieved.
      </p>
    </li>
    <li>Add Words
      <p>In this mode, the specified custom words are added to the
        customization. The input array of words should be passed in
        as <code>msg.payload</code> in form of
        <code>[{word: String, sounds_like: [String, ...], display_as: String}, ...]</code>
        <br/>EG.
        <code>
          [ {"word": "HHonors", "sounds_like": ["hilton honors", "h honors"],
                                "display_as": "HHonors"},
            {"word": "IEEE", "sounds_like": ["i triple e"]}
          ]
        </code>
      </p>
    </li>
    <li>Delete Corpus
      <p>In this mode, the specified corpus is deleted.
      </p>
    </li>
    </ul>

    <p>For more information about Speech To Text customisation,
    read the <a href="https://console.bluemix.net/docs/services/speech-to-text/custom.html">
    documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-text-to-speech-v1] --- -->
<!--
  Copyright 2015, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-text-to-speech">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div>
        <label id="node-label-message"><i class="fa fa-exclamation-triangle"></i></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://stream.watsonplatform.net/text-to-speech/api">
    </div>

    <div class="form-row">
        <label for="node-input-lang"><i class="fa fa-language"></i> Language</label>
        <select type="text" id="node-input-lang" style="display: inline-block; width: 70%;" >
        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-langhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-langcustom"><i class="fa fa-language"></i> Customization</label>
        <select type="text" id="node-input-langcustom" style="display: inline-block; width: 70%;">
        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-langcustomhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-voice"><i class="fa fa-comment"></i> Voice</label>
        <select type="text" id="node-input-voice" style="display: inline-block; width: 70%;">
         </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-voicehidden"/>
    </div>
    <div class="form-row">
        <label for="node-input-format"><i class="fa fa-file-audio-o"></i> Format</label>
        <select type="text" id="node-input-format" style="display: inline-block; width: 70%;" >
            <option value="audio/wav">WAV</option>
            <option value="audio/flac">FLAC</option>
            <option value="audio/ogg; codecs=opus">OGG</option>
            <option value="audio/mp3">MP3</option>
            <option value="audio/mpeg">MPEG</option>
            <option value="audio/webm">WEBM</option>
            <option value="audio/basic">BASIC</option>
        </select>
    </div>

    <div class="form-row">
        <label>&nbsp;</label>
        <input type="checkbox" id="node-input-payload-response" style="display: inline-block; width: auto; vertical-align: top;">
        <label for="node-input-payload-response" style="width: 70%;"> Place output on msg.payload</label>
    </div>

</script>



<script type="text/javascript">

  // Need to simulate a namespace, so that some of the variables don't leak across nodes
  function TTS () {
  }

  // This is the namespace for tts.
  var tts = new TTS();
  tts.custom_selected = '';
  tts.customisations = null;

  //tts.language_selected = '';
  //tts.voice_selected = '';
  tts.LANGUAGES = { 'en-US': 'US English',
                    'en-GB': 'UK English',
                    'en-AU': 'Australian English',
                    'pt-BR': 'Portuguese Brazilian',
                    'cs-CZ': 'Czech',
                    'fr-FR': 'French',
                    'fr-CA': 'French (Canadian)',
                    'it-IT': 'Italian',
                    'de-DE': 'German',
                    'nl-NL': 'Dutch',
                    'nl-BE': 'Dutch (Belgian)',
                    'zh-CN': 'Mandarin',
                    'es-ES': 'Spanish',
                    'es-LA': 'Latin American Spanish',
                    'es-US': 'US Spanish',
                    'sv-SE': 'Swedish',
                    'ar-AR': 'Arabic',
                    'ar-MS': 'Arabic (MS)',
                    'ko-KR': 'Korean',
                    'ja-JP': 'Japanese'
                  };

  // sorting functions
  tts.onlyUnique = function (value, index, self) {
    return self.indexOf(value) === index;
  }

  // Called to complete the languages selection table
  tts.processLanguages = function () {
    if (!tts.languages && tts.voices) {
      tts.languages = tts.voices.map(function(m) {
        return m.language;
      });
    }
    if (tts.languages) {
      $('select#node-input-lang').empty();
      var unique_langs = tts.languages.filter(tts.onlyUnique);

      unique_langs.sort();

      unique_langs.forEach(function(l) {
        var selectedText = '';
        if (tts.language_selected === l) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-lang')
          .append('<option value='
                        + '"' + l + '"'
                        + selectedText
                         + '>'
                        + (tts.LANGUAGES[l] ? tts.LANGUAGES[l] : l)
                        + '</option>');
      });

    }
  }

 // Populate the Voices selection field
 tts.populateVoices = function () {
   if (!tts.voicenames && tts.voices) {
     tts.voicenames = tts.voices.map(function(m) {
       //return m.name.split('_')[1];
       return m.name;
     });
     var unique_voices = tts.voicenames.filter(tts.onlyUnique);
     tts.voicenames = unique_voices;
   }
   if (!tts.voicedata && tts.voicenames){
     tts.voicedata = [];
     tts.voicenames.forEach(function(a){
       var element = {};
       var bits = a.split('_');
       element.full = a;
       element.language = bits[0];
       element.person = bits[1].replace('Voice','');;
       tts.voicedata.push(element);
     });
   }

   if (tts.voicedata) {
     $('select#node-input-voice').empty();

     tts.voicedata.forEach(function(b) {
       var selectedText = '';
       if (tts.voice_selected === b.full) {
         selectedText = 'selected="selected"';
       }
       if (tts.language_selected === b.language) {
         $('select#node-input-voice')
           .append('<option value='
                         + '"' + b.full + '"'
                         + selectedText
                         + '>'
                         + b.person
                         + '</option>');
       }
     });
   }
 }


  // Called to work through the voices, completing the dyanmic selection fields.
  tts.processVoices = function () {
    if (tts.voices) {
      tts.processLanguages();
      tts.populateVoices();
    }
  }

  tts.visibilityCheck = function ()
  {
    if (tts.voices) {
      $('label#node-label-message').parent().hide();
      $('select#node-input-lang').parent().show();
      $('select#node-input-voice').parent().show();
    } else {
      $('label#node-label-message').parent().hide();
      $('select#node-input-lang').parent().hide();
      $('select#node-input-voice').parent().hide();
      $('select#node-input-langcustom').parent().hide();
    }
  }

  // Function to fetch the customisations, should only be done once
  tts.fetchCustomisations = function() {
    if (!tts.customisations) {
      var k = $('#node-input-apikey').val();
      var e = $('#node-input-service-endpoint').val();
      var creds = {key: k};

      creds.e = e;

      $.getJSON('watson-text-to-speech/customs', creds)
      .done(function (data) {
        $('label#node-label-message').parent().hide();
        if (data.error) {
          $('label#node-label-message').parent().show();
          $('label#node-label-message').text(data.error);
        }
        else {
          tts.customisations = data.customizations;
          tts.populateCustoms();
        }
      }).fail(function (err) {
        var txt = 'Got server error ';
        if (err.status) {
          txt += '(' + err.status + ') '
        }
        txt += 'when trying to retrieve available customisations';
        $('label#node-label-message').parent().show();
        $('label#node-label-message').text(txt);
      }).always(function () {
      });

    }
  }


  // Function called when either when the voices have been retrieved, or
  // on dialog load, if the voices has already been retrieved
  tts.postVoiceCheck = function (){
    tts.processVoices();
    tts.visibilityCheck();
    tts.fetchCustomisations();
  }

  // Retrieve the available voices from the server, if data is returned, then
  // can enable the dynamic selection fields.
  tts.getVoices = function (){
    var k = $('#node-input-apikey').val();
    var e = $('#node-input-service-endpoint').val();
    var creds = {key: k};

    creds.e = e;

    $.getJSON('watson-text-to-speech/voices/', creds)
    .done(function (data) {
      if (data.error) {
        $('label#node-label-message').parent().show();
        $('label#node-label-message').text(data.error);
      } else if (data.voices) {
        tts.voices = data.voices;
        tts.postVoiceCheck();
      }
    }).fail(function (err) {
      $('label#node-label-message').parent().show();
      $('label#node-label-message').text('Error trying to determine available service voices');

    }).always(function () {});
  }


  // The dynamic nature of the selection fields in this node has caused problems.
  // Whenever there is a fetch for the models, on a page refresh or applicaiton
  // restart, the settings for the dynamic fields are lost.
  // So hidden (text) fields are being used to squirrel away the values, so that
  // they can be restored.
  tts.restoreFromHidden = function () {
    tts.language_selected = $('#node-input-langhidden').val();
    $('select#node-input-lang').val(tts.language_selected);

    tts.voice_selected = $('#node-input-voicehidden').val();
    $('select#node-input-voice').val(tts.voice_selected);

    tts.custom_selected = $('#node-input-langcustomhidden').val();
    $('select#node-input-langcustom').val(tts.custom_selected);

  }

  // Simple check that is only invoked if the service is not bound into bluemix. In this case the
  // user has to provide credentials. Once there are credentials, then the tts.voices are retrieved.
  tts.checkCredentials = function () {
    var k = $('#node-input-apikey').val();

    if (k && k.length) {
      if (!tts.voices) {
        tts.getVoices();
      }
    }
  }

  // Language Setting has changed, modofy voice options appropriately
  tts.checkLanguage = function (){
    //var lang = $('#node-input-lang').val();
    //$('#node-input-voice option.' + lang).show();
    //$('#node-input-voice option:not(.' + lang + ')').hide();
    //var first = $('#node-input-voice option.' + lang + ':first').val();
    //$('#node-input-voice').val(first);

    tts.language_selected = $('#node-input-lang').val();
  }

  // Voice Setting has changed, modofy voice options appropriately
  tts.checkVoice = function (){
    tts.voice_selected = $('#node-input-voice').val();
  }

  // Populate the customisations selection field
  // Need to check if we have customisations and if the
  // selected language and model have an entry.
  tts.populateCustoms = function() {
    var showit = false;

    $('select#node-input-langcustom').empty();

    // Add an option to not select
    $('select#node-input-langcustom')
      .append('<option value='
                    + 'NoCustomisationSetting'
                    + '' //showit ? '' : ' selected="selected" '
                    + '>'
                    + 'None'
                    + '</option>');

    if (tts.customisations) {
      tts.language_selected = tts.language_selected ?
                                  tts.language_selected :
                                  $('#node-input-langhidden').val();

      tts.customisations.forEach(function(c) {
        // Should really be checking against the cached values
        // stt.language_selected and stt.band_selected
        // but for some reason they are not always set.

        if (tts.language_selected === c['language']) {
          showit = true;
          var selectedText = '';
          if (tts.custom_selected === c['customization_id']) {
            selectedText = ' selected="selected" ';
          }
          $('select#node-input-langcustom')
            .append('<option value='
                          + '"' + c['customization_id'] + '"'
                          + selectedText
                          + '>'
                          + c['name']
                          + '</option>');
        }
      });
    }


    if (showit) {
      $('select#node-input-langcustom').parent().show();
    } else {
      $('select#node-input-langcustom').parent().hide();
    }
  }

  // Register the onchange handlers
  tts.registerHandlers = function () {
    $('#node-input-apikey').change(function(val){
      tts.checkCredentials();
    });
    $('#node-input-lang').change(function () {
      tts.checkLanguage();
      tts.populateVoices();
      tts.populateCustoms();
    });
    $('#node-input-voice').change(function () {
      tts.checkVoice();
    });
    $('#node-input-langcustom').change(function (val) {
      tts.custom_selected = $('#node-input-langcustom').val();
    });
  }

  // Function to be used at the start, as don't want to expose any fields, unless the models are
  // available. The models can only be fetched if the credentials are available.
  tts.hideEverything = function () {
    if (!tts.voices) {
      $('label#node-label-message').parent().hide();
      $('select#node-input-lang').parent().hide();
      $('select#node-input-voice').parent().hide();
      $('select#node-input-langcustom').parent().hide();
    }
  }

  // This is the on edit prepare function, which will be invoked everytime the dialog
  // is shown.
  function ttsoneditprepare() {
    tts.hideEverything();
    tts.restoreFromHidden();
    tts.registerHandlers();

    $.getJSON('watson-text-to-speech/vcap/')
     .done(function (service) {
       tts.restoreFromHidden();
        $('.credentials').toggle(!service);
        if (!tts.voices) {tts.getVoices();}
        else {tts.postVoiceCheck();}
      })
    .fail(function () {
      $('.credentials').show();
    }).always(function () {
      $('#credentials-check').hide();
    })
  }

  // Save the values in the dyanmic lists to the hidden fields.
  function ttsoneditsave(){
    $('#node-input-langhidden').val(tts.language_selected);
    $('#node-input-voicehidden').val(tts.voice_selected);
    $('#node-input-langcustomhidden').val(tts.custom_selected);
  }

    (function() {
        RED.nodes.registerType('watson-text-to-speech', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ""},
                lang: {value: ""},
                langhidden: {value: ""},
                langcustom: {value: ''},
                langcustomhidden: {value: ''},
                voice: {value: ""},
                voicehidden: {value: ""},
                format: {value: "audio/wav"},
                password: {value: ''},
                apikey: {value: ''},
                'payload-response' :{value: false},
                'service-endpoint' :{value: ""}
            },
            credentials: {
              // password: {type:"password"}   - // Taken out because, was not being restored on dialog open.
            },
            color: "rgb(140, 198, 63)",
            inputs: 1,
            outputs: 1,
            icon: "text_to_speech.png",
            paletteLabel: "text to speech",
            label: function() {
                return this.name || "text to speech";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditsave: ttsoneditsave,
            oneditprepare: ttsoneditprepare
        });
     })();
</script>
<script type="text/x-red" data-help-name="watson-text-to-speech">
    <p>The Text To Speech service understands text and natural language to generate synthesized audio output complete
    with appropriate cadence and intonation.</p>
    <p>You can choose different voices for a range of languages:</b>.</p>
    <p>The text to be converted should be passed in on <code>msg.payload</code>.</p>
    <p><b>The source text must be in the language which matches the chosen voice, i.e. you cannot choose to a Spanish
    voice with English text.</b>.</p>
    <p>The returned audio transcription will be returned as a raw buffer containing the audio on <code>msg.speech</code>.</p>
    <p>For more information about the Text To Speech service, read the <a href="https://www.ibm.com/watson/services/text-to-speech/">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-text-to-speech-corpus-builder-v1] --- -->
<!--
  Copyright 2017, 2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-text-to-speech-v1-query-builder">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>

    <div>
        <label id="node-label-message"><i class="fa fa-exclamation-triangle"></i></label>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name"></input>
    </div>


    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://stream.watsonplatform.net/text-to-speech/api">
    </div>

    <div class="form-row">
        <label for="node-input-tts-custom-mode"><i class="fa fa-book"></i> Detect: </label>
        <select type="text" id="node-input-tts-custom-mode" style="display: inline-block; width: 70%;">
            <option value="createCustomisation">Create a custom language model</option>
            <option value="listCustomisations">List Customizations</option>
            <option value="getCustomisation">Get Customization</option>
            <option value="deleteCustomisation">Delete Customization</option>
            <option value="listVoices">List Voices</option>
            <option value="getPronounce">Get Pronouncation</option>
            <option value="addWords">Add Words</option>
            <option value="getWords">Get Words</option>
            <option value="deleteWord">Delete Word</option>
          </select>
    </div>

    <div class="form-row">
        <label for="node-input-tts-custom-format"><i class="fa fa-book"></i> Format: </label>
        <select type="text" id="node-input-tts-custom-format" style="display: inline-block; width: 70%;">
            <option value="ipa">International Phonetic Alphabet</option>
            <option value="spr">IBM Symbolic Phonetic Representation</option>
          </select>
    </div>

    <div class="form-row">
        <label for="node-input-tts-voice-or-custom"><i class="fa fa-book"></i> Get Pronounciation: </label>
        <select type="text" id="node-input-tts-voice-or-custom" style="display: inline-block; width: 70%;">
            <option value="voice">by voice</option>
            <option value="custom">by customization</option>
          </select>
    </div>

    <div class="form-row">
        <label for="node-input-tts-lang"><i class="fa fa-language"></i> Language</label>
        <select type="text" id="node-input-tts-lang" style="display: inline-block; width: 70%;" >

        </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-tts-langhidden"/>
    </div>

    <div class="form-row">
        <label for="node-input-voice"><i class="fa fa-comment"></i> Voice</label>
        <select type="text" id="node-input-tts-voice" style="display: inline-block; width: 70%;">
         </select>
    </div>
    <div class="form-row">
        <input type="hidden" id="node-input-tts-voicehidden"/>
    </div>


    <div class="form-row">
        <label for="node-input-tts-custom-model-name"><i class="fa fa-book"></i> Custom Model Name</label>
        <input type="text" id="node-input-tts-custom-model-name" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-tts-custom-model-description"><i class="fa fa-book"></i> Custom Model Description</label>
        <input type="text" id="node-input-tts-custom-model-description" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-tts-custom-id"><i class="fa fa-book"></i> Customization ID</label>
        <input type="text" id="node-input-tts-custom-id" placeholder="">
    </div>

    <div class="form-row">
        <label for="node-input-tts-custom-word"><i class="fa fa-book"></i> Word</label>
        <input type="text" id="node-input-tts-custom-word" placeholder="">
    </div>

</script>



<script type="text/javascript">

  // Need to simulate a namespace, as some of the variables had started to leak across nodes
  function TTSV1QBB () {
  }


  // This is the namespace for ttsv1qbb. Currently only contains models, but more vars and functions may need to be
  // moved in if there is a clash with other nodes.
  var ttsv1qbb = new TTSV1QBB();
  ttsv1qbb.LANGUAGES = { 'en-US': 'US English',
                    'en-GB': 'UK English',
                    'pt-BR': 'Portuguese Brazilian',
                    'fr-FR': 'French',
                    'it-IT': 'Italian',
                    'de-DE': 'German',
                    'nl-NL': 'Dutch',
                    'zh-CN': 'Mandarin',
                    'es-ES': 'Spanish',
                    'es-LA': 'Latin American Spanish',
                    'es-US': 'US Spanish',
                    'ar-AR': 'Arablic',
                    'ja-JP': 'Japanese'
                  };

  ttsv1qbb.voices = null;
  ttsv1qbb.languages = null;
  ttsv1qbb.language_selected = '';
  ttsv1qbb.voice_selected = '';
  ttsv1qbb.mode_selected = null;
  ttsv1qbb.voicenames = null;

  // sorting functions
  ttsv1qbb.onlyUnique = function (value, index, self) {
    return self.indexOf(value) === index;
  }

  // Simple check that is only invoked if the service is not bound into bluemix. In this case the
  // user has to provide credentials. Once there are credentials, then the
  // ttsv1qbb.??? are retrieved.
  ttsv1qbb.checkCredentials = function () {
    var k = $('#node-input-apikey').val();

    if (k && k.length) {
      if (!ttsv1qbb.voices) {;
        ttsv1qbb.getVoices();
      }
    }
  }

  ttsv1qbb.showSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().show();
    }
  }

  ttsv1qbb.hideSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().hide();
    }
  }


  ttsv1qbb.processPronounceSetting = function () {
    var vorc = $('#node-input-tts-voice-or-custom').val();
    var showfields = [];
    var hidefields = [];
    if ('custom' == vorc) {
      showfields.push('#node-input-tts-custom-id');
      hidefields.push('#node-input-tts-lang');
      hidefields.push('#node-input-tts-voice');
    } else {
      showfields.push('#node-input-tts-lang');
      showfields.push('#node-input-tts-voice');
      hidefields.push('#node-input-tts-custom-id');
    }
    ttsv1qbb.showSelectedFields(showfields);
    ttsv1qbb.hideSelectedFields(hidefields);
  }


  ttsv1qbb.processSelectedMethod = function(method) {
    ttsv1qbb.hideEverything();
    var fields = [];
    switch (method) {
      case 'createCustomisation':
        fields.push('#node-input-tts-custom-model-name'
                        + ', #node-input-tts-lang'
                        + ', #node-input-tts-custom-model-description');
        break;
      case 'deleteWord':
        fields.push('#node-input-tts-custom-word'
                        + ', #node-input-tts-custom-id');
        break;
      case 'getCustomisation':
      case 'deleteCustomisation':
      case 'addWords':
      case 'getWords':
        fields.push('#node-input-tts-custom-id');
        break;
      case 'getPronounce':
        fields.push('#node-input-tts-custom-word'
                        + ', #node-input-tts-custom-format'
                        + ', #node-input-tts-voice-or-custom');
        ttsv1qbb.processPronounceSetting();
        break;
    }
    ttsv1qbb.showSelectedFields(fields);
  }


  // Populate the Voices selection field
  ttsv1qbb.populateVoices = function () {
    if (!ttsv1qbb.voicenames && ttsv1qbb.voices) {
      ttsv1qbb.voicenames = ttsv1qbb.voices.map(function(m) {
        //return m.name.split('_')[1];
        return m.name;
      });
      var unique_voices = ttsv1qbb.voicenames.filter(ttsv1qbb.onlyUnique);
      ttsv1qbb.voicenames = unique_voices;
    }
    if (!ttsv1qbb.voicedata && ttsv1qbb.voicenames){
      ttsv1qbb.voicedata = [];
      ttsv1qbb.voicenames.forEach(function(a){
        var element = {};
        var bits = a.split('_');
        element.full = a;
        element.language = bits[0];
        element.person = bits[1].replace('Voice','');;
        ttsv1qbb.voicedata.push(element);
      });
    }

    if (ttsv1qbb.voicedata) {
      $('select#node-input-tts-voice').empty();

      ttsv1qbb.voicedata.forEach(function(b) {
        var selectedText = '';
        if (ttsv1qbb.voice_selected === b.full) {
          selectedText = 'selected="selected"';
        }
        if (ttsv1qbb.language_selected === b.language) {
          $('select#node-input-tts-voice')
            .append('<option value='
                          + '"' + b.full + '"'
                          + selectedText
                          + '>'
                          + b.person
                          + '</option>');
        }
      });
    }
  }


  // Register the handlers for the fields
  ttsv1qbb.handlersUI = function () {
    $('#node-input-apikey').change(function(val){
      ttsv1qbb.checkCredentials();
    });

    $('#node-input-tts-custom-mode').change(function() {
      ttsv1qbb.mode_selected = $('#node-input-tts-custom-mode').val();
      ttsv1qbb.processSelectedMethod(ttsv1qbb.mode_selected);
    });

    $('#node-input-tts-lang').change(function () {
      $('#node-input-tts-langhidden').val(ttsv1qbb.language_selected);
      ttsv1qbb.language_selected = $('#node-input-tts-lang').val();

      //tts.checkLanguage();
      ttsv1qbb.populateVoices();
    });

    $('#node-input-tts-voice').change(function () {
      $('#node-input-tts-voicehidden').val(ttsv1qbb.voice_selected);
      ttsv1qbb.voice_selected = $('#node-input-tts-voice').val();
    });


    $('#node-input-tts-voice-or-custom').change(function() {
      //console.log('voice or custom option is set to ', $('#node-input-tts-voice-or-custom').val());
      if ('getPronounce' == ttsv1qbb.mode_selected) {
        ttsv1qbb.processPronounceSetting();
      }
    });

  }

  // The dynamic nature of the selection fields in this node has caused problems.
  // Whenever there is a fetch for the models, on a page refresh or applicaiton
  // restart, the settings for the dynamic fields are lost.
  // So hidden (text) fields are being used to squirrel away the values, so that
  // they can be restored.
  ttsv1qbb.restoreFromHidden = function () {
    //ttsv1qbb.model_selected = $('#node-input-base-model-hidden').val();
    //$('select#node-input-tts-base-model').val(tts.model_selected);
    ttsv1qbb.language_selected = $('#node-input-tts-langhidden').val();
    $('select#node-input-tts-lang').val(ttsv1qbb.language_selected);

    ttsv1qbb.voice_selected = $('#node-input-tts-voicehidden').val();
    $('select#node-input-tts-voice').val(ttsv1qbb.voice_selected);
  }

  // Function to be used at the start, as don't want to expose any fields, unless the models are
  // available. The models can only be fetched if the credentials are available.
  ttsv1qbb.hideEverything = function () {
    var hidefields = [];

    if (!ttsv1qbb.voices) {
      $('#credentials-not-found').show();
      hidefields.push('#node-label-message');
    }
    hidefields.push('#node-input-tts-lang');
    hidefields.push('#node-input-tts-custom-model-name');
    hidefields.push('#node-input-tts-custom-model-description');
    hidefields.push('#node-input-tts-custom-id');
    hidefields.push('#node-input-tts-custom-word');
    hidefields.push('#node-input-tts-custom-format');
    hidefields.push('#node-input-tts-voice-or-custom');
    hidefields.push('#node-input-tts-voice');

    ttsv1qbb.hideSelectedFields(hidefields);
  }

  // Called to complete the languages selection table
  ttsv1qbb.processLanguages = function () {
    if (!ttsv1qbb.languages && ttsv1qbb.voices) {
      ttsv1qbb.languages = ttsv1qbb.voices.map(function(m) {
        return m.language;
      });
    }
    if (ttsv1qbb.languages) {
      $('select#node-input-tts-lang').empty();
      var unique_langs = ttsv1qbb.languages.filter(ttsv1qbb.onlyUnique);

      unique_langs.forEach(function(l) {
        var selectedText = '';
        if (ttsv1qbb.language_selected === l) {
          selectedText = 'selected="selected"';
        }
        $('select#node-input-tts-lang')
          .append('<option value='
                        + '"' + l + '"'
                        + selectedText
                         + '>'
                        + (ttsv1qbb.LANGUAGES[l] ? ttsv1qbb.LANGUAGES[l] : l)
                        + '</option>');
      });
    }
  }

  // Called to work through the voices, completing the dyanmic selection fields.
  ttsv1qbb.processVoices = function () {
    if (ttsv1qbb.voices) {
      ttsv1qbb.processLanguages();
      ttsv1qbb.populateVoices();
    }
  }

  ttsv1qbb.visibilityCheck = function ()
  {
    if (ttsv1qbb.voices) {
      $('label#node-label-message').parent().hide();
      //$('select#node-input-tts-lang').parent().show();
    } else {
      $('label#node-label-message').parent().hide();
      $('select#node-input-tts-lang').parent().hide();
    }
  }

  // Function called when either when the voices have been retrieved, or
  // on dialog load, if the voices has already been retrieved
  ttsv1qbb.postVoiceCheck = function (){
    ttsv1qbb.processVoices();
    ttsv1qbb.visibilityCheck();
  }

  ttsv1qbb.restoreFromHidden = function () {
    ttsv1qbb.language_selected = $('#node-input-tts-langhidden').val();
    $('select#node-input-tts-lang').val(ttsv1qbb.language_selected);
  }


  // Retrieve the available voices from the server, if data is returned, then
  // can enable the dynamic selection fields.
  ttsv1qbb.getVoices = function (){
    var k = $('#node-input-apikey').val();
    var e = $('#node-input-service-endpoint').val();
    var creds = {key: k};

    creds.e = e;

    $.getJSON('watson-text-to-speech-v1-query-builder/voices/',creds)
    .done(function (data) {
      if (data.error) {
        $('label#node-label-message').parent().show();
        $('label#node-label-message').text(data.error);
      } else if (data.voices) {
        ttsv1qbb.voices = data.voices;
        ttsv1qbb.postVoiceCheck();
      }
    }).fail(function (err) {
      $('label#node-label-message').parent().show();
      $('label#node-label-message').text('Error trying to determine available service voices');

    }).always(function () {});
  }


  // This is the on edit prepare function, which will be invoked everytime the dialog
  // is shown.
  function ttsv1qbboneditprepare() {
    ttsv1qbb.hideEverything();
    ttsv1qbb.restoreFromHidden();
    ttsv1qbb.handlersUI();

    $.getJSON('watson-text-to-speech-v1-query-builder/vcap/')
      // for some reason the getJSON resets the vars so need to restoreFromHidden again
      // so again.
      .done(function (service) {
        ttsv1qbb.restoreFromHidden();
        $('.credentials').toggle(!service);
        //if (!sttv1qbb.models) {sttv1qbb.getModels(service);}
        //else {sttv1qbb.postModelCheck();}
        if (!ttsv1qbb.voices) {ttsv1qbb.getVoices();}
        else {ttsv1qbb.postVoiceCheck();}
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
     });
  }

  // Save the values in the dyanmic lists to the hidden fields.
  function ttsv1qbboneditsave(){
    $('#node-input-tts-langhidden').val(ttsv1qbb.language_selected);
    $('#node-input-tts-voicehidden').val(ttsv1qbb.voice_selected);
  }

    (function() {
        RED.nodes.registerType('watson-text-to-speech-v1-query-builder', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ''},
                password: {value: ''},
                apikey: {value: ''},
                'tts-lang': {value: ""},
                'tts-langhidden': {value: ""},
                'tts-custom-mode': {value:"createCustomisation"},
                'tts-custom-model-name' : {value: ''},
                'tts-custom-model-description' : {value: ''},
                'tts-custom-id' : {value: ''},
                'tts-custom-word' : {value: ''},
                'tts-custom-format' : {value: ''},
                'tts-voice-or-custom' : {value: ''},
                'tts-voice': {value: ""},
                'tts-voicehidden': {value: ""},
                'service-endpoint' :{value: ''}
            },
            credentials: {
              // password: {type: 'password'}   - // Taken out because, was not being restored on dialog open.
            },
            color: 'rgb(100, 120, 50)',
            inputs: 1,
            outputs: 1,
            icon: 'text_to_speech.png',
            paletteLabel: 'text to speech custom builder',
            label: function() {
                return this.name || 'text to speech custom builder';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            oneditprepare: ttsv1qbboneditprepare,
            oneditsave: ttsv1qbboneditsave
        });
    })();

</script>
<script type="text/x-red" data-help-name="watson-text-to-speech-v1-query-builder">
    <p>The Speech To Text Custom Builder is used to create customizations
    for Speech to Text. It supports the following modes </p>
    <ul>

    <li>Create Custom Language Model
      <p>In this mode, a new empty custom model is created. The
        new customization id is returned on
        <code>msg.customization_id</code>
      </p>
    </li>

    <li>List Customizations
      <p> Use this mode to list customizations such as the name and description
        for all custom voice models that you own for all languages.
        Data is returned on <code>msg.customizations</code>
      </p>
    </li>

    <li>Get Customization
      <p> Use this mode to list all information about a specifid
        custom voice model. The response includes the words in the model
        and their translations as defined in the model.
        Data is returned on <code>msg.customization</code>
      </p>
    </li>

    <li>Get Pronounciation
      <p> Use this mode to show the phonetic pronounciation of words
        for voices or customizations.
        Data is returned on <code>msg.pronunciation</code>
      </p>
    </li>

    <li>Add Words
      <p> Adds one or more words and their translations to the
        specified custom voice model. The input corpus content should be
        provided as buffer or JSoN Array of Words on
        <code>msg.payload</code>
      </p>
    </li>

    <li>Get Words
      <p> Lists all of the words and their translations for the specified
      custom voice model.
      Data is returned on <code>msg.words</code>
      </p>
    </li>

    <li>Delete Word
      <p> Deletes a single word from the specified custom voice model.
      </p>
    </li>

    </ul>

    <p>For more information about Speech To Text customization,
    read the <a href="https://console.bluemix.net/docs/services/text-to-speech/custom-using.html">
    documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-node-watson/watson-tone-analyzer-v3] --- -->
<!--
  Copyright 2013,2022 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="watson-tone-analyzer-v3">
    <div id="credentials-check" class="form-row">
        <div class="form-tips">
            <i class="fa fa-question-circle"></i><b> Please wait: </b> Checking for bound service credentials...
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row credentials" style="display: none;">
        <label for="node-input-apikey"><i class="fa fa-key"></i> API Key</label>
        <input type="password" id="node-input-apikey" placeholder="API Key"></input>
    </div>

    <div class="form-row credentials">
        <label for="node-input-service-endpoint"><i class="fa fa-tag"></i> Service Endpoint</label>
        <input type="text" id="node-input-service-endpoint" placeholder="https://gateway.watsonplatform.net/tone-analyzer/api">
    </div>

    <div class="form-row">
        <label for="node-input-tone-method"><i class="fa fa-book"></i> Method: </label>
        <select type="text" id="node-input-tone-method" style="display: inline-block; width: 70%;">
            <option value="generalTone">General Tone</option>
            <option value="customerEngagementTone">Customer Engagement Tone</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-interface-version"><i class="fa fa-history"></i> version_date: </label>
        <select type="text" id="node-input-interface-version" style="display: inline-block; width: 70%;">
            <option value="2016-05-19">Multiple Tones</option>
            <option value="2017-09-21">Dominant Tone</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-tones"><i class="fa fa-comments-o"></i> Tones</label>
        <select type="text" id="node-input-tones" style="display: inline-block; width: 70%;" >
            <option value="all">All</option>
            <option value="emotion">Emotion</option>
            <option value="language">Language</option>
            <option value="social">Social</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-sentences"><i class="fa fa-language"></i> Sentences</label>
        <select type="text" id="node-input-sentences" style="display: inline-block; width: 70%;" >
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-contentType"><i class="fa fa-comments-o"></i> Content type</label>
        <select type="text" id="node-input-contentType" style="display: inline-block; width: 70%;" >
            <option value="false">Text</option>
            <option value="true">HTML</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-inputlang"><i class="fa fa-language"></i> Input Text Language</label>
        <select type="text" id="node-input-inputlang" style="display: inline-block; width: 70%;" >
            <option value="en">English</option>
            <option value="fr">French</option>
        </select>
    </div>

</script>



<script type="text/javascript">
  // Need to simulate a namespace, so that some of the variables don't leak across nodes
  function ToneAnalyzerV3 () {}

  // This is the namespace for this version of this Node.
  var ToneV3 = new ToneAnalyzerV3();

  ToneV3.showSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().show();
    }
  }

  ToneV3.hideSelectedFields = function(fields) {
    for (i = 0; i < fields.length; i++) {
      $(fields[i]).parent().hide();
    }
  }

  ToneV3.hideAll = function() {
    fields = [];
    fields.push('#node-input-tones');
    fields.push('#node-input-sentences');
    fields.push('#node-input-contentType');
    fields.push('#node-input-inputlang');
    ToneV3.hideSelectedFields(fields);
  };

  ToneV3.processSelectedMethod = function(method) {
    ToneV3.hideAll();
    fields = [];
    switch (method) {
      case 'generalTone':
        fields.push('#node-input-tones');
        fields.push('#node-input-sentences');
        fields.push('#node-input-contentType');
        fields.push('#node-input-inputlang');
        break;
    }
    ToneV3.showSelectedFields(fields);
  }

  ToneV3.processSelectedVersion = function(method, version) {
    if ('generalTone' == method)
    {
      fields = [];
      fields.push('#node-input-tones');
      if  ('2016-05-19' == version) {
        ToneV3.showSelectedFields(fields);
      } else {
        ToneV3.hideSelectedFields(fields);
      }
    }
  }

  ToneV3.UIListeners = function () {
    $('#node-input-tone-method').change(function(val){
      var method = $('#node-input-tone-method').val();
      ToneV3.processSelectedMethod(method);
    });

    $('#node-input-interface-version').change(function(val){
      var version = $('#node-input-interface-version').val();
      var method = $('#node-input-tone-method').val();
      ToneV3.processSelectedVersion(method, version);
    });
  }

  ToneV3.checkForPrepare = function () {
    ToneV3.hideAll();
    ToneV3.UIListeners();
  };

  // This is the on edit prepare function, which will be invoked everytime the dialog is shown.
  function oneditprepare() {
    ToneV3.checkForPrepare();
    $.getJSON('watson-tone-analyzer/vcap/')
      .done(function (service) {
        $('.credentials').toggle(!service);
      })
      .fail(function () {
        $('.credentials').show();
      }).always(function () {
        $('#credentials-check').hide();
      })
  }

    (function() {
        RED.nodes.registerType('watson-tone-analyzer-v3', {
            category: 'IBM Watson',
            defaults: {
                name: {value: ""},
                tones: {value: "all"},
                sentences: {value: "true"},
                contentType: {value: "false"},
                "tone-method": {value:"generalTone"},
                "interface-version": {value:"generalTone"},
                name: {value: ""},
                inputlang: {value: "en"},
                'service-endpoint' :{value: ""}
            },
            credentials: {
              apikey: {type: 'password'}
            },
            color: "rgb(84,149,230)",
            inputs: 1,
            outputs: 1,
            icon: "tone_analyzer.png",
            paletteLabel: "tone analyzer v3",
            label: function() {
                return this.name || "tone analyzer v3";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            },
            oneditprepare: oneditprepare
        });
    })();
</script>
<script type="text/x-red" data-help-name="watson-tone-analyzer-v3">
    <p>The Tone Analyzer service uses linguistic analysis to detect emotional tones, social propensities,
       and writing styles in written communication.</p>
    <p>The text to analyze should be passed in on <b>msg.payload</b>.</p>
    <p>The service response will be returned on <b>msg.response</b>.</p>
    <p>The tone and sentances can be programmaticaly set in <code>msg.tones</code>
    and <code>msg.sentences</code></p>
    <p>Using the node editor dialog users can filter the results by tone (emotion, language or social) and
      whether to include sentence-level analysis.</p>
    <p>When running the Conversational Chat Tone, the input needs to follow the
    chat json format for utterences. </p>
    <code>
      msg.payload = [
        {
          text: "Hello, I'm having a problem with your product.",
          user: "customer",
        },
        {
          text: "OK, let me know what's going on, please.",
          user: "agent",
        },
        {
          text: "Well, nothing is working :(",
          user: "customer",
        }
      ];
    </code>
    <p>For more information about the Tone Analyzer service, read the <a href="https://www.ibm.com/watson/services/tone-analyzer/">documentation</a>.</p>
</script></div><div><!-- --- [red-module:node-red-contrib-telegrambot/telegrambot] --- -->
<!-- Created by Karl-Heinz Wind -->


<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram bot', {
        category: 'config',
        defaults: {
            botname: { value: "", required: true },
            usernames: { value: "", required: false },
            chatids: { value: "", required: false },
            baseapiurl: { value: "", required: false },
            
            updatemode: { value: "polling", required: true },

            // only for polling mode
            pollinterval: { value: 300, required: false, validate:function(v) { return ((v === "") || (RED.validators.number(v) && (v >= 0) && (v <= 2147483))) }},
            
            // only for socks4/5 proxy support
            usesocks: { value: false, required: false },
            sockshost: { value: "", required: false },
            socksprotocol: { value: "socks5", required: false },
            socksport: { value: 6667, required: false, validate:function(v) { return ((v === "") || (RED.validators.number(v) && (v >= 0) && (v <= 2147483))) }},
            socksusername: { value: "anonymous", required: false },
            sockspassword: { value: "", required: false },

            // only for webhook mode
            bothost: { value: "", required: false },
			botpath: { value: "", required: false },
            localbotport: { value: 8443, required: false, validate:function(v) { return ((v === "") || (RED.validators.number(v) && (v >= 0) && (v <= 2147483))) }},
            publicbotport: { value: 8443, required: false, validate:function(v) { return ((v === "") || (RED.validators.number(v) && (v >= 0) && (v <= 2147483))) }},
            
            // only for webhook and certificate
            privatekey: { value: "", required: false },
            certificate: { value: "", required: false },
            useselfsignedcertificate: { value: false, required: false },
            sslterminated: { value: false, required: false },
            verboselogging: { value: false, required: false },
        },
        credentials: {
            token: { type: "text" }
        },
        label: function () {
            return this.botname;
        },
        oneditprepare: function() {

            // polling or webhook
            var updateOptions = function() {
                var mode = $("#node-config-input-updatemode").val();
                if (mode == "webhook") {
                    $("#webhook").show();
                    $("#polling").hide();
                } else if (mode == "polling"){
                    $("#webhook").hide();
                    $("#polling").show();
                } else {
                    // none is send only mode, no data is received
                    $("#webhook").hide();
                    $("#polling").hide();
                }
            };
            updateOptions();
            $("#node-config-input-updatemode").change(updateOptions);

            // sslTerminated on / off
            var sslTerminated = function() {
                var mode = $('#node-config-input-sslterminated').prop('checked');
                if (mode === false) {
                    $('#node-config-input-privatekey').parent().show();
                    $('#node-config-input-certificate').parent().show();
                } else {
                    $('#node-config-input-privatekey').parent().hide();
                    $('#node-config-input-certificate').parent().hide();
                }
            };
            sslTerminated();
            $('#node-config-input-sslterminated').change(sslTerminated);

            // socks5 on / off
            var useSocks5 = function() {
                var mode = $("#node-config-input-usesocks").prop('checked');
                if (mode === false) {
                    $("#socks").hide();
                } else {
                    $("#socks").show();
                }
            };
            useSocks5();
            $("#node-config-input-usesocks").change(useSocks5);
        }
    });
</script>

<script type="text/x-red" data-template-name="telegram bot">
    <div class="form-row" style="min-width: 700px">
        <div class="form-row">
            <label for="node-config-input-botname"><i class="fa fa-telegram"></i> Bot-Name</label>
            <input type="text" id="node-config-input-botname" placeholder="(Name of bot to connect to)">
        </div>
        <div class="form-row">
			<div class="form-row">
				<label for="node-config-input-token"><i class="fa fa-key"></i> Token</label>
				<input type="text" id="node-config-input-token" placeholder="(Enter the bot token from botfather here)">
			</div>
			<div class="form-tips" style="width: auto"><b>Tip:</b> If you don't have a token yet, you can create a new one here: <a href="https://t.me/BotFather">@BotFather</a>.</div>
    	</div>
	    
        <hr align="middle"/>

        <div class="form-row">
            <label for="node-config-input-usernames"><i class="fa fa-user"></i> Users</label>
            <input type="text" id="node-config-input-usernames" placeholder="(Optional list of authorized user names e.g.: hugo,sepp,egon)">
        </div>
        <div class="form-row">
            <label for="node-config-input-chatids"><i class="fa fa-comment"></i> ChatIds</label>
            <input type="text" id="node-config-input-chatids" placeholder="(Optional list of authorized chat-ids e.g.: -1234567,2345678,-3456789)">
        </div>
        <div class="form-row">
            <label for="node-config-input-baseapiurl"><i class="fa fa-server"></i> Server URL</label>
            <input type="text" id="node-config-input-baseapiurl" placeholder="(Optional URL for proxying and testing e.g.: https://api.telegram.org)">
        </div>

        <div class="form-row">
            <label for="node-config-input-updatemode"><i class="fa fa-link"></i> Update Mode</label>
            <select id="node-config-input-updatemode">
                <option value="polling">Polling</option>
                <option value="webhook">Webhook</option>
                <option value="none">None</option>
            </select>
        </div>

        <hr align="middle"/>

        <div class="form-row hidden" id="polling" style="background: var(--red-ui-tertiary-background)">
            <label style="width: auto"><i class="fa fa-cogs"></i> Polling Options:</label> 
            
            <div class="form-row" style="margin-left: 20px">
                <div class="form-row">
                        <label for="node-config-input-pollinterval"><i class="fa fa-clock-o"></i> Poll Interval</label>
                        <input type="text" id="node-config-input-pollinterval" placeholder="(Optional poll interval in milliseconds. The default is 300.)">
                </div>
            </div>
            <div class="form-tips" style="width: auto"><b>Tip:</b> Polling mode is very robust and easy to set up. Nevertheless it creates more traffic on the network over time.</div>
        </div>

        <div class="form-row hidden" id="webhook" style="background: var(--red-ui-tertiary-background)">
            <label style="width: auto"><i class="fa fa-cogs"></i> Webhook Options:</label>
       
            <div class="form-row" style="margin-left: 20px">
                <div class="form-row">
                    <label for="node-config-input-bothost"><i class="fa fa-desktop"></i> Bot Host</label>
                    <input type="text" id="node-config-input-bothost" placeholder="(Optional public IP or hostname of your bot when using webhook. e.g.: mybot.domain.com)">
                </div>
				<div class="form-row">
                    <label for="node-config-input-botpath"><i class="fa fa-desktop"></i> Bot Path</label>
                    <input type="text" id="node-config-input-botpath" placeholder="(Optional path to Bot e.g.: noderedpath -> mybot.domain.com/noderedpath)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-publicbotport"><i class="fa fa-random"></i> Public Bot Port</label>
                    <input type="text" id="node-config-input-publicbotport" placeholder="(Optional public port for your bot when using webhook. The default is 8443.)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-localbotport"><i class="fa fa-random"></i> Local Bot Port</label>
                    <input type="text" id="node-config-input-localbotport" placeholder="(Optional local port for your bot when using webhook. The default is 8443.)">
                </div>

                <div class="form-row">
                    <label for="node-config-input-privatekey"><i class="fa fa-id-card"></i> Private Key</label>
                    <input type="text" id="node-config-input-privatekey" placeholder="(Optional local path to your private key file. e.g.: C:\temp\\key.pem)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-certificate"><i class="fa fa-id-card-o"></i> Certificate</label>
                    <input type="text" id="node-config-input-certificate" placeholder="(Optional local path to your certificate file. e.g.: C:\temp\\crt.pem)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-useselfsignedcertificate"><i class="fa fa-pencil"></i> Certificate is self-signed</label>
                    <input type="checkbox" id="node-config-input-useselfsignedcertificate" style="display: inline-block; width: auto; vertical-align: top;">
                </div>
                <div class="form-row">
                    <label for="node-config-input-sslterminated"><i class="fa fa-pencil"></i> SSL terminated by reverse proxy</label>
                    <input type="checkbox" id="node-config-input-sslterminated" style="display: inline-block; width: auto; vertical-align: top;">
                </div>

                <div class="form-tips" style="width: auto"><b>Tip:</b> Webhook mode requires a HTTPS certificate. The certificate can also be a self-signed (=custom) one. If any of the host, key, certificate properties is left blank the bot will default to send only mode. If SSL termination is already handled by reverse proxy, key and certificate is not required.</div>
            </div>
        </div>

        <hr align="middle"/>

        <div class="form-row">
            <label for="node-config-input-usesocks"><i class="fa fa-lock"></i> SOCKS Proxy</label>
            <input type="checkbox" id="node-config-input-usesocks" style="display: inline-block; width: auto; vertical-align: top;">
        </div>
        <div class="form-row hidden" id="socks" style="background: var(--red-ui-tertiary-background)">
            <label style="width: auto"><i class="fa fa-cogs"></i> SOCKS Proxy Options:</label>
          
            <div class="form-row" style="background: #fff; margin-left: 20px">     
                <div class="form-row">
                    <label for="node-config-input-socksprotocol"><i class="fa fa-user-secret"></i> Protocol</label>
                    <select id="node-config-input-socksprotocol">
                        <option value="socks4">socks4</option>
                        <option value="socks5">socks5</option>
                    </select>
                </div>   
                <div class="form-row">
                    <label for="node-config-input-sockshost"><i class="fa fa-desktop"></i> Host</label>
                    <input type="text" id="node-config-input-sockshost" placeholder="(Optional IP or hostname of the socks proxy when using polling mode.)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-socksport"><i class="fa fa-random"></i> Port</label>
                    <input type="text" id="node-config-input-socksport" placeholder="(Optional port of the socks proxy when using polling mode.)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-socksusername"><i class="fa fa-user"></i> Username</label>
                    <input type="text" id="node-config-input-socksusername" placeholder="(Optional username of the socks proxy when using polling mode.)">
                </div>
                <div class="form-row">
                    <label for="node-config-input-sockspassword"><i class="fa fa-key"></i> Password</label>
                    <input type="text" id="node-config-input-sockspassword" placeholder="(Optional password of the socks proxy when using polling mode.)">
                </div>
            </div>

            <div class="form-tips" style="width: auto"><b>Tip:</b> SOCKS proxy support is optional can can only be used with a valid proxy server, port, username and password.</div>
        </div>

        <hr align="middle"/>

        <div class="form-row">
            <label for="node-config-input-verboselogging"><i class="fa fa-search"></i> Verbose Logging</label>
            <input type="checkbox" id="node-config-input-verboselogging" style="display: inline-block; width: auto; vertical-align: top;">
        </div>
        
        <div class="form-tips" style="width: auto"><b>Tip:</b> When verbose logging is turned on additional log messages will be printed to the node-red console.</div>

        <hr align="middle"/> 
    </div>
</script>





<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram receiver', {
        category: 'telegram',
        color: '#3BABDD',
        defaults: {
            name: { value: "" },
            bot: { value:"", type: "telegram bot", required: true },
            saveDataDir: { value: "" },
            filterCommands: { value: false }
        },
        inputs: 0,
        outputs: 2,
        icon: "telegram.png",
        paletteLabel: "receiver",
        label: function () {
            return this.name || "Telegram receiver";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
        }
    });
</script>

<script type="text/x-red" data-template-name="telegram receiver">
    <div class="form-row">
        <label for="node-input-bot"><i class="fa fa-telegram"></i> Bot</label>
        <input type="text" id="node-input-bot" placeholder="Bot">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-saveDataDir"><i class="fa fa-hdd-o"></i> Download Directory</label>
        <input type="text" id="node-input-saveDataDir" placeholder="Download directory">
    </div>
    <div class="form-row">
        <label for="node-input-filterCommands"><i class="fa fa-filter"></i> Filter</label>
        <input type="checkbox" id="node-input-filterCommands" style="display: inline-block; width: auto; vertical-align: top;"> commands (from configured command nodes)
    </div>
</script>




<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram command', {
        category: 'telegram',
        color: '#3BABDD',
        defaults: {
            name: { value: "" },
            command: { value: ""},
            description: { value: ""},
            
            registercommand: { value: false, required: false },
            language: { value: "", required: false }, // iso-639-1
            scope: { value: "default", required: false },

            bot: { value: "", type: "telegram bot", required: true },
            strict : { value: false },
            hasresponse: { value: true, required: false },
            useregex: { value: false },
            removeregexcommand:  { value: false },
            outputs: {value: 2}
          },
        inputs: 0,
        outputs: 2,
        icon: "telegram_cmd.png",
        paletteLabel: "command",
        label: function () {
            return this.name || this.command || "Telegram command";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var that = this;
            // useresponse on / off
            var hasresponse = function() {
                var mode = $("#node-input-hasresponse").prop('checked');
                if (mode === true) {
                    that.outputs = 2;
                } else {
                    that.outputs = 1;
                }
            };
            hasresponse();
            $("#node-input-hasresponse").change(hasresponse);

            // useregex on / off
            var useRegex = function() {
                var mode = $("#node-input-useregex").prop('checked');
                if (mode === false) {
                    $("#regex").hide();
                } else {
                    $("#regex").show();
                }
            };
            useRegex();
            $("#node-input-useregex").change(useRegex);

            // registercommand on / off
            var registercommand = function() {
                var mode = $("#node-input-registercommand").prop('checked');
                if (mode === false) {
                    $("#registration").hide();
                } else {
                    $("#registration").show();
                }
            };
            registercommand();
            $("#node-input-registercommand").change(registercommand);

        }
    });
</script>

<script type="text/x-red" data-template-name="telegram command">
    <div class="form-row">
        <label for="node-input-bot"><i class="fa fa-telegram"></i> Bot</label>
        <input type="text" id="node-input-bot" placeholder="Bot">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Optional name for node">
    </div>
    <div class="form-row">
        <label for="node-input-command"><i class="fa fa-envelope"></i> Command</label>
        <input type="text" id="node-input-command" placeholder="Command e.g. /foo">
    </div>

    <hr align="middle"/>

    <div class="form-row">
        <label for="node-input-registercommand"><i class="fa fa-bars"></i> Register at telegram server</label>
        <input type="checkbox" id="node-input-registercommand" style="display: inline-block; width: auto; vertical-align: top;">
    </div>
    
    <div class="form-row hidden" id="registration" style="background: var(--red-ui-tertiary-background)">
        <div class="form-row">
            <label for="node-input-description"><i class="fa fa-info"></i> Description</label>
            <input type="text" id="node-input-description" placeholder="Description">
        </div>

        <div class="form-row">
            <label for="node-input-language"><i class="fa fa-language"></i> Language</label>
            <input type="text" id="node-input-language" placeholder="(Optional language (see ISO-639-1). e.g.: de)">
        </div>

        <div class="form-row">
            <label for="node-input-scope"><i class="fa fa-object-group"></i> Scope</label>
            <select id="node-input-scope" style="width:70%">
                <option value="default">Default</option>
                <option value="all_private_chats">All Private Chats</option>
                <option value="all_group_chats">All Group Chats</option>
                <option value="all_chat_administrators">All Chat Administrators</option>
            </select>
        </div>
    </div>

    <hr align="middle"/>

    <div class="form-row">
        <label for="node-input-strict"><i class="fa fa-tag"></i> Strict in group chats</label>
        <input type="checkbox" id="node-input-strict" style="display: inline-block; width: auto; vertical-align: top;">
    </div>

    <div class="form-row">
        <label for="node-input-hasresponse"><i class="fa fa-reply"></i> Has response output</label>
        <input type="checkbox" id="node-input-hasresponse" style="display: inline-block; width: auto; vertical-align: top;">
    </div>
    <div class="form-row">
        <label for="node-input-useregex"><i class="fa fa-asterisk"></i> Use Regex</label>
        <input type="checkbox" id="node-input-useregex" style="display: inline-block; width: auto; vertical-align: top;"> allows usage of regular expressions
    </div>

    <div class="form-row hidden" id="regex" style="background: var(--red-ui-tertiary-background)">
        <label style="width: auto"><i class="fa fa-asterisk"></i> RegEx Options:</label>
      
        <div class="form-row" style="background: #fff; margin-left: 20px">   
            
            <div class="form-row">
                <label for="node-input-removeregexcommand"><i class="fa fa-trash"></i> Remove command</label>
                <input type="checkbox" id="node-input-removeregexcommand" style="display: inline-block; width: auto; vertical-align: top;"> strips the matching command from the message
            </div>
        </div>
    </div>

    <hr align="middle"/>

</script>





<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram event', {
        category: 'telegram',
        color: '#3BABDD',
        defaults: {
            name: { value: "" },
            bot: { value: "", type: "telegram bot", required: true },
            event: { value: "callback_query", required: true },
            autoanswer: { value: false, required: false }
        },
        inputs: 0,
        outputs: 1,
        icon: "telegram.png",
        paletteLabel: "event",
        label: function () {
            return this.name || this.event;
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="telegram event">
    <div class="form-row">
        <label for="node-input-bot"><i class="fa fa-telegram"></i> Bot</label>
        <input type="text" id="node-input-bot" placeholder="Bot">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-event"><i class="fa fa-mail-reply-all"></i> Event</label>
        <div style="display: inline-block; position: relative; width: 70%; height: 19.1333px;">
        <div style="position: absolute; left: 0; right: 0;">
          <select id="node-input-event" style="width:100%">
              <option value="callback_query">Callback Query</option>
              <option value="inline_query">Inline Query</option>
              <option value="edited_message">Edited Message</option>
              <option value="edited_message_text">Edited Message Text</option>
              <option value="edited_message_caption">Edited Message Caption</option>
              <option value="channel_post">Channel Post</option>
              <option value="edited_channel_post">Edited Channel Post</option>
              <option value="edited_channel_post_text">Edited Channel Post Text</option>
              <option value="edited_channel_post_caption">Edited Channel Post Caption</option>
              <option value="pre_checkout_query">Pre Checkout Query</option>
              <option value="shipping_query">Shipping Query</option>
              <option value="chosen_inline_result">Chosen Inline Result</option>
              <option value="poll">Poll</option>
              <option value="poll_answer">Poll Answer</option>
              <option value="my_chat_member">My Chat Member</option>
              <!-- <option value="chat_member">Chat Member</option> -->
              <option value="chat_join_request">Chat Join Request</option>
          </select>
        </div>
        </div>
    </div>
    <div class="form-row">
        <label for="node-input-autoanswer"><i class="fa fa-retweet"></i> Auto-Answer</label>
        <input type="checkbox" id="node-input-autoanswer" style="display:inline-block; width:auto; vertical-align:top;">
    </div>
</script>





<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram sender', {
        category: 'telegram',
        color: '#3BABDD',
        defaults: {
            name: { value: "" },
            bot: { value: "", type: "telegram bot", required: true },
            haserroroutput: { value: false, required: false },
            outputs: {value: 1}
        },
        inputs: 1,
        outputs: 1,
        icon: "telegram.png",
        align: "right",
        paletteLabel: "sender",
        label: function () {
            return this.name || "Telegram sender";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var that = this;
            // haserroroutput on / off
            var haserroroutput = function() {
                var mode = $("#node-input-haserroroutput").prop('checked');
                if (mode === true) {
                    that.outputs = 2;
                } else {
                    that.outputs = 1;
                }
            };
            haserroroutput();
            $("#node-input-haserroroutput").change(haserroroutput);
        }
    });
</script>

<script type="text/x-red" data-template-name="telegram sender">
    <div class="form-row">
        <label for="node-input-bot"><i class="fa fa-telegram"></i> Bot</label>
        <input type="text" id="node-input-bot" placeholder="Bot">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <hr align="middle"/>

    <div class="form-row">
        <label for="node-input-haserroroutput"><i class="fa fa-bug"></i> Send errors to second output</label>
        <input type="checkbox" id="node-input-haserroroutput" style="display: inline-block; width: auto; vertical-align: top;">
    </div>
</script>


<!-- ------------------------------------------------------------------------------------------ -->


<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram reply', {
        category: 'telegram',
        color: '#3BABDD',
        defaults: {
            name: { value: "" },
            bot: { value: "", type: "telegram bot", required: true }
        },
        inputs: 1,
        outputs: 1,
        icon: "telegram.png",
        align: "right",
        paletteLabel: "reply",
        label: function () {
            return this.name || "Telegram reply";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="telegram reply">
    <div class="form-row">
        <label for="node-input-bot"><i class="fa fa-telegram"></i> Bot</label>
        <input type="text" id="node-input-bot" placeholder="Bot">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>


<!-- ------------------------------------------------------------------------------------------ -->


<!-- ------------------------------------------------------------------------------------------ -->
<script type="text/javascript">
    RED.nodes.registerType('telegram control', {
        category: 'telegram',
        color: '#3BABDD',
        defaults: {
            name: { value: "" },
            bot: { value: "", type: "telegram bot", required: true },
            outputs: {value: 1},

            // only for checkconnection
            checkconnection: { value: false, required: false },
            hostname: { value: "", required: false },
			interval: { value: 10, required: false, validate:function(v) { return ((v === "") || (RED.validators.number(v) && (v >= 0) && (v <= 2147483))) }},
        	timeout: { value: 1, required: false, validate:function(v) { return ((v === "") || (RED.validators.number(v) && (v >= 0) && (v <= 2147483))) }},
        },
        inputs: 1,
        outputs: 1,
        icon: "telegram.png",
        align: "right",
        paletteLabel: "control",
        label: function () {
            return this.name || "Telegram control";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        },
        oneditprepare: function() {
            var that = this;
            // checkconnection on / off
            var checkconnection = function() {
                var mode = $("#node-input-checkconnection").prop('checked');
                if (mode === true) {
                    $("#checkconnectionoptions").show();
                    that.outputs = 2;
                } else {
                    $("#checkconnectionoptions").hide();
                    that.outputs = 1;
                }
            };
            checkconnection();
            $("#node-input-checkconnection").change(checkconnection);
        }
    });
</script>

<script type="text/x-red" data-template-name="telegram control">
    <div class="form-row">
        <label for="node-input-bot"><i class="fa fa-telegram"></i> Bot</label>
        <input type="text" id="node-input-bot" placeholder="Bot">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <hr align="middle"/>
   
    <div class="form-row">
        <label for="node-input-checkconnection"><i class="fa fa-paper-plane"></i> Check network connection.</label>
        <input type="checkbox" id="node-input-checkconnection" style="display: inline-block; width: auto; vertical-align: top;">
    </div>

    <div class="form-row hidden" id="checkconnectionoptions" style="background: var(--red-ui-tertiary-background)">
        <label style="width: auto"><i class="fa fa-cogs"></i> Check Connection Options:</label>
   
        <div class="form-row" style="margin-left: 20px">
            <div class="form-row">
                <label for="node-input-hostname"><i class="fa fa-server"></i> Hostname</label>
                <input type="text" id="node-input-hostname" placeholder="(Optional: default: https://api.telegram.org:80")">
            </div>
            <div class="form-row">
                <label for="node-input-interval"><i class="fa clock-o"></i> Interval (s)</label>
                <input type="text" id="node-input-interval" placeholder="10">
            </div>
            <div class="form-row">
                <label for="node-input-timeout"><i class="fa clock-o"></i> Timeout (s)</label>
                <input type="text" id="node-input-timeout" placeholder="1">
            </div>
        </div>
    </div>
</script>


<!-- ------------------------------------------------------------------------------------------ -->

<script type="text/x-red" data-help-name="telegram bot">
    <p>A configuration node that holds the token of the telegram bot.</p>

    <h3>Details</h3>
    <p>It communicates with the telegram server. Do not create several configurations nodes with the same token!</p>
    <p>The usernames and chat ids properties can be used to limit authorization to the bot. Enter values in comma separated format e.g. a,b,c</p>
    <p>Usernames and chat ids are optional. Leave field blank if you do not want to use this feature.</p>
    <p>The API Base URL can be changed for testing or when using a proxy.</p>
    <p>You can enable verbose logging to get more details when debugging, but keep in mind that whis could fill your log file very rapidly.</p>
    <p></p>
    <h3>Operation Modes: Polling vs Webhook</h3>
    <p>By default the bot polls the telegram api server every 300ms. But you can also create a webhook so that the telegram server sends updates via HTTPS POST directly to your host machine.</p>
    <p>You can enable the webhook by providing the required data:</p>
    <p>- private key</p>
    <p>- public key</p>
    <p>- the publicly reachable IP or hostname of your bot</p>
    <p>- the public port (e.g.: 8443, 443, ...)</p>
    <p>- the local port (e.g.: 8443. This value is only different to the public port when you are behind a router that maps ports from public to private ones) </p>
    <p></p>
    <h3>References</h3>
    <p>See also </p>
    <p>https://core.telegram.org/bots/webhooks</p>
    <p>https://stackoverflow.com/questions/42713926/what-is-easy-way-to-create-and-use-a-self-signed-certification-for-a-telegram-we</p>
    <p>One common pitfall when creating certificates that don't work is that the value CN you provided to openssl must match the bots domain name: see "bot host" above. </p>
</script><script type="text/x-red" data-help-name="telegram receiver">
    <p>A telegram node that triggers the output when some message is received from the chat.</p>
    <p>The node receives all messages polled from/sent by the telegram server.</p>
    
    <h3>Outputs</h3> 
    <p>1. Standard Ouput: Message is sent to output 1 if it is from an authorized user.</p>
    <p>2. Unauthorized Output: Message is sent to output 2 if it is from a non-authorized user.</p>
    
    <h3>Details</h3>
    <p><code>msg.payload</code> typically contains the parsed data as follows:</p>
    <ul>
    <li><code>content</code> the message contents</li>
    <li><code>type</code> the type of message contents</li>
    <li><code>messageId</code> the messageId number</li>
    <li><code>chatId</code> the chatId number</li>
    </ul>
    <p>Other properties may be present depending on the type of message.</p>
    <code>msg.originalMessage</code> contains the raw data object from the underlying library,
    and contains many useful properties.</p>
    <p>Note: If you are using other <code>command nodes</code>, you can set this node to filter those commands so that the message only appears in the configured command node and not in this node</p>
</script><script type="text/x-red" data-help-name="telegram command">
    <p>A telegram node that triggers the output when a specified command is received from the chat.</p>
    <p>The secondary output can be used for complex scenarios when you want to work with responses. By default it is disabled.</p>

    <h3>Outputs</h3>
    <p>1. Standard Ouput: Message is sent to output 1 if it is from an authorized user and it contains the command at the beginning of the message.</p>
    <p>2. Secondary Ouput: Message is sent to output 2 if it is from an authorized user but does not contain the specified command.</p>
</script><script type="text/x-red" data-help-name="telegram event">
      <p>A telegram node that triggers the output when a event is received from a chat.</p>
      
      <h3>Outputs</h3> 
      <p>1. Standard Output: The output is triggered when the configured event was received.</p>

      <h3>Details</h3> 
      <p>The event type can be selected.</p> 
      <p><code>msg.payload</code> typically contains the parsed data as follows:</p>
      <ul>
      <li><code>chatId</code>Unique identifier for this chat.</li>
      <li><code>messageId</code>Message identifier.</li>
      <li><code>type</code>event type</li>
      <li><code>date</code>timestamp</li>
      <li><code>content</code>the actual UTF-8 text of the message</li>
      </ul>
      <p>Other properties may be present depending on the type of message.</p>
      <code>msg.originalMessage</code> contains the raw data object from the underlying library,
      and contains many useful properties.</p>
      <p>The autoanswer checkbox can be set for callback_query.</p> 
      <p>Then you won't have to send an explicit answer to the bot on your own.</p> 
</script><script type="text/x-red" data-help-name="telegram sender">
    <p>A telegram node that sends the <code>msg.payload</code> to the chat.</p>

    <h3>Inputs</h3>
    <p>1. Standard Input: receives a message object containing the chatId. It can be directly connected to the receiver node's output 1.</p>
    
    <h3>Outputs</h3>
    <p>1. On success the first output contains the result.</p>
    <p>2. On error the second output contains the message with an error property <code>msg.error</code>. You must enable the second output as it is disabled by default.</p>
    <p>If the checkbox is not enabled, then all errors can be handled in an optional global "catch all" node.</p> 
    <h3>Details</h3>
    <p>The <code>msg.payload</code> must be an object that contains a complete set of telegram message properties,
     at a minimum these should contain:
     <ul>
     <li><code>content</code> the message contents</li>
     <li><code>type</code> the type of message contents</li>
     <li><code>chatId</code> the chatId number or an array of chatIds</li>
     </ul>

</script><script type="text/x-red" data-help-name="telegram reply">
    <p>A telegram node that is triggered when someone answered to a specified message.</p>

    <h3>Inputs</h3>
    <p>1. Standard Input: calls the onReplyToMessage of the bot.</p>
    
    <h3>Outputs</h3>
    <p>1. Standard Output: contains the result from the onReplyToMessage call.</p>
    
    <h3>Details</h3>
    <p>This can be useful, when the bot for example sent a message and you want to take some action</p>
    <p>when someone responded to this specified message.</p>
    <p>Responding to messages is done by clicking on the message in your client and choose "answer" from the popup.</p>
    <p>The <code>msg.payload</code> should be an object that contains:</p>
    <ul><li><code>chatId</code> destination chatId.</li>
    <li><code>sentMessageId</code> the id of the previously sent message in the chat.</li>
    <li><code>content</code> the message content.</li></ul>
</script><script type="text/x-red" data-help-name="telegram control">
    <p>A telegram node that control the configuration node.</p>

    <h3>Inputs</h3>
    <p>1. Standard Input: receives a control command.</p>
    <h3>Details</h3>
    <p>The <code>msg.payload</code> must be an object that contains a complete command,
     at a minimum these should contain:
     <ul>
     <li><code>command</code> The command as string: stop, start, restart</li>
     <li><code>delay</code> The optional delay in milliseconds between stop and start for command restart</li>
     </ul>

    <h3>Outputs</h3>
    <p>1. The polling cycle info.</p>
    <p>2. The check connection result.</p>
</script></div><div><!-- --- [red-module:node-red-contrib-browser-utils/fileinject] --- -->
<!--
  Copyright 2013, 2016, 2018, 2021 IBM Corp.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="fileinject">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="File Inject">
    </div>
</script>



<script type="text/javascript">
    (function() {

        var id
        var inputElement = document.createElement('input')
        inputElement.setAttribute('type', 'file')
        inputElement.addEventListener('change', injectFile)
        document.body.appendChild(inputElement)

        function simulate(element, eventName){
            var options = extend(defaultOptions, arguments[2] || {});
            var oEvent, eventType = null;

            for (var name in eventMatchers){
                if (eventMatchers[name].test(eventName)) { eventType = name; break; }
            }

            if (!eventType)
                throw new SyntaxError('Only HTMLEvents and MouseEvents interfaces are supported');

            if (document.createEvent){
                oEvent = document.createEvent(eventType);
                if (eventType == 'HTMLEvents'){
                    oEvent.initEvent(eventName, options.bubbles, options.cancelable);
                }
                else{
                    oEvent.initMouseEvent(eventName, options.bubbles, options.cancelable, document.defaultView,
                    options.button, options.pointerX, options.pointerY, options.pointerX, options.pointerY,
                    options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.button, element);
                }
                element.dispatchEvent(oEvent);
            }
            else{
                options.clientX = options.pointerX;
                options.clientY = options.pointerY;
                var evt = document.createEventObject();
                oEvent = extend(evt, options);
                element.fireEvent('on' + eventName, oEvent);
            }
            return element;
        }

        function extend(destination, source) {
            for (var property in source)
              destination[property] = source[property];
            return destination;
        }

        var eventMatchers = {
            'HTMLEvents': /^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,
            'MouseEvents': /^(?:click|dblclick|mouse(?:down|up|over|move|out))$/
        }
        var defaultOptions = {
            pointerX: 0,
            pointerY: 0,
            button: 0,
            ctrlKey: false,
            altKey: false,
            shiftKey: false,
            metaKey: false,
            bubbles: true,
            cancelable: true
        }

        function triggerClick(event) {
          simulate(inputElement, 'click')
        }

        function setNodeStatus(uploading, id) {
          $.getJSON('node-red-fileinject/status', {status: uploading, id: id})
            .done(function () {})
            .fail(function (err) {
              console.log(err);
            })
            .always(function () {});
        }

        function injectFile() {
            var blob;
            var currentInput = this

            if(currentInput.files.length !== 0) {
              var file = currentInput.files[0]
              var reader = new FileReader()

              setNodeStatus(true, id)

              reader.addEventListener('load', function(onLoadEvent) {
                  var filename = file.name
                  blob = new Blob([onLoadEvent.target.result], {
                  type: (file.type=='')?'application/octet-stream':file.type
                });

                currentInput.value = ''

                var xhr = new XMLHttpRequest()
                xhr.open('POST', 'node-red-fileinject/' + id, true)
                xhr.setRequestHeader('x-filename', filename);
                xhr.send(blob)
              })

              reader.readAsArrayBuffer(file)
            } else {
              return
            }
        }

        RED.nodes.registerType('fileinject', {
            category: 'input',
            defaults: {
                name: {value: ''}
            },
            color: 'rgb(254, 245, 136)',
            inputs: 0,
            outputs: 1,
            icon: 'fileinject.png',
            paletteLabel: 'file inject',
            label: function() {
                return this.name || 'file inject';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            button: {
                onclick: function(evt){
                  id = this.id
                  triggerClick(evt)
                }
            }
        });
    })();
</script>
<script type="text/x-red" data-help-name="fileinject">
    <p>Simple file inject node</p>
    <p>Press the button to inject a file directly to the flow.</p>
    <p>File will be sent as part of the <code>msg.payload</code> object.</p>
</script></div><div><!-- --- [red-module:node-red-contrib-browser-utils/microphone] --- -->
<!--
  Copyright 2013, 2016, 2018, 2019 IBM Corp.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="microphone">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Microphone">
    </div>
</script>



<script type="text/javascript">
    (function() {
        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
        window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext || window.oAudioContext || window.msAudioContext;;

        window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;

        const MICSTATUS = {
            OFF : '1',
            ON  : '2',
            CONTEXTERROR : '4'
        }

        $.getScript( 'microphone/js/recorder.js' )
          .done(function( script, textStatus ) {
            // script loaded, do nothing
          })
          .fail(function( jqxhr, settings, exception ) {
            console.log('FAILED to load recorder script: '+exception)
        });

        var instances = {}
        var audio_context = new AudioContext

        function checkAudioContextState() {
            var p = new Promise(function resolver(resolve, reject) {
              if (audio_context.state && 'running' !== audio_context.state && audio_context.resume) {
                  audio_context.resume().then(() => {
                      resolve()
                  })
              } else {
                resolve()
              }
            });
            return p
        }

        function startRecording(id, stream) {
            checkAudioContextState()
            .then(() => {
                var input = audio_context.createMediaStreamSource(stream)
                instances[id] = new Recorder(input)
                instances[id] && instances[id].record()
            })
            .catch(() => {
                console.log('Audio Context Error')
                setMicStatus(MICSTATUS.CONTEXTERROR, id)
            })
        }

        function stopRecording(id, callback) {
            if(!instances[id]) {
                return
            }

            instances[id].stop()

            instances[id].exportWAV(function(blob) {
                instances[id].clear()
                instances[id] = null

                callback & callback(id, blob)
            })

            setMicStatus(MICSTATUS.OFF, id);
        }

        function getRecorder(id) {
          const constraints = {video : false, audio : true};
          navigator.mediaDevices.getUserMedia(constraints)
            .then(function(stream) {
              setMicStatus(MICSTATUS.ON, id)
              startRecording(id, stream)
            })
            .catch(function(err) {
                window.alert('Your browser does not support audio recording')
                console.log(err)
            })
        }


        function getRecorderXX(id) {
            if(!navigator.getUserMedia) {
                window.alert('Your browser does not support audio recording')
                return
            }

            navigator.getUserMedia({audio: true},
              function(stream){
                setMicStatus(MICSTATUS.ON, id)
                startRecording(id, stream)
              },
              function(e) {
                window.alert(e.message)
            })
        }

        function uploadRecord(id, blob) {
            var xhr = new XMLHttpRequest()
            xhr.open('POST', 'node-red-microphone/' + id, true)
            xhr.send(blob)
        }

        function setMicStatus(record, id) {
          $.getJSON('node-red-microphone/status', {status: record, id: id})
            .done(function () {})
            .fail(function (err) {
              console.log(err);
            })
            .always(function () {});
        }

        RED.nodes.registerType('microphone', {
            category: 'input',
            defaults: {
                name: {value: ''}
            },
            color: 'rgb(204, 230, 171)',
            inputs: 0,
            outputs: 1,
            icon: 'microphone.png',
            paletteLabel: 'microphone',
            label: function() {
                return this.name || 'microphone';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            button: {
                onclick: function(){
                    if(instances[this.id]) {
                        stopRecording(this.id, uploadRecord)
                    } else {
                        getRecorder(this.id)
                    }
                }
            }
        });
    })();
</script>
<script type="text/x-red" data-help-name="microphone">
    <p>A simple microphone node to record audio directly from the web browser</p>
    <p>Usage:</p>
    <ol>
        <li>Note - you must be using <code>https</code> to record</li>
        <li>Click the <code>button</code> to start recording</li>
        <li>Click the <code>button</code> again to stop recording</li>
    </ol>
    <p>The recorded audio is stored in the nodes <code>msg.payload</code> object</p>
    <p>To see if the microphone node is supported in your browser check <a href="http://caniuse.com/#feat=stream" target="_blank">this</a> page</p>
    <p>Supported output formats:</p>
    <ul>
        <li>WAV</li>
    </ul>
</script></div><div><!-- --- [red-module:node-red-contrib-browser-utils/camera] --- -->
<!--
  Copyright 2013, 2016, 2019 IBM Corp.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="camera">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Camera">
    </div>
</script>




<script type="text/javascript">
    (function() {
        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
        window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;

        window.video = document.createElement('video')
        window.canvas = document.createElement('canvas')
        canvas.style.display = 'none'
        canvas.style.display = 'none'
        var id

        function onCanPlay(evt) {
          video.removeEventListener('canplay', onCanPlay, false)
          var width   = 320
          var height  = video.videoHeight / (video.videoWidth / width)

          if (isNaN(height)) {
            height = width / (4 / 3)
          }

          setTimeout(function(evt) {

            video.setAttribute('width', width)
            video.setAttribute('height', height)
            canvas.setAttribute('width', width)
            canvas.setAttribute('height', height)

            var ctx = canvas.getContext('2d')
            ctx.drawImage(video, 0, 0, width, height)

            canvas.toBlob(function(blob) {
              uploadRecord(id, blob)
            })
          }, 2000)
        }

        function onStreamReady(id, stream) {
          // As of Chrome 71 createObjectURL is dropped so try direct
          // access first
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/srcObject
          try {
            video.srcObject = stream;
          } catch (error) {
            video.src = window.URL.createObjectURL(stream)
          }

          video.addEventListener('canplay', onCanPlay, false)

          video.play()
        }

        function onVideoPlaying(id, evt) {
          canvas.style.height = video.clientHeight + 'px'
          canvas.style.width = video.clientWidth + 'px'

          var ctx = canvas.getContext('2d')
          ctx.drawImage(video, 0, 0)

          canvas.toBlob(function(blob) {
            uploadRecord(id, blob)
          })
        }

        function setCameraStatus(record, id) {
          $.getJSON('node-red-camera/status', {status: record, id: id})
            .done(function () {})
            .fail(function (err) {
              console.log(err);
            })
            .always(function () {});
        }

        function takeSnapshot(id) {
          const constraints = {video : true, audio : false};
          navigator.mediaDevices.getUserMedia(constraints)
            .then(function(stream) {
              setCameraStatus(true, id)
              onStreamReady(id, stream)
            })
            .catch(function(err) {
                window.alert('Your browser does not support the camera node')
                console.log(err)
            })
        }

        function uploadRecord(id, blob) {
            var xhr = new XMLHttpRequest()
            xhr.open('POST', 'node-red-camera/' + id, true)
            xhr.send(blob)
        }

        RED.nodes.registerType('camera', {
            category: 'input',
            defaults: {
                name: {value: ''}
            },
            color: 'rgb(215, 201, 194)',
            inputs: 0,
            outputs: 1,
            icon: 'camera.png',
            paletteLabel: 'camera',
            label: function() {
                return this.name || 'camera';
            },
            labelStyle: function() {
                return this.name ? 'node_label_italic' : '';
            },
            button: {
                onclick: function(){
                    id = this.id
                    takeSnapshot(id)
                }
            }
        });
    })();
</script>
<script type="text/x-red" data-help-name="camera">
    <p>A simple camera node to capture the current image from the device webcam</p>
    <p>Usage:</p>
    <ol>
        <li>Add the camera node to your flow</li>
        <li>Click the <code>button</code> capture an image from the webcam</li>
    </ol>
    <p>The <code>png</code> image is sent as the <code>msg.payload</code> object</p>
    <p>Supported browsers</p>
    <ul>
      <li>Chrome</li>
      <li>Firefox</li>
    </ul>
</script></div></div><div id="red-ui-full-shade" class="hide" style="display: none;"></div><div id="red-ui-notifications"></div><div id="red-ui-drop-target"><div data-i18n="[append]workspace.dropFlowHere"><i class="fa fa-download"></i><br>Solte o fluxo aqui</div></div><div id="red-ui-image-drop-target" style="display: none;"><div data-i18n="[append]workspace.dropImageHere"><i class="fa fa-download"></i><br>Drop the image here</div></div><span class="red-ui-palette-label" style="position: absolute; top: -1000px;">camera</span><span class="red-ui-flow-node-label" style="position: absolute; top: -1000px;">Sada de udio</span></div>
<script src="./Global.solution02_files/vendor.js.download"></script>
<script src="./Global.solution02_files/monaco-bootstrap.js.download"></script><script src="./Global.solution02_files/pt-br.js.download"></script><script src="./Global.solution02_files/editor.js.download"></script>
<script src="./Global.solution02_files/red.min.js.download"></script>
<script src="./Global.solution02_files/main.min.js.download"></script>




<div tabindex="-1" role="dialog" class="ui-dialog red-ui-editor-dialog ui-widget ui-widget-content ui-front ui-dialog-buttons ui-draggable" aria-describedby="red-ui-library-dialog-save" aria-labelledby="ui-id-1" style="display: none;"><div class="ui-dialog-titlebar ui-corner-all ui-widget-header ui-helper-clearfix ui-draggable-handle"><span id="ui-id-1" class="ui-dialog-title">Salvar na biblioteca ...</span><button type="button" class="ui-button ui-corner-all ui-widget ui-button-icon-only ui-dialog-titlebar-close hide" title="Close"><span class="ui-button-icon ui-icon ui-icon-closethick"></span><span class="ui-button-icon-space"> </span>Close</button></div><div id="red-ui-library-dialog-save" class="hide ui-dialog-content ui-widget-content" style="display: block;"><form class="form-horizontal"><div class="red-ui-library-dialog-box" style="height: 400px; position:relative; "><div id="red-ui-library-dialog-save-browser"><div class="red-ui-library-browser"><div class="red-ui-treeList" tabindex="0" style="width: 100%; height: 100%;"><div class="red-ui-treeList-container"><div class="red-ui-editableList" style="inset: 0px; position: absolute;"><div class="red-ui-editableList-border red-ui-editableList-container" style="inset: 0px; position: absolute; max-height: none; overflow-y: auto;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="position: static; inset: auto; height: auto;"></ol></div></div></div></div></div></div><div class="form-row"><label data-i18n="clipboard.export.exportAs">Exportar como</label><input id="red-ui-library-dialog-save-filename" type="text"></div></div></form></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-corner-all ui-widget">Cancelar</button><button type="button" id="red-ui-library-dialog-save-button" class="primary ui-button ui-corner-all ui-widget">Salvar</button></div></div></div><div tabindex="-1" role="dialog" class="ui-dialog red-ui-editor-dialog ui-widget ui-widget-content ui-front ui-dialog-buttons ui-draggable" aria-describedby="red-ui-library-dialog-load" aria-labelledby="ui-id-2" style="display: none;"><div class="ui-dialog-titlebar ui-corner-all ui-widget-header ui-helper-clearfix ui-draggable-handle"><span id="ui-id-2" class="ui-dialog-title">&nbsp;</span><button type="button" class="ui-button ui-corner-all ui-widget ui-button-icon-only ui-dialog-titlebar-close hide" title="Close"><span class="ui-button-icon ui-icon ui-icon-closethick"></span><span class="ui-button-icon-space"> </span>Close</button></div><div id="red-ui-library-dialog-load" class="hide ui-dialog-content ui-widget-content" style="display: block;"><form class="form-horizontal"><div class="red-ui-library-dialog-box" style="height: 400px; position:relative; "><div id="red-ui-library-dialog-load-panes" class="red-ui-panels red-ui-panels-horizontal"><div class="red-ui-panel" id="red-ui-library-dialog-load-browser"><div class="red-ui-library-browser"><div class="red-ui-treeList" tabindex="0" style="width: 100%; height: 100%;"><div class="red-ui-treeList-container"><div class="red-ui-editableList" style="inset: 0px; position: absolute;"><div class="red-ui-editableList-border red-ui-editableList-container" style="inset: 0px; position: absolute; max-height: none; overflow-y: auto;"><ol class="red-ui-treeList-list red-ui-editableList-list" style="position: static; inset: auto; height: auto;"></ol></div></div></div></div></div></div><div class="red-ui-panels-separator ui-draggable ui-draggable-handle" style="position: relative;"></div><div class="red-ui-panel"><div id="red-ui-library-dialog-load-preview" class="red-ui-panels"><div class="red-ui-panel" id="red-ui-library-dialog-load-preview-text" style="position:relative; height: 50%; overflow-y: hidden;"></div><div class="red-ui-panels-separator ui-draggable ui-draggable-handle" style="position: relative;"></div><div class="red-ui-panel" id="red-ui-library-dialog-load-preview-details"><table id="red-ui-library-dialog-load-preview-details-table" class="red-ui-info-table"></table></div></div></div></div></div></form></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-corner-all ui-widget">Cancelar</button><button type="button" class="primary ui-button ui-corner-all ui-widget">Carregar</button></div></div></div><div class="red-ui-editor-dialog red-ui-popover-panel" style="display: none;"><ul class="red-ui-menu red-ui-menu-compact"><li><a href="http://127.0.0.1:1880/#">Configurao de ns</a></li><li><a href="http://127.0.0.1:1880/#">Configurao de ns no utilizadas</a></li><li><a href="http://127.0.0.1:1880/#">Ns e Fluxos Modificados</a></li><li><a href="http://127.0.0.1:1880/#">Ns invlidos</a></li><li><a href="http://127.0.0.1:1880/#">Ns desconhecidos</a></li><li><a href="http://127.0.0.1:1880/#">Subfluxos no utilizados</a></li><li><a href="http://127.0.0.1:1880/#">Flux escondidos</a></li><li><a href="http://127.0.0.1:1880/#">Fluxo atual</a></li></ul></div><div tabindex="-1" role="dialog" class="ui-dialog red-ui-editor-dialog ui-widget ui-widget-content ui-front ui-dialog-buttons ui-draggable" aria-describedby="red-ui-clipboard-dialog" aria-labelledby="ui-id-3" style="display: none;"><div class="ui-dialog-titlebar ui-corner-all ui-widget-header ui-helper-clearfix ui-draggable-handle"><span id="ui-id-3" class="ui-dialog-title">&nbsp;</span><button type="button" class="ui-button ui-corner-all ui-widget ui-button-icon-only ui-dialog-titlebar-close hide" title="Close"><span class="ui-button-icon ui-icon ui-icon-closethick"></span><span class="ui-button-icon-space"> </span>Close</button></div><div id="red-ui-clipboard-dialog" class="hide ui-dialog-content ui-widget-content" style="display: block;"><form class="dialog-form form-horizontal"></form></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="red-ui-clipboard-dialog-cancel" class="ui-button ui-corner-all ui-widget">Cancelar</button><button type="button" id="red-ui-clipboard-dialog-download" class="primary ui-button ui-corner-all ui-widget">Baixar</button><button type="button" id="red-ui-clipboard-dialog-export" class="primary ui-button ui-corner-all ui-widget">Copiar para rea de transferncia</button><button type="button" id="red-ui-clipboard-dialog-ok" class="primary ui-button ui-corner-all ui-widget">Importar</button><button type="button" id="red-ui-clipboard-dialog-import-conflict" class="primary ui-button ui-corner-all ui-widget">Importar selecionado</button></div></div></div><div class="monaco-aria-container"><div class="monaco-alert" role="alert" aria-atomic="true"></div><div class="monaco-alert" role="alert" aria-atomic="true"></div><div class="monaco-status" role="complementary" aria-live="polite" aria-atomic="true"></div><div class="monaco-status" role="complementary" aria-live="polite" aria-atomic="true"></div></div><input type="file"></body></html>